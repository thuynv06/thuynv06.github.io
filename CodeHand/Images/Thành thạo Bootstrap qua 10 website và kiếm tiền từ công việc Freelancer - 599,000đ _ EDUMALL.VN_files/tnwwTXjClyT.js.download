if (self.CavalryLogger) { CavalryLogger.start_js(["W7JZ8"]); }

__d("PagePluginActions",[],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports={PAGE_AVATAR:"page_avatar",PAGE_CTA:"page_cta",PAGE_LIKE:"page_like",PAGE_PERMALINK:"page_permalink",PAGE_SHARE:"page_share",PAGE_UNLIKE:"page_unlike"}}),null);
__d("PagePluginActionTypes",[],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports={CLICK:"click"}}),null);
__d("PluginConnectButtonType",[],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports={BLUE_BASE:1,WHITE_BASE:2}}),null);
__d("PluginShareLogTypes",[],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports={IMPRESSION:"impression",CLICK:"click"}}),null);
__d("PlatformDialog",["cx","DOMEventListener","DOMEvent","CSS"],function(a,b,c,d,f,g,cx){function h(j,k,l){i=this,this.$PlatformDialog1=j,this.$PlatformDialog2=k,this.$PlatformDialog3=!1,b("DOMEventListener").add(this.$PlatformDialog1,"submit",function(m){return this.$PlatformDialog3?void new(b("DOMEvent"))(m).kill():void(this.$PlatformDialog3=!0,l&&b("CSS").addClass(j,"_32qa"))}.bind(this))}b.__markCompiled&&b.__markCompiled();var i;h.getInstance=function(){return i},h.prototype.getForm=function(){return this.$PlatformDialog1},h.prototype.getDisplay=function(){return this.$PlatformDialog2},h.prototype.hasBeenSubmitted=function(){return this.$PlatformDialog3},h.RESPONSE="platform/dialog/response",f.exports=h},null);
__d("PluginLoggedOutUserTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";function g(){this.clear()}b.__markCompiled&&b.__markCompiled(),g.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$PluginLoggedOutUserTypedLogger1,b("Banzai").BASIC)},g.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$PluginLoggedOutUserTypedLogger1,b("Banzai").VITAL)},g.prototype.clear=function(){return this.$PluginLoggedOutUserTypedLogger1={},this},g.prototype.updateData=function(i){return this.$PluginLoggedOutUserTypedLogger1=babelHelpers["extends"]({},this.$PluginLoggedOutUserTypedLogger1,i),this},g.prototype.setHref=function(i){return this.$PluginLoggedOutUserTypedLogger1.href=i,this},g.prototype.setIsSDK=function(i){return this.$PluginLoggedOutUserTypedLogger1.is_sdk=i,this},g.prototype.setPluginAppID=function(i){return this.$PluginLoggedOutUserTypedLogger1.plugin_app_id=i,this},g.prototype.setPluginName=function(i){return this.$PluginLoggedOutUserTypedLogger1.plugin_name=i,this},g.prototype.setRefererURL=function(i){return this.$PluginLoggedOutUserTypedLogger1.referer_url=i,this},g.prototype.setVC=function(i){return this.$PluginLoggedOutUserTypedLogger1.vc=i,this},g.prototype.updateExtraData=function(i){return i=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(i)),b("GeneratedLoggerUtils").checkExtraDataFieldNames(i,h),this.$PluginLoggedOutUserTypedLogger1=babelHelpers["extends"]({},this.$PluginLoggedOutUserTypedLogger1,i),this},g.prototype.addToExtraData=function(i,j){var k={};return k[i]=j,this.updateExtraData(k)};var h={href:!0,is_sdk:!0,plugin_app_id:!0,plugin_name:!0,referer_url:!0,vc:!0};e.exports=g},null);
__d("ArbiterFrame",[],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled(),f.exports={inform:function h(j,k,l){var m,n=parent.frames,o=n.length;k.crossFrame=!0;for(var p=0;p<o;p++){m=n[p];try{if(!m||m==window)continue;m.require?m.require("Arbiter").inform(j,k,l):m.ServerJSAsyncLoader&&m.ServerJSAsyncLoader.wakeUp(j,k,l)}catch(q){}}}}},null);
__d("FormSubmit",["AsyncRequest","AsyncResponse","CSS","DOMQuery","Event","Form","Parent","trackReferrer"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports={send:function g(h,i){var j=(b("Form").getAttribute(h,"method")||"GET").toUpperCase();i=b("Parent").byTag(i,"button")||i;var k=b("Parent").byClass(i,"stat_elem")||h;if(b("CSS").hasClass(k,"async_saving"))return null;if(i&&(i.form!==h||"INPUT"!=i.nodeName&&"BUTTON"!=i.nodeName||"submit"!=i.type)){var l=b("DOMQuery").scry(h,".enter_submit_target")[0];l&&(i=l)}var m=b("Form").serialize(h,i);b("Form").setDisabled(h,!0);var n=b("Form").getAttribute(h,"ajaxify")||b("Form").getAttribute(h,"action"),o=!!b("Form").getAttribute(h,"data-cors");b("trackReferrer")(h,n);var p=new(b("AsyncRequest"))().setAllowCrossOrigin(o).setURI(n).setData(m).setNectarModuleDataSafe(h).setReadOnly("GET"==j).setMethod(j).setRelativeTo(h).setStatusElement(k).setInitialHandler(b("Form").setDisabled.bind(null,h,!1)).setHandler(function(q){b("Event").fire(h,"success",{response:q})}).setErrorHandler(function(q){!1!==b("Event").fire(h,"error",{response:q})&&b("AsyncResponse").defaultErrorHandler(q)}).setFinallyHandler(b("Form").setDisabled.bind(null,h,!1));return p.send(),p}}},null);
__d('Popup',[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports={open:function g(i,j,k,l){var m=document.body,n='screenX'in window?window.screenX:window.screenLeft,o='screenY'in window?window.screenY:window.screenTop,p='outerWidth'in window?window.outerWidth:m.clientWidth,q='outerHeight'in window?window.outerHeight:m.clientHeight-22,r=Math.floor(n+(p-j)/2),s=Math.floor(o+(q-k)/2.5);return window.open(i,l||'_blank',['width='+j,'height='+k,'left='+r,'top='+s,'scrollbars'].join(','))}}},null);
__d("PopupLink",["DOMEvent","DOMEventListener","Popup"],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled(),f.exports={listen:function i(j,k,l){b("DOMEventListener").add(j,"click",function(m){new(b("DOMEvent"))(m).kill(),b("Popup").open(j.href,k,l)})}}},null);
__d("PopupWindow",["DOMDimensions","DOMQuery","Layer","Popup","getViewportDimensions"],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled();var h={_opts:{allowShrink:!0,strategy:"vector",timeout:100,widthElement:null},init:function i(j){Object.assign(h._opts,j),setInterval(h._resizeCheck,h._opts.timeout)},_resizeCheck:function i(){var j=b("getViewportDimensions")(),k=h._getDocumentSize(),l=b("Layer").getTopmostLayer();if(l){var m=l.getRoot().firstChild,n=b("DOMDimensions").getElementDimensions(m);n.height+=b("DOMDimensions").measureElementBox(m,"height",!0,!0,!0),n.width+=b("DOMDimensions").measureElementBox(m,"width",!0,!0,!0),k.height=Math.max(k.height,n.height),k.width=Math.max(k.width,n.width)}var o=k.height-j.height,p=k.width-j.width;if(0>p&&!h._opts.widthElement&&(p=0),p=1<p?p:0,!h._opts.allowShrink&&0>o&&(o=0),o||p)try{window.console&&window.console.firebug,window.resizeBy(p,o),p&&window.moveBy(p/-2,0)}catch(q){}},_getDocumentSize:function i(){var j=b("DOMDimensions").getDocumentDimensions();if("offsetHeight"===h._opts.strategy&&(j.height=document.body.offsetHeight),h._opts.widthElement){var k=b("DOMQuery").scry(document.body,h._opts.widthElement)[0];k&&(j.width=b("DOMDimensions").getElementDimensions(k).width)}var l=a.Dialog;return l&&l.max_bottom&&l.max_bottom>j.height&&(j.height=l.max_bottom),j},open:function i(j,k,l,m){return b("Popup").open(j,l,k,m)}};f.exports=h},null);
__d("Queue",[],function(a,b,c,d,e,f){function g(i){this._opts=babelHelpers["extends"]({interval:0,processor:null},i),this._queue=[],this._stopped=!0}b.__markCompiled&&b.__markCompiled();var h={};g.prototype._dispatch=function(i){if(this._stopped||0===this._queue.length)return;if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=setTimeout(this._dispatch.bind(this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())},g.prototype.enqueue=function(i){return this._opts.processor&&!this._stopped?this._opts.processor.call(this,i):this._queue.push(i),this},g.prototype.start=function(i){return i&&(this._opts.processor=i),this._stopped=!1,this._dispatch(),this},g.prototype.isStarted=function(){return!this._stopped},g.prototype.dispatch=function(){this._dispatch(!0)},g.prototype.stop=function(i){return this._stopped=!0,i&&clearTimeout(this._timeout),this},g.prototype.merge=function(i,j){return this._queue[j?"unshift":"push"].apply(this._queue,i._queue),i._queue=[],this._dispatch(),this},g.prototype.getLength=function(){return this._queue.length},g.get=function(i,j){var k;return k=i in h?h[i]:h[i]=new g(j),k},g.exists=function(i){return i in h},g.remove=function(i){return delete h[i]},e.exports=g},null);
__d("TextInputControl",["DOMControl","Event","Input","debounce"],function(a,b,c,d,e,f){var h,i;function g(j){i.constructor.call(this,j);var k=this.getRoot(),l=b("debounce")(this.update.bind(this),0);b("Event").listen(k,{input:l,keydown:l,paste:l})}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("DOMControl")),i=h&&h.prototype,g.prototype.setMaxLength=function(j){return b("Input").setMaxLength(this.getRoot(),j),this},g.prototype.getValue=function(){return b("Input").getValue(this.getRoot())},g.prototype.isEmpty=function(){return b("Input").isEmpty(this.getRoot())},g.prototype.setValue=function(j){return b("Input").setValue(this.getRoot(),j),this.update(),this},g.prototype.clear=function(){return this.setValue("")},g.prototype.setPlaceholderText=function(j){return b("Input").setPlaceholder(this.getRoot(),j),this},e.exports=g},null);
__d("transferTextStyles",["Style"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,lineHeight:null,wordWrap:null};e.exports=function(h,i){for(var j in g)g.hasOwnProperty(j)&&(g[j]=b("Style").get(h,j));b("Style").apply(i,g)}},null);
__d("TextMetrics",["DOM","Style","UserAgent","transferTextStyles"],function(a,b,c,d,e,f){function g(i){var j=i.clientWidth,k="border-box"==b("Style").get(i,"-moz-box-sizing");if(k&&b("UserAgent").isBrowser("Firefox < 29"))return j;var l=b("Style").getFloat(i,"paddingLeft")+b("Style").getFloat(i,"paddingRight");return j-l}function h(i,j){this.$TextMetrics1=i,this.$TextMetrics2=!!j;var k="textarea",l="textMetrics";this.$TextMetrics2&&(k="div",l+=" textMetricsInline"),this.$TextMetrics3=b("DOM").create(k,{className:l}),b("transferTextStyles")(i,this.$TextMetrics3),document.body.appendChild(this.$TextMetrics3)}b.__markCompiled&&b.__markCompiled(),h.prototype.measure=function(i){var j=this.$TextMetrics1,k=this.$TextMetrics3;if(i=(i||j.value)+"...",!this.$TextMetrics2){var l=g(j);b("Style").set(k,"width",Math.max(l,0)+"px")}return"TEXTAREA"===j.nodeName?k.value=i:b("DOM").setContent(k,i),{width:k.scrollWidth,height:k.scrollHeight}},h.prototype.destroy=function(){b("DOM").remove(this.$TextMetrics3)},e.exports=h},null);
__d("TextAreaControl",["Arbiter","ArbiterMixin","CSS","DOMControl","Event","Style","TextInputControl","TextMetrics","classWithMixins","mixin"],function(a,b,c,d,e,f){var i,j;function g(k,l){return b("Style").getFloat(k,l)||0}function h(k){j.constructor.call(this,k),this.autogrow=b("CSS").hasClass(k,"uiTextareaAutogrow"),this.autogrowWithPlaceholder=b("CSS").hasClass(k,"uiTextareaAutogrowWithPlaceholder"),this.width=null,b("Event").listen(k,"focus",this._handleFocus.bind(this))}b.__markCompiled&&b.__markCompiled(),i=babelHelpers.inherits(h,b("classWithMixins")(b("TextInputControl"),b("mixin")(b("ArbiterMixin")))),j=i&&i.prototype,h.prototype.setAutogrow=function(k){return this.autogrow=k,this},h.prototype.onupdate=function(){j.onupdate.call(this),this.updateHeight()},h.prototype.updateHeight=function(){if(this.autogrow){var k=this.getRoot();this.metrics||(this.metrics=new(b("TextMetrics"))(k)),"undefined"==typeof this.initialHeight&&(this.isBorderBox="border-box"===b("Style").get(k,"box-sizing")||"border-box"===b("Style").get(k,"-moz-box-sizing")||"border-box"===b("Style").get(k,"-webkit-box-sizing"),this.borderBoxOffset=g(k,"padding-top")+g(k,"padding-bottom")+g(k,"border-top-width")+g(k,"border-bottom-width"),this.initialHeight=k.offsetHeight-this.borderBoxOffset);var l=null;l=(!k.value||0===k.value.length)&&this.autogrowWithPlaceholder?this.metrics.measure(k.placeholder):this.metrics.measure();var m=Math.max(this.initialHeight,l.height);this.isBorderBox&&(m+=this.borderBoxOffset),this.maxHeight&&m>this.maxHeight&&(m=this.maxHeight,b("Arbiter").inform("maxHeightExceeded",{textArea:k})),m!==this.height&&(this.height=m,b("Style").set(k,"height",m+"px"),b("Arbiter").inform("reflow"),this.inform("resize"))}else this.metrics&&(this.metrics.destroy(),this.metrics=null)},h.prototype.resetHeight=function(){this.height=-1,this.update()},h.prototype.setMaxHeight=function(k){this.maxHeight=k},h.prototype.setAutogrowWithPlaceholder=function(k){this.autogrowWithPlacedholder=k},h.prototype._handleFocus=function(){this.width=null},h.getInstance=function(k){return b("DOMControl").getInstance(k)||new h(k)},e.exports=h},null);
__d('resolveWindow',[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=window,j=g.split('.');try{for(var k=0;k<j.length;k++){var l=j[k],m=/^frames\[[\'\"]?([a-zA-Z0-9\-_]+)[\'\"]?\]$/.exec(l);if(m)h=h.frames[m[1]];else if('opener'===l||'parent'===l||'top'===l)h=h[l];else return null}}catch(n){return null}return h}},null);
__d("XD",["Arbiter","DOM","DOMDimensions","Log","PHPQuerySerializer","URI","Queue","isFacebookURI","isInIframe","resolveWindow"],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled();var h="fb_xdm_frame_"+location.protocol.replace(":",""),j={_callbacks:[],_opts:{autoResize:!1,allowShrink:!0,channelUrl:null,hideOverflow:!1,resizeTimeout:1000,resizeWidth:!1,expectResizeAck:!1,resizeAckTimeout:6000},_lastResizeAckId:0,_resizeCount:0,_resizeTimestamp:0,_shrinker:null,init:function l(m){this._opts=babelHelpers["extends"]({},this._opts,m),this._opts.autoResize&&this._startResizeMonitor(),b("Arbiter").subscribe("Connect.Unsafe.resize.ack",function(n,o){o.id||(o.id=this._resizeCount),o.id>this._lastResizeAckId&&(this._lastResizeAckId=o.id)}.bind(this))},getQueue:function l(){return this._queue||(this._queue=new(b("Queue"))),this._queue},setChannelUrl:function l(m){this.getQueue().start(function(n){return this.send(n,m)}.bind(this))},send:function l(m,n){if(n=n||this._opts.channelUrl,!n)return void this.getQueue().enqueue(m);var o={},p=new(b("URI"))(n);Object.assign(o,m,b("PHPQuerySerializer").deserialize(p.getFragment()));var q=new(b("URI"))(o.origin).getOrigin(),r=b("resolveWindow")(o.relation.replace(/^parent\./,"")),s=50,t=function(){var u=r.frames[h];try{u.proxyMessage(b("PHPQuerySerializer").serialize(o),q)}catch(v){--s?setTimeout(t,100):b("Log").warn("No such frame \""+h+"\" to proxyMessage to")}};t()},_computeSize:function l(){var m=b("DOMDimensions").getDocumentDimensions(),n=0;if(this._opts.resizeWidth){var o=document.body;if(o.clientWidth<o.scrollWidth)n=m.width;else for(var p=o.childNodes,q=0;q<p.length;q++){var r=p[q],s=r.offsetLeft+r.offsetWidth;s>n&&(n=s)}n=Math.max(n,j.forced_min_width)}return m.width=n,this._opts.allowShrink&&(!this._shrinker&&(this._shrinker=b("DOM").create("div")),b("DOM").appendContent(document.body,this._shrinker),m.height=Math.max(this._shrinker.offsetTop,0)),m},_startResizeMonitor:function l(){var m,n=document.documentElement;this._opts.hideOverflow&&(n.style.overflow="hidden",document.body.style.overflow="hidden");var o=function(){var p=this._computeSize(),q=Date.now(),r=this._lastResizeAckId<this._resizeCount&&q-this._resizeTimestamp>this._opts.resizeAckTimeout;if(!m||this._opts.expectResizeAck&&r||this._opts.allowShrink&&m.width!=p.width||!this._opts.allowShrink&&m.width<p.width||this._opts.allowShrink&&m.height!=p.height||!this._opts.allowShrink&&m.height<p.height){m=p,this._resizeCount++,this._resizeTimestamp=q;var s={type:"resize",height:p.height,ackData:{id:this._resizeCount}};p.width&&0!=p.width&&(s.width=p.width);try{if(b("isFacebookURI")(new(b("URI"))(document.referrer))&&b("isInIframe")()&&window.name&&window.parent.location&&window.parent.location.toString&&b("isFacebookURI")(new(b("URI"))(window.parent.location)))for(var t=window.parent.document.getElementsByTagName("iframe"),u=0;u<t.length;u=u+1)t[u].name==window.name&&(this._opts.resizeWidth&&(t[u].style.width=s.width+"px"),t[u].style.height=s.height+"px");this.send(s)}catch(v){this.send(s)}}}.bind(this);o(),setInterval(o,this._opts.resizeTimeout)}},k=babelHelpers["extends"]({},j);f.exports.UnverifiedXD=k,f.exports.XD=j,a.UnverifiedXD=k,a.XD=j},null);
__d("Plugin",["Arbiter","ArbiterFrame"],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled();var h={CONNECT:"platform/plugins/connect",DISCONNECT:"platform/plugins/disconnect",ERROR:"platform/plugins/error",RELOAD:"platform/plugins/reload",DIALOG:"platform/plugins/dialog",connect:function i(j,k){var l={identifier:j,href:j,story_fbid:k};b("Arbiter").inform(h.CONNECT,l),b("ArbiterFrame").inform(h.CONNECT,l)},disconnect:function i(j,k){var l={identifier:j,href:j,story_fbid:k};b("Arbiter").inform(h.DISCONNECT,l),b("ArbiterFrame").inform(h.DISCONNECT,l)},error:function i(j,k){b("Arbiter").inform(h.ERROR,{action:j,content:k})},reload:function i(j){b("Arbiter").inform(h.RELOAD,{reloadUrl:j||""}),b("ArbiterFrame").inform(h.RELOAD,{reloadUrl:j||""})},reloadOtherPlugins:function i(j,k){b("ArbiterFrame").inform(h.RELOAD,{reloadUrl:"",reload:j||"",identifier:k||""})}};f.exports=h},null);
__d("PluginCSSReflowHack",["Style"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports={trigger:function g(h){setTimeout(function(){var i="border-bottom-width",j=b("Style").get(h,i);b("Style").set(h,i,parseInt(j,10)+1+"px");var k=h.offsetHeight;return b("Style").set(h,i,j),k},1000)}}},null);
__d("StrSet",[],function(c,d,e,f,g,h){function j(k){this.$StrSet2={},this.$StrSet1=0,k&&this.addAll(k)}d.__markCompiled&&d.__markCompiled(),j.prototype.add=function(k){return this.$StrSet2.hasOwnProperty(k)||(this.$StrSet2[k]=!0,this.$StrSet1++),this},j.prototype.addAll=function(k){return k.forEach(this.add,this),this},j.prototype.remove=function(k){return this.$StrSet2.hasOwnProperty(k)&&(delete this.$StrSet2[k],this.$StrSet1--),this},j.prototype.removeAll=function(k){return k.forEach(this.remove,this),this},j.prototype.toArray=function(){return Object.keys(this.$StrSet2)},j.prototype.toMap=function(k){var l={};return Object.keys(this.$StrSet2).forEach(function(m){l[m]="function"==typeof k?k(m):k||!0}),l},j.prototype.contains=function(k){return this.$StrSet2.hasOwnProperty(k)},j.prototype.count=function(){return this.$StrSet1},j.prototype.clear=function(){return this.$StrSet2={},this.$StrSet1=0,this},j.prototype.clone=function(){return new j(this)},j.prototype.forEach=function(k,l){Object.keys(this.$StrSet2).forEach(k,l)},j.prototype.map=function(k,l){return Object.keys(this.$StrSet2).map(k,l)},j.prototype.some=function(k,l){return Object.keys(this.$StrSet2).some(k,l)},j.prototype.every=function(k,l){return Object.keys(this.$StrSet2).every(k,l)},j.prototype.filter=function(k,l){return new j(Object.keys(this.$StrSet2).filter(k,l))},j.prototype.union=function(k){return this.clone().addAll(k)},j.prototype.intersect=function(k){return this.filter(function(l){return k.contains(l)})},j.prototype.difference=function(k){return k.filter(function(l){return!this.contains(l)}.bind(this))},j.prototype.equals=function(k){var l=function(p,q){return p===q?0:p<q?-1:1},m=this.toArray(),n=k.toArray();if(m.length!==n.length)return!1;var o=m.length;for(m=m.sort(l),n=n.sort(l);o--;)if(m[o]!==n[o])return!1;return!0},g.exports=j},null);
__d("PlatformBaseVersioning",["invariant","PlatformVersions","getObjectValues","StrSet"],function(a,b,c,d,e,f,g){function h(m,n){return n==b("PlatformVersions").versions.UNVERSIONED?m:(i.contains(n)?void 0:g(0),0!==m.indexOf("/")&&(m="/"+m),"/"+n+m)}b.__markCompiled&&b.__markCompiled();var i=new(b("StrSet"))(b("getObjectValues")(b("PlatformVersions").versions)),j=location.pathname,k=j.substring(1,j.indexOf("/",1)),l=i.contains(k)?k:b("PlatformVersions").versions.UNVERSIONED;e.exports={addVersionToPath:h,getLatestVersion:function m(){return b("PlatformVersions").LATEST},versionAwareURI:function m(n){return n.setPath(h(n.getPath(),l))},versionAwarePath:function m(n){return h(n,l)},getUnversionedPath:function(m){return i.contains(m.substring(1,m.indexOf("/",1)))?m.substring(m.indexOf("/",1)):m}}},null);
__d("PlatformWidgetEndpoint",["PlatformBaseVersioning"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports={dialog:function(g,h){return b("PlatformBaseVersioning").versionAwarePath("/dialog/"+g+(h?"/"+h:""))},plugins:function(g,h){return b("PlatformBaseVersioning").versionAwarePath("/plugins/"+g+(h?"/"+h:""))},isPluginEndpoint:function(g){return /^\/plugins\//.test(b("PlatformBaseVersioning").getUnversionedPath(g))},isDialogEndpoint:function(g){return /^\/dialog\//.test(b("PlatformBaseVersioning").getUnversionedPath(g))}}},null);
__d("PluginFlyout",["csx","Arbiter","Button","CSS","DOM","DOMEvent","DOMEventListener","Focus","FormSubmit","Plugin","TextAreaControl"],function(a,b,c,d,f,g,csx){function h(m,n,o){var p=this,q=j(b("Plugin").CONNECT,function(r,s){b("Arbiter").unsubscribe(q),p.init(m,n,o),p.connect(r,s)},i);j(b("Plugin").DIALOG,function(){p.init(m,n,o),p.toggle()},i)}b.__markCompiled&&b.__markCompiled();var i=b("Arbiter").SUBSCRIBE_NEW,j=b("Arbiter").subscribe,k=b("Arbiter").inform,l=function(m,n){return b("DOMEventListener").add(m,"click",n)};Object.assign(h.prototype,{init:function m(n,o,p){if(this.initialized)return;this.initialized=!0,b("DOM").appendContent(n,JSON.parse(p));var q=b("DOM").find(n,"form"),r=b("DOM").find(q,"._56zw"),s=b("DOM").find(q,"._56zx"),t=b("DOM").find(q,"._42x4"),u=b("TextAreaControl").getInstance(t);b("DOMEventListener").add(t,"keyup",function(y){b("Button").setEnabled(r,!!u.getValue())}),b("DOMEventListener").add(window,"keydown",function(y){27===y.keyCode&&w()}),b("DOMEventListener").add(q,"submit",function(y){new(b("DOMEvent"))(y).kill(),b("FormSubmit").send(q)});var v="tiny"===o?b("DOM").find(document.body,".pluginPostFlyoutPrompt"):null;this.flyout=n,this.form=q,this.post_button=r,this.prompt=v;var w=this.hide.bind(this),x=this.show.bind(this);l(s,function(y){new(b("DOMEvent"))(y).kill(),w()}),v&&l(v,function(y){new(b("DOMEvent"))(y).kill(),x()}),j(b("Plugin").CONNECT,this.connect.bind(this),i),j(b("Plugin").DISCONNECT,function(){w()},i),j(h.SUCCESS,function(){w(),v&&b("CSS").hide(v)},i),j(b("Plugin").ERROR,function(y,z){"comment"!==z.action||(b("DOM").setContent(b("DOM").find(q,"._56zy"),z.content),b("CSS").hide(r))},i)},connect:function m(n,o){o.crossFrame||(this.prompt&&b("CSS").show(this.prompt),!o.story_fbid&&this.show())},show:function m(){this.shown=!0,b("CSS").show(this.flyout),b("CSS").show(this.post_button);var n=b("DOM").scry(this.form,"._5jjo");n?b("Focus").set(n[0]):b("Focus").set(this.form.comment),k(h.SHOW)},hide:function m(){this.shown=!1,b("CSS").hide(this.flyout),k(h.HIDE)},toggle:function m(){this.shown?this.hide():this.show()}}),Object.assign(h,{SUCCESS:"platform/plugins/flyout/success",SHOW:"platform/plugins/flyout/show",HIDE:"platform/plugins/flyout/hide",success:function m(){k(h.SUCCESS)}}),f.exports=h},null);
__d("PluginMessage",["DOMEventListener"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports={listen:function g(){b("DOMEventListener").add(window,"message",function(h){if(/\.facebook\.com$/.test(h.origin)&&/^FB_POPUP:/.test(h.data)){var i=JSON.parse(h.data.substring(9));"reload"in i&&/^https?:/.test(i.reload)&&document.location.replace(i.reload)}})}}},null);
__d("PluginOptin",["DOMEvent","DOMEventListener","PluginMessage","PopupWindow","URI","UserAgent_DEPRECATED","PlatformWidgetEndpoint","PluginLoggedOutUserTypedLogger"],function(a,b,c,d,f,g){function h(i,j){Object.assign(this,{return_params:b("URI").getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:i,api_key:j}),this.addReturnParams({ret:"optin"}),this.login_params.nux=!1,delete this.return_params.hash}b.__markCompiled&&b.__markCompiled(),Object.assign(h.prototype,{addReturnParams:function i(j){return Object.assign(this.return_params,j),this},addLoginParams:function i(j){return Object.assign(this.login_params,j),this},addOptinParams:function i(j){return Object.assign(this.optin_params,j),this},start:function i(){var j=this.api_key||127760087237610,k=new(b("URI"))(b("PlatformWidgetEndpoint").dialog("plugin.optin")).addQueryData(this.optin_params).addQueryData({app_id:j,secure:b("URI").getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});return b("UserAgent_DEPRECATED").mobile()?k.setSubdomain("m"):k.addQueryData({display:"popup"}),null!==this.return_params.act&&"send"===this.return_params.act&&new(b("PluginLoggedOutUserTypedLogger"))().setPluginAppID(j).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital(),this.popup=b("PopupWindow").open(k.toString(),420,450),b("PluginMessage").listen(),this}}),h.starter=function(i,j,k,l){var m=new h(i);return m.addReturnParams(j||{}),m.addLoginParams(k||{}),m.addOptinParams(l||{}),m.start.bind(m)},h.listen=function(i,j,k,l,m){b("DOMEventListener").add(i,"click",function(n){new(b("DOMEvent"))(n).kill(),h.starter(j,k,l,m)()})},f.exports=h},null);
__d("PluginConnectButton",["csx","cx","Arbiter","CSS","DOM","DOMDimensions","DOMEvent","DOMEventListener","Focus","FormSubmit","PlatformWidgetEndpoint","Plugin","PluginConnectButtonType","PluginFlyout","PluginOptin","Style","URI","getElementPosition"],function(a,b,c,d,f,g,csx,cx){function h(l){this.config=l,this.busy=!1;var m=b("DOM").find(l.form,".pluginConnectButton");this.buttons=m,this.node_connected=b("DOM").find(m,".pluginConnectButtonConnected"),this.node_disconnected=b("DOM").find(m,".pluginConnectButtonDisconnected");var n=function(p){new(b("DOMEvent"))(p).kill(),this.busy||(this.submit(),this.busy=this.canpersonalize)}.bind(this);k(this.node_disconnected,n),l.buttontype===b("PluginConnectButtonType").BLUE_BASE?k(b("DOM").find(m,".pluginButtonX button"),n):l.buttontype===b("PluginConnectButtonType").WHITE_BASE&&k(this.node_connected,n),k(this.node_connected,function(p){return b("Arbiter").inform(b("Plugin").DIALOG,p)});var o=this.update.bind(this);j(b("Plugin").CONNECT,o,i),j(b("Plugin").DISCONNECT,o,i),j(b("Plugin").ERROR,this.error.bind(this),i),j("Connect.Unsafe.xd/reposition",this.flip.bind(this)),j(b("PluginFlyout").HIDE,this.hideFlyout.bind(this)),l.autosubmit&&setTimeout(this.submit.bind(this),0)}b.__markCompiled&&b.__markCompiled();var i=b("Arbiter").SUBSCRIBE_NEW,j=b("Arbiter").subscribe,k=function(l,m){return b("DOMEventListener").add(l,"click",m)};Object.assign(h.prototype,{update:function l(m,n){this.busy=!1;var o=this.config;if(n.identifier!==o.identifier)return;var p=m===b("Plugin").CONNECT,q=b("PlatformWidgetEndpoint").plugins(o.plugin);q+="/"+(p?"disconnect":"connect"),b("CSS")[p?"show":"hide"](this.node_connected),b("CSS")[p?"hide":"show"](this.node_disconnected);try{if("button"===document.activeElement.nodeName.toLowerCase()){var r=p?this.node_connected:this.node_disconnected,s=b("DOM").find(r,"button");s.disabled=!1,b("Focus").set(s)}}catch(t){}o.connected=p,o.form.setAttribute("action",q),o.form.setAttribute("ajaxify",q)},error:function l(m,n){if(this.busy=!1,n.action in{connect:1,disconnect:1}){b("DOM").setContent(this.buttons,n.content);var o=b("DOM").scry(this.buttons,".confirmButton");1===o.length&&b("Focus").set(o[0])}},submit:function l(){return this.config.canpersonalize?void(b("FormSubmit").send(this.config.form),this.fireStateToggle()):this.login()},fireStateToggle:function l(){var m=this.config;m.connected?b("Plugin").disconnect(m.identifier):b("Plugin").connect(m.identifier)},login:function l(){var m=this.config.plugin;new(b("PluginOptin"))(m,b("URI").getRequestURI().getQueryData().api_key).addReturnParams({act:"connect"}).addLoginParams({social_plugin_action:this.config.pluginaction}).start()},flip:function l(m,n){var o=b("DOM").scry(document.body,"._4xn8");if(0===o.length)return;o=o[0];var p,q=b("DOM").scry(this.config.form,".pluginConnectButtonConnected .pluginButtonIcon"),r="none"===b("Style").get(q[0],"display")?q[1]:q[0],s=b("DOM").find(document.body,".pluginConnectButtonLayoutRoot");"reposition"===n.type?(b("CSS").addClass(s,"_1f8a"),b("Style").set(s,"padding-left",450-s.offsetWidth+"px"),b("CSS").removeClass(s,"_1f8b"),p=b("getElementPosition")(r).x+b("DOMDimensions").getElementDimensions(r).width/2-6):(b("CSS").addClass(s,"_1f8b"),b("Style").set(s,"padding-left","0px"),b("CSS").removeClass(s,"_1f8a"),p=6),b("Style").set(o,"left",p+"px")},hideFlyout:function l(){b("Focus").set(this.connected?this.node_disconnected:this.node_connected)}}),f.exports=h},null);
__d("UnverifiedXD",["XD"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("XD").UnverifiedXD;e.exports=g},null);
__d("PluginResize",["Locale","Log","UnverifiedXD","getOffsetParent","getStyleProperty"],function(a,b,c,d,e,f){function g(k){k=k||document.body;var l=0,m=b("getOffsetParent")(k);return b("Locale").isRTL()&&m?l=m.offsetWidth-k.offsetLeft-k.offsetWidth:!b("Locale").isRTL()&&(l=k.offsetLeft),h(k)+l}function h(k){return Math.ceil(parseFloat(b("getStyleProperty")(k,"width")))||k.offsetWidth}function i(k){return k=k||document.body,k.offsetHeight+k.offsetTop}function j(k,l,m,n){this.calcWidth=k||g,this.calcHeight=l||i,this.width=void 0,this.height=void 0,this.reposition=!!n,this.event=m||"resize"}b.__markCompiled&&b.__markCompiled(),Object.assign(j.prototype,{resize:function k(){var l=this.calcWidth(),m=this.calcHeight();return(l!==this.width||m!==this.height)&&(b("Log").debug("Resizing Plugin: (%s, %s, %s, %s)",l,m,this.event,this.reposition),this.width=l,this.height=m,b("UnverifiedXD").send({type:this.event,width:l,height:m,reposition:this.reposition})),this},auto:function k(l){return setInterval(this.resize.bind(this),l||250),this}}),j.auto=function(k,l,m){return new j(g.bind(null,k),i.bind(null,k),l).resize().auto(m)},j.autoHeight=function(k,l,m,n){return new j(function(){return k},i.bind(null,l),m).resize().auto(n)},j.getElementWidth=h,e.exports=j},null);
__d("PluginConnectButtonResize",["DOMDimensions","DOMQuery","PluginResize","Style","getElementPosition"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h,i){function j(){var k=b("DOMQuery").scry(document.body,".uiTypeaheadView")[0];if(!k)return{x:0,y:0};var l=b("getElementPosition")(k),m=b("DOMDimensions").getElementDimensions(k);return{x:l.x+m.width,y:l.y+m.height}}i&&b("Style").set(g,"width",i+"px"),b("PluginResize").auto(g,"resize.flow"),new(b("PluginResize"))(function(){return Math.max(b("PluginResize").getElementWidth(g),h&&h.offsetWidth,j().x)},function(){return Math.max(g.offsetHeight,h?h.offsetHeight+h.offsetTop:0,j().y)},"resize.iframe",!0).resize().auto()}},null);
__d("PluginConnection",["Arbiter","CSS","Plugin"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=function(){};Object.assign(g.prototype,{init:function h(j,k,l,m){return m=m||b("Plugin").CONNECT,this.identifier=j,this.element=k,this.css=l,b("Arbiter").subscribe([b("Plugin").CONNECT,b("Plugin").DISCONNECT],function(n,o){return j===o.href&&b("CSS")[n===m?"addClass":"removeClass"](k,l),!0}),this},connected:function h(){return b("CSS").hasClass(this.element,this.css)},connect:function h(){return b("Arbiter").inform(b("Plugin").CONNECT,{href:this.identifier},b("Arbiter").BEHAVIOR_STATE)},disconnect:function h(){return b("Arbiter").inform(b("Plugin").DISCONNECT,{href:this.identifier},b("Arbiter").BEHAVIOR_STATE)},toggle:function h(){return this.connected()?this.disconnect():this.connect()}}),g.init=function(h){for(var j,k=0;k<h.length;k++)j=new g,j.init.apply(j,h[k])},e.exports=g},null);
__d("PluginPageActionLogger",["BanzaiLogger","DOM","Event","PagePluginActions","PagePluginActionTypes"],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled(),f.exports={initializeClickLoggers:function h(i,j,k,l,m,n,o,p,q,r){var s=function(t,u){try{var v=b("DOM").find(l,"."+t);b("Event").listen(v,"click",function(w){b("BanzaiLogger").log("PagePluginActionsLoggerConfig",{page_id:j,page_plugin_action:u,page_plugin_action_type:b("PagePluginActionTypes").CLICK,referer_url:k,is_sdk:i})})}catch(w){}};s(m,b("PagePluginActions").PAGE_LIKE),s(n,b("PagePluginActions").PAGE_UNLIKE),s(o,b("PagePluginActions").PAGE_AVATAR),s(p,b("PagePluginActions").PAGE_PERMALINK),s(q,b("PagePluginActions").PAGE_SHARE),s(r,b("PagePluginActions").PAGE_CTA)}}},null);
__d("PluginReturn",["invariant","Arbiter","Log","PlatformDialog","Plugin","URI","PlatformWidgetEndpoint"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled(),b("Arbiter").subscribe(b("PlatformDialog").RESPONSE,function(i,j){return j.error_code?void b("Log").debug("Plugin Return Error (%s): %s",j.error_code,j.error_message||j.error_description):void b("Plugin").reload(j.plugin_reload)});var h={auto:function i(){b("Arbiter").subscribe(b("Plugin").RELOAD,function(j,k){var l="object"==typeof k?k.reloadUrl:k;h.reload(l)})},syncPlugins:function i(){b("Arbiter").subscribe(b("Plugin").RELOAD,function(j,k){k.crossFrame&&h.reload(k.reloadUrl,k.reload,k.identifier)})},reload:function(i,j,k){var l=b("URI").getRequestURI().removeQueryData("ret").removeQueryData("act").removeQueryData("hash").addQueryData("reload",j).addQueryData("id",k);if(i){var j=new(b("URI"))(i);b("PlatformWidgetEndpoint").isPluginEndpoint(j.getPath())?void 0:g(0),l.setPath(j.getPath()).addQueryData(j.getQueryData())}window.location.replace(l.toString())}};e.exports=h},null);
__d("XSharePluginLoggingController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/platform/plugin/share/logging/",{})}),null);
__d("PluginShareActions",["AsyncRequest","Event","UnverifiedXD","PluginShareLogTypes","XSharePluginLoggingController"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports={init:function g(h,i,j,k,l,m,n){b("Event").listen(l,"click",function(o){new(b("AsyncRequest"))().setURI(b("XSharePluginLoggingController").getURIBuilder().getURI()).setData({app_id:m,href:h,layout:i,event:b("PluginShareLogTypes").CLICK,has_iframe:j,referer_url:k,new_ui:n}).send()})},triggerMobileIframe:function g(h,i){b("Event").listen(i,"click",function(j){b("UnverifiedXD").send({type:"shareTriggerMobileIframe",data:JSON.stringify({href:h})})})}}},null);
__d("PluginXDReady",["Arbiter","UnverifiedXD"],function(a,b,c,d,f,g){b.__markCompiled&&b.__markCompiled(),a.XdArbiter={handleMessage:function h(i){if(!i.method)return;try{b("Arbiter").inform("Connect.Unsafe."+i.method,JSON.parse(i.params),b("Arbiter").BEHAVIOR_PERSISTENT)}catch(j){}}},b("UnverifiedXD").send({xd_action:"plugin_ready",name:window.name}),f.exports=null},null);