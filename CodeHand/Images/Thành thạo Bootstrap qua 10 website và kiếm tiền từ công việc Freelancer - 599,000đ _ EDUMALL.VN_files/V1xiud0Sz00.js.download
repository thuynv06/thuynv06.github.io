if (self.CavalryLogger) { CavalryLogger.start_js(["H2j5X"]); }

__d("CommentsPluginSentryAction",[],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"}}),null);
__d("DeveloperCommentsModerationSource",[],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports={APP:"app",URL:"url"}}),null);
__d("SelectionState",["immutable"],function(a,b,c,d,e,f){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var i=b("immutable").Record,j=i({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1});h=babelHelpers.inherits(g,j),h&&h.prototype,g.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+(this.getIsBackward()+"")+", Has Focus: "+(this.getHasFocus()+"")},g.prototype.getAnchorKey=function(){return this.get("anchorKey")},g.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},g.prototype.getFocusKey=function(){return this.get("focusKey")},g.prototype.getFocusOffset=function(){return this.get("focusOffset")},g.prototype.getIsBackward=function(){return this.get("isBackward")},g.prototype.getHasFocus=function(){return this.get("hasFocus")},g.prototype.hasEdgeWithin=function(k,l,m){var n=this.getAnchorKey(),o=this.getFocusKey();if(n===o&&n===k){var p=this.getStartOffset(),q=this.getEndOffset();return l<=q&&p<=m}if(k!==n&&k!==o)return!1;var r=k===n?this.getAnchorOffset():this.getFocusOffset();return l<=r&&m>=r},g.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},g.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},g.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},g.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},g.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},g.createEmpty=function(k){return new g({anchorKey:k,anchorOffset:0,focusKey:k,focusOffset:0,isBackward:!1,hasFocus:!1})},e.exports=g},null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("React").PropTypes,h={viewID:g.string.isRequired,selection:g.instanceOf(b("SelectionState")).isRequired,contextComponent:g.object.isRequired,mentionableEntries:g.array.isRequired,highlightedMentionable:g.instanceOf(b("SearchableEntry")),onMentionSelect:g.func.isRequired,onMentionHighlight:g.func.isRequired,onMentionRenderHighlight:g.func.isRequired};e.exports=h},null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],function(a,b,c,d,f,g){function h(q){b("Bootloader").loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(r,s,t,u){i=r,j=s,k=t,l=u,n=!0,q()},"MentionsLayer.react")}b.__markCompiled&&b.__markCompiled();var i,j,k,l,m=b("React").PropTypes,n=!1,o=b("Locale").isRTL(),p=b("React").createClass({displayName:"MentionsLayer",propTypes:babelHelpers["extends"]({},b("MentionResultsPropTypes"),{typeaheadView:m.func.isRequired,typeaheadViewProps:m.object,autoflip:m.bool,position:m.oneOf(["above","below"])}),getInitialState:function q(){return{bootloaded:n}},componentWillMount:function q(){this.state.bootloaded||h(function(){this.isMounted()&&this.setState({bootloaded:!0})}.bind(this))},_onMentionSelect:function q(r,s){s.preventDefault(),this.props.onMentionSelect(r,s)},shouldComponentUpdate:function q(r,s){return this.state.bootloaded!==s.bootloaded||!b("areEqual")(this.props.mentionableEntries,r.mentionableEntries)||this.props.highlightedMentionable!==r.highlightedMentionable||this.props.characterOffset!==r.characterOffset},render:function q(){if(!this.state.bootloaded)return null;var r=this.props.mentionableEntries,s=this.props.selection,t=s.isCollapsed()&&s.getHasFocus()&&r&&r.length,u=null,v=this.props.typeaheadViewProps,w=!1;v&&v.positionAtContext?w=!0:t&&(u=l(this.props.characterOffset,o));var x={};this.props.autoflip&&(x.ContextualLayerAutoFlip=j,x.ContextualLayerUpdateOnScroll=k);var y=this.props.typeaheadView;return b("React").createElement(i,{shown:t,context:this.props.contextComponent,contextBounds:u,containerWidthMatchContext:w,offsetY:5,position:this.props.position||"below",behaviors:x,shouldSetARIAProperties:!1},b("React").createElement(y,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:r||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight}))}});f.exports=p},null);
__d("ActorBio.react",["fbt","React"],function(a,b,c,d,e,f,g){"use strict";var k,l;function h(){for(var n,o,p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.renderLink=function(s){return"url"in s?b("React").createElement("a",babelHelpers["extends"]({},this.props,{href:s.url}),s.name):b("React").createElement("span",null,s.name)}.bind(this),this.renderItem=function(s,t){var u=void 0;switch(s){case"employer":u="position"in t?g._("{position} t\u1ea1i {employer}",[g.param("position",this.renderLink(t.position)),g.param("employer",this.renderLink(t))]):g._("L\u00e0m vi\u1ec7c t\u1ea1i {employer}",[g.param("employer",this.renderLink(t))]);break;case"mutual_friend":u=g._("B\u1ea1n v\u1edbi {user}",[g.param("user",this.renderLink(t))]);break;default:return this.renderLink(t);}return b("React").createElement("span",null,u)}.bind(this),o}b.__markCompiled&&b.__markCompiled();var m=b("React").PropTypes;k=babelHelpers.inherits(h,b("React").Component),l=k&&k.prototype,h.prototype.render=function(){for(var n=this.props.stats,o=this.props.preferredTypes,p=0;p<o.length;p++)for(var q=0;q<o[p].length;q++){var r=o[p][q];if(r in n)return this.renderItem(r,n[r])}return b("React").createElement("span",null)},h.propTypes={stats:m.object.isRequired,preferredTypes:m.array.isRequired},e.exports=h},null);
__d("CompositeDraftDecorator",["immutable"],function(a,b,c,d,e,f){"use strict";function g(l){this.$CompositeDraftDecorator1=l.slice()}function h(l,m,n){for(var o=m;o<n;o++)if(null!=l[o])return!1;return!0}function i(l,m,n,o){for(var p=m;p<n;p++)l[p]=o}b.__markCompiled&&b.__markCompiled();var j=b("immutable").List,k=".";g.prototype.getDecorations=function(l){var m=Array(l.getText().length).fill(null);return this.$CompositeDraftDecorator1.forEach(function(n,o){var p=0,q=n.strategy;q(l,function(r,s){h(m,r,s)&&(i(m,r,s,o+k+p),p++)})}),j(m)},g.prototype.getComponentForKey=function(l){var m=parseInt(l.split(k)[0],10);return this.$CompositeDraftDecorator1[m].component},g.prototype.getPropsForKey=function(l){var m=parseInt(l.split(k)[0],10);return this.$CompositeDraftDecorator1[m].props},e.exports=g},null);
__d("EmojiSpan.react",["cx","EmojiRenderer","EmojiConfig","EmojiImageURL","SupportedEmoji","Utf16","React"],function(a,b,c,d,f,g,cx){var j;function h(m){if("string"==typeof m||"number"==typeof m)return""+m;return Array.isArray(m)?m.map(h).join(""):m&&m.props&&m.props.text?m.props.text:m&&m.props&&m.children?h(m.props.children):""}function i(){j.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var k=b("EmojiImageURL").getFBEmojiURL,l=b("EmojiImageURL").getUnicodeURL;j=babelHelpers.inherits(i,b("React").Component),j&&j.prototype,i.prototype.render=function(){var m=b("EmojiRenderer").parse(h(this.props.children),1);if(1===m.length){var n=m[0].emoji,o=n.map(function(q){return b("Utf16").decode(q).toString(16)}).join("_");if(b("SupportedEmoji").emoji.hasOwnProperty(o)){var p=b("EmojiConfig").hasFBEmoji?k(o):l(o);return b("React").createElement("span",{className:"_3gl1",style:{backgroundImage:"url("+p+")"}},b("React").createElement("span",{className:"_3gl2"},this.props.children))}}return b("React").createElement("span",null,this.props.children)},f.exports=i},null);
__d("EmoticonSpan.react",["cx","DraftEntity","React","joinClasses"],function(a,b,c,d,e,f,cx){var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){var i=b("DraftEntity").get(this.props.entityKey),j=i.getData(),k=j.type,l=b("joinClasses")("_1ty6","emoticon_"+k);return b("React").createElement("span",{className:l,title:k,"data-offset-key":this.props.offsetKey},b("React").createElement("span",{className:"_5ukz"},this.props.children))},e.exports=g},null);
__d("HashtagSpan.react",["cx","React"],function(a,b,c,d,e,f,cx){var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){return b("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5u8n",spellCheck:!1}),this.props.children)},e.exports=g},null);
__d("MentionSpan.react",["cx","React"],function(a,b,c,d,e,f,cx){var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){return b("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5u8u",spellCheck:!1}),this.props.children)},e.exports=g},null);
__d("WeakMentionSpan.react",["cx","React"],function(a,b,c,d,e,f,cx){var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){return b("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:!1},this.props.children)},e.exports=g},null);
__d("getEmojiMatches",["EmojiRenderer"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h){for(var j=g.getText(),k=b("EmojiRenderer").parse(j),l=0;l<k.length;l++){var m=k[l],n=m.offset,o=m.length;h(n,n+o)}}},null);
__d("getEntityMatcher",["DraftEntity"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("DraftEntity").get;e.exports=function(h,i){return function(j,k){j.findEntityRanges(function(l){var m=l.getEntity();return"string"==typeof m&&h((i||g)(m))},k)}}},null);
__d("getHashtagMatches",["getHashtagRegex"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("getHashtagRegex")();e.exports=function(h,i){for(var j,k,l,m,n=h.getText();null!==(j=g.exec(n));)k=j.index+j[1].length,l=j[2],m=j[3],i(k,k+l.length+m.length)}},null);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmojiSpan.react","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","EmojiConfig","getEntityMatcher","getHashtagMatches","getEmojiMatches"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g,h=b("EmojiConfig").hasFBEmojiInComposer;e.exports=function(){if(!g){var i=[{strategy:b("getEntityMatcher")(function(j){var k=j.getData();return"MENTION"===j.getType()&&k&&k.isWeak}),component:b("WeakMentionSpan.react")},{strategy:b("getEntityMatcher")(function(j){return"MENTION"===j.getType()}),component:b("MentionSpan.react")},{strategy:b("getEntityMatcher")(function(j){return"EMOTICON"===j.getType()}),component:b("EmoticonSpan.react")},{strategy:b("getHashtagMatches"),component:b("HashtagSpan.react")}];h&&i.push({strategy:b("getEmojiMatches"),component:b("EmojiSpan.react")}),g=new(b("CompositeDraftDecorator"))(i)}return g}},null);
__d("UFIAttachedMediaPreview.react",["cx","fbt","Arbiter","BootloadedComponent.react","CloseButton.react","DOMContainer.react","DOMVector","HTML","Image.react","LoadingIndicator.react","React","ReactDOM","UFIUIEvents","XUISpinner.react","JSResource"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(){for(var m,n,o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$UFIAttachedMediaPreview1=0,this.$UFIAttachedMediaPreview2=function(r,s){var t=void 0,u=void 0,v=void 0;return s>r?(v=l/s,t=r*v,u=s*v):(v=l/r,t=r*v,u=s*v),{height:Math.round(t),width:Math.round(u)}},this.$UFIAttachedMediaPreview3=function(){var r=b("ReactDOM").findDOMNode(this),s=r?b("DOMVector").getElementDimensions(r).y:0;s!==this.$UFIAttachedMediaPreview1&&(this.$UFIAttachedMediaPreview1=s,b("Arbiter").inform(b("UFIUIEvents").PhotoPreviewHeightChanged,{node:r}))}.bind(this),n}b.__markCompiled&&b.__markCompiled();var k=b("React").PropTypes,l=80;i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.componentDidUpdate=function(){this.props.monitorHeight&&this.$UFIAttachedMediaPreview3()},h.prototype.render=function(){var m=null,n=this.props.attachedPhoto||this.props.attachedSticker||this.props.attachedVideo;if(n&&this.props.attachedSticker){var o=this.$UFIAttachedMediaPreview2(n.metadata.height,n.metadata.width),p=null,q=null;window.devicePixelRatio&&1<window.devicePixelRatio?(p=n.metadata.sprite_uri_2x,q=n.metadata.source_uri_2x):(p=n.metadata.sprite_uri,q=n.metadata.source_uri),m=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFIAttachedMediaPreview.react"),animationTrigger:"load_and_hover",frameCount:n.metadata.frameCount,frameRate:n.metadata.frameRate,framesPerCol:n.metadata.framesPerCol,framesPerRow:n.metadata.framesPerRow,spriteURI:p,sourceHeight:o.height,sourceURI:q,sourceWidth:o.width})}else if(n&&this.props.attachedPhoto){var r=n.markupPreview;r?(b("HTML").isHTML(r.markup)&&(r=b("HTML").replaceJSONWrapper(r.markup).getRootNode()),m=b("React").createElement(b("DOMContainer.react"),{"data-testid":"ufi_photo_preview_test_id"},r)):this.props.attachedPhoto&&this.props.attachedPhoto.metadata&&this.props.attachedPhoto.metadata.preview_uri&&(m=b("React").createElement("div",{style:{height:this.props.attachedPhoto.metadata.height}},b("React").createElement(b("Image.react"),{src:this.props.attachedPhoto.metadata.preview_uri})))}else this.props.isLoadingPhoto?m=b("React").createElement(b("LoadingIndicator.react"),{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"}):"uploading"===this.props.videoStatus||this.props.attachedVideo&&"encoding"===this.props.videoStatus?m=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("OptimisticVideoComment.react").__setRef("UFIAttachedMediaPreview.react"),bootloadPlaceholder:b("React").createElement("span",null),videoFileURL:this.props.videoFileURL,videoStatus:this.props.videoStatus,progress:this.props.videoProgress}):n&&this.props.attachedVideo&&(m=b("React").createElement("div",{className:"_3f0q"},b("React").createElement(b("DOMContainer.react"),null,n.markup)));var s=null,t=this.props.attachedSticker?this.props.onRemoveAttachedStickerPreview:this.props.onRemoveAttachedMediaPreviewClicked;if(null!=m){var u=null;this.props.attachedSticker?u=g._("X\u00f3a nh\u00e3n d\u00e1n"):this.props.attachedPhoto?u=g._("X\u00f3a \u1ea3nh"):this.props.attachedVideo&&(u=g._("X\u00f3a video")),s=b("React").createElement("div",{className:"UFICommentPhotoAttachedPreview pas"},m,b("React").createElement(b("CloseButton.react"),{tooltip:u,onClick:t,ariaLabel:u}))}return s},h.propTypes={attachedPhoto:k.object,attachedVideo:k.object,attachedSticker:k.object,onRemoveAttachedMediaPreviewClicked:k.func,onRemoveAttachedStickerPreview:k.func,subtitle:k.string,isLoadingPhoto:k.bool,videoFileURL:k.string,videoStatus:k.string,videoProgress:k.number},e.exports=h},null);
__d("CharacterMetadata",["immutable"],function(a,b,c,d,e,f){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var i=b("immutable").Map,j=b("immutable").OrderedSet,k=b("immutable").Record,l=j(),m={style:l,entity:null},n=k(m);h=babelHelpers.inherits(g,n),h&&h.prototype,g.prototype.getStyle=function(){return this.get("style")},g.prototype.getEntity=function(){return this.get("entity")},g.prototype.hasStyle=function(q){return this.getStyle().has(q)},g.applyStyle=function(q,r){var s=q.set("style",q.getStyle().add(r));return g.create(s)},g.removeStyle=function(q,r){var s=q.set("style",q.getStyle().remove(r));return g.create(s)},g.applyEntity=function(q,r){var s=q.getEntity()===r?q:q.set("entity",r);return g.create(s)},g.create=function(q){if(!q)return o;var r=i({style:l,entity:null}).merge(q),s=p.get(r);if(s)return s;var t=new g(r);return p=p.set(r,t),t};var o=new g,p=i([[i(m),o]]);g.EMPTY=o,e.exports=g},null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],function(a,b,c,d,e,f){"use strict";function g(i,j,l,m){var n=i.getBlockMap(),o=j.getStartKey(),p=j.getStartOffset(),q=j.getEndKey(),r=j.getEndOffset(),s=n.skipUntil(function(t,u){return u===o}).takeUntil(function(t,u){return u===q}).concat(h([[q,n.get(q)]])).map(function(t,u){var v,w;o===q?(v=p,w=r):(v=u===o?p:0,w=u===q?r:t.getLength());for(var x,y=t.getCharacterList();v<w;)x=y.get(v),y=y.set(v,m?b("CharacterMetadata").applyStyle(x,l):b("CharacterMetadata").removeStyle(x,l)),v++;return t.set("characterList",y)});return i.merge({blockMap:n.merge(s),selectionBefore:j,selectionAfter:j})}b.__markCompiled&&b.__markCompiled();var h=b("immutable").Map;e.exports={add:function i(j,l,m){return g(j,l,m,!0)},remove:function i(j,l,m){return g(j,l,m,!1)}}},null);
__d("applyEntityToContentBlock",["CharacterMetadata"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h,i,j){for(var k=g.getCharacterList();h<i;)k=k.set(h,b("CharacterMetadata").applyEntity(k.get(h),j)),h++;return g.set("characterList",k)}},null);
__d("applyEntityToContentState",["immutable","applyEntityToContentBlock"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h,i){var j=g.getBlockMap(),l=h.getStartKey(),m=h.getStartOffset(),n=h.getEndKey(),o=h.getEndOffset(),p=j.skipUntil(function(q,r){return r===l}).takeUntil(function(q,r){return r===n}).toOrderedMap().merge(b("immutable").OrderedMap([[n,j.get(n)]])).map(function(q,r){var s=r===l?m:0,t=r===n?o:q.getLength();return b("applyEntityToContentBlock")(q,s,t,i)});return g.merge({blockMap:j.merge(p),selectionBefore:h,selectionAfter:h})}},null);
__d('DraftEntitySegments',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled(),e.exports={getRemovalRange:function g(h,i,j,k,l){var m=j.split(' ');m=m.map(function(w,x){if('forward'===l){if(0<x)return' '+w}else if(x<m.length-1)return w+' ';return w});for(var n,o,p=k,q=null,r=null,s=0;s<m.length;s++){if(o=m[s],n=p+o.length,h<n&&p<i)null==q?(q=p,r=n):r=n;else if(null!==q)break;p=n}var t=k+j.length,u=q===k,v=r===t;return(!u&&v||u&&!v)&&('forward'===l?r!==t&&r++:q!==k&&q--),{start:q,end:r}}}},null);
__d("getRangesForDraftEntity",["invariant"],function(a,b,d,e,f,g,h){"use strict";b.__markCompiled&&b.__markCompiled(),f.exports=function(i,j){var k=[];return i.findEntityRanges(function(l){return l.getEntity()===j},function(l,m){k.push({start:l,end:m})}),!k.length?h(0):void 0,k}},null);
__d("getCharacterRemovalRange",["invariant","DraftEntity","DraftEntitySegments","getRangesForDraftEntity"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(h,i,j){var k=i.getStartOffset(),l=i.getEndOffset(),m=h.getEntityAt(k);if(!m)return i;var n=b("DraftEntity").get(m),o=n.getMutability();if("MUTABLE"===o)return i;var p=b("getRangesForDraftEntity")(h,m).filter(function(s){return k<s.end&&l>s.start});1==p.length?void 0:g(0);var q=p[0];if("IMMUTABLE"===o)return i.merge({anchorOffset:q.start,focusOffset:q.end,isBackward:!1});var r=b("DraftEntitySegments").getRemovalRange(k,l,h.getText().slice(q.start,q.end),q.start,j);return i.merge({anchorOffset:r.start,focusOffset:r.end,isBackward:!1})}},null);
__d("generateRandomKey",[],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g={},h=Math.pow(2,24);e.exports=function(){for(var i=void 0;i===void 0||g.hasOwnProperty(i)||!isNaN(+i);)i=Math.floor(Math.random()*h).toString(32);return g[i]=!0,i}},null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","DraftEntity","findRangesImmutable"],function(c,d,e,f,g,h,i){"use strict";function j(l,m,n){var o;return d("findRangesImmutable")(l,function(p,q){return p.getEntity()===q.getEntity()},function(p){return p.getEntity()===m},function(p,q){p<=n&&q>=n&&(o={start:p,end:q})}),"object"==typeof o?void 0:i(0),o}function k(l,m){var n=l.getCharacterList(),o=0<m?n.get(m-1):void 0,p=m<n.count()?n.get(m):void 0,q=o?o.getEntity():void 0,r=p?p.getEntity():void 0;if(r&&r===q){var s=d("DraftEntity").get(r);if("MUTABLE"!==s.getMutability()){for(var t,u=j(n,r,m),v=u.start,w=u.end;v<w;)t=n.get(v),n=n.set(v,d("CharacterMetadata").applyEntity(t,null)),v++;return l.set("characterList",n)}}return l}d.__markCompiled&&d.__markCompiled(),g.exports=function(l,m){var n=l.getBlockMap(),o={},p=m.getStartKey(),q=m.getStartOffset(),r=n.get(p),s=k(r,q);s!==r&&(o[p]=s);var t=m.getEndKey(),u=m.getEndOffset(),v=n.get(t);p===t&&(v=s);var w=k(v,u);return w!==v&&(o[t]=w),Object.keys(o).length?l.merge({blockMap:n.merge(o),selectionAfter:m}):l.set("selectionAfter",m)}},null);
__d("getContentStateFragment",["generateRandomKey","removeEntitiesAtEdges"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h){var i=h.getStartKey(),j=h.getStartOffset(),k=h.getEndKey(),l=h.getEndOffset(),m=b("removeEntitiesAtEdges")(g,h),n=m.getBlockMap(),o=n.keySeq(),p=o.indexOf(i),q=o.indexOf(k)+1,r=n.slice(p,q).map(function(s,t){var u=b("generateRandomKey")(),v=s.getText(),w=s.getCharacterList();return i===k?s.merge({key:u,text:v.slice(j,l),characterList:w.slice(j,l)}):t===i?s.merge({key:u,text:v.slice(j),characterList:w.slice(j)}):t===k?s.merge({key:u,text:v.slice(0,l),characterList:w.slice(0,l)}):s.set("key",u)});return r.toOrderedMap()}},null);
__d("BlockMapBuilder",["immutable"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("immutable").OrderedMap;e.exports={createFromArray:function h(i){return g(i.map(function(j){return[j.getKey(),j]}))}}},null);
__d("insertIntoList",[],function(a,b,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),f.exports=function(h,i,j){if(j===h.count())i.forEach(function(m){h=h.push(m)});else if(0===j)i.reverse().forEach(function(m){h=h.unshift(m)});else{var k=h.slice(0,j),l=h.slice(j);h=k.concat(i,l).toList()}return h}},null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","generateRandomKey","insertIntoList"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(h,i,j){i.isCollapsed()?void 0:g(0);var k,l,m=i.getStartKey(),n=i.getStartOffset(),o=h.getBlockMap(),p=j.size;if(1===p){var q=o.get(m),r=j.first(),s=q.getText(),t=q.getCharacterList(),u=q.merge({text:s.slice(0,n)+r.getText()+s.slice(n),characterList:b("insertIntoList")(t,r.getCharacterList(),n),data:r.getData()});return o=o.set(m,u),k=m,l=n+r.getText().length,h.merge({blockMap:o.set(m,u),selectionBefore:i,selectionAfter:i.merge({anchorKey:k,anchorOffset:l,focusKey:k,focusOffset:l,isBackward:!1})})}var v=[];return h.getBlockMap().forEach(function(w,x){if(x!==m)return void v.push(w);var y=w.getText(),z=w.getCharacterList(),A=y.length,B=y.slice(0,n),C=z.slice(0,n),D=j.first(),E=w.merge({text:B+D.getText(),characterList:C.concat(D.getCharacterList()),type:B?w.getType():D.getType(),data:D.getData()});v.push(E),j.slice(1,p-1).forEach(function(J){v.push(J.set("key",b("generateRandomKey")()))});var F=y.slice(n,A),G=z.slice(n,A),H=j.last();k=b("generateRandomKey")();var I=H.merge({key:k,text:H.getText()+F,characterList:H.getCharacterList().concat(G),data:H.getData()});v.push(I)}),l=j.last().getLength(),h.merge({blockMap:b("BlockMapBuilder").createFromArray(v),selectionBefore:i,selectionAfter:i.merge({anchorKey:k,anchorOffset:l,focusKey:k,focusOffset:l,isBackward:!1})})}},null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("immutable").Repeat;e.exports=function(i,j,k,l){j.isCollapsed()?void 0:g(0);var m=k.length;if(!m)return i;var n=i.getBlockMap(),o=j.getStartKey(),p=j.getStartOffset(),q=n.get(o),r=q.getText(),s=q.merge({text:r.slice(0,p)+k+r.slice(p,q.getLength()),characterList:b("insertIntoList")(q.getCharacterList(),h(l,m).toList(),p)}),t=p+m;return i.merge({blockMap:n.set(o,s),selectionAfter:j.merge({anchorOffset:t,focusOffset:t})})}},null);
__d("modifyBlockForContentState",["immutable"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("immutable").Map;e.exports=function(h,i,j){var l=i.getStartKey(),m=i.getEndKey(),n=h.getBlockMap(),o=n.toSeq().skipUntil(function(p,q){return q===l}).takeUntil(function(p,q){return q===m}).concat(g([[m,n.get(m)]])).map(j);return h.merge({blockMap:n.merge(o),selectionBefore:i,selectionAfter:i})}},null);
__d("removeRangeFromContentState",["immutable"],function(a,b,c,d,e,f){"use strict";function g(h,i,j){if(0===i)for(;i<j;)h=h.shift(),i++;else if(j===h.count())for(;j>i;)h=h.pop(),j--;else{var l=h.slice(0,i),m=h.slice(j);h=l.concat(m).toList()}return h}b.__markCompiled&&b.__markCompiled(),e.exports=function(h,i){if(i.isCollapsed())return h;var j,l=h.getBlockMap(),m=i.getStartKey(),n=i.getStartOffset(),o=i.getEndKey(),p=i.getEndOffset(),q=l.get(m),r=l.get(o);j=q===r?g(q.getCharacterList(),n,p):q.getCharacterList().slice(0,n).concat(r.getCharacterList().slice(p));var s=q.merge({text:q.getText().slice(0,n)+r.getText().slice(p),characterList:j}),t=l.toSeq().skipUntil(function(u,v){return v===m}).takeUntil(function(u,v){return v===o}).concat(b("immutable").Map([[o,null]])).map(function(u,v){return v===m?s:null});return l=l.merge(t).filter(function(u){return!!u}),h.merge({blockMap:l,selectionBefore:i,selectionAfter:i.merge({anchorKey:m,anchorOffset:n,focusKey:m,focusOffset:n,isBackward:!1})})}},null);
__d("splitBlockInContentState",["invariant","immutable","generateRandomKey"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("immutable").Map;e.exports=function(i,j){j.isCollapsed()?void 0:g(0);var k=j.getAnchorKey(),l=j.getAnchorOffset(),m=i.getBlockMap(),n=m.get(k),o=n.getText(),p=n.getCharacterList(),q=n.merge({text:o.slice(0,l),characterList:p.slice(0,l)}),r=b("generateRandomKey")(),s=q.merge({key:r,text:o.slice(l),characterList:p.slice(l),data:h()}),t=m.toSeq().takeUntil(function(x){return x===n}),u=m.toSeq().skipUntil(function(x){return x===n}).rest(),w=t.concat([[q.getKey(),q],[s.getKey(),s]],u).toOrderedMap();return i.merge({blockMap:w,selectionBefore:j,selectionAfter:j.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1})})}},null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","immutable","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("immutable").OrderedSet,i={replaceText:function j(k,l,m,n,o){var p=b("removeEntitiesAtEdges")(k,l),q=b("removeRangeFromContentState")(p,l),r=b("CharacterMetadata").create({style:n||h(),entity:o||null});return b("insertTextIntoContentState")(q,q.getSelectionAfter(),m,r)},insertText:function j(k,l,m,n,o){return l.isCollapsed()?void 0:g(0),i.replaceText(k,l,m,n,o)},moveText:function j(k,l,m){var n=b("getContentStateFragment")(k,l),o=i.removeRange(k,l,"backward");return i.replaceWithFragment(o,m,n)},replaceWithFragment:function j(k,l,m){var n=b("removeEntitiesAtEdges")(k,l),o=b("removeRangeFromContentState")(n,l);return b("insertFragmentIntoContentState")(o,o.getSelectionAfter(),m)},removeRange:function j(k,l,m){if(l.getAnchorKey()===l.getFocusKey()){var n=l.getAnchorKey(),o=l.getStartOffset(),p=l.getEndOffset(),q=k.getBlockForKey(n),r=q.getEntityAt(o),s=q.getEntityAt(p-1);if(r&&r===s){var t=b("getCharacterRemovalRange")(q,l,m);return b("removeRangeFromContentState")(k,t)}}var u=b("removeEntitiesAtEdges")(k,l);return b("removeRangeFromContentState")(u,l)},splitBlock:function j(k,l){var m=b("removeEntitiesAtEdges")(k,l),n=b("removeRangeFromContentState")(m,l);return b("splitBlockInContentState")(n,n.getSelectionAfter())},applyInlineStyle:function j(k,l,m){return b("ContentStateInlineStyle").add(k,l,m)},removeInlineStyle:function j(k,l,m){return b("ContentStateInlineStyle").remove(k,l,m)},setBlockType:function j(k,l,m){return b("modifyBlockForContentState")(k,l,function(n){return n.merge({type:m,depth:0})})},setBlockData:function j(k,l,m){return b("modifyBlockForContentState")(k,l,function(n){return n.merge({data:m})})},mergeBlockData:function j(k,l,m){return b("modifyBlockForContentState")(k,l,function(n){return n.merge({data:n.getData().merge(m)})})},applyEntity:function j(k,l,m){var n=b("removeEntitiesAtEdges")(k,l);return b("applyEntityToContentState")(n,l,m)}};e.exports=i},null);
__d("BlockTree",["immutable","emptyFunction","findRangesImmutable"],function(d,e,f,g,h,i){"use strict";function j(r,s){var t=[],u=r.map(function(v){return v.getStyle()}).toList();return e("findRangesImmutable")(u,k,o,function(v,w){t.push(new p({start:v+s,end:w+s}))}),l(t)}function k(r,s){return r===s}e.__markCompiled&&e.__markCompiled();var l=e("immutable").List,m=e("immutable").Repeat,n=e("immutable").Record,o=e("emptyFunction").thatReturnsTrue,p=n({start:null,end:null}),q=n({start:null,end:null,decoratorKey:null,leaves:null});h.exports={generate:function r(s,t){var u=s.getLength();if(!u)return l.of(new q({start:0,end:0,decoratorKey:null,leaves:l.of(new p({start:0,end:0}))}));var v=[],w=t?t.getDecorations(s):l(m(null,u)),x=s.getCharacterList();return e("findRangesImmutable")(w,k,o,function(y,z){v.push(new q({start:y,end:z,decoratorKey:w.get(y),leaves:j(x.slice(y,z).toList(),y)}))}),l(v)},getFingerprint:function r(s){return s.map(function(t){var u=t.get("decoratorKey"),v=null===u?"":u+"."+(t.get("end")-t.get("start"));return""+v+"."+t.get("leaves").size}).join("-")}}},null);
__d("ContentBlock",["immutable","findRangesImmutable"],function(a,b,c,d,e,f){"use strict";var j;function g(){j.apply(this,arguments)}function h(r,s){return r.getStyle()===s.getStyle()}function i(r,s){return r.getEntity()===s.getEntity()}b.__markCompiled&&b.__markCompiled();var k=b("immutable").List,l=b("immutable").Map,m=b("immutable").OrderedSet,n=b("immutable").Record,o=m(),p={key:"",type:"unstyled",text:"",characterList:k(),depth:0,data:l()},q=n(p);j=babelHelpers.inherits(g,q),j&&j.prototype,g.prototype.getKey=function(){return this.get("key")},g.prototype.getType=function(){return this.get("type")},g.prototype.getText=function(){return this.get("text")},g.prototype.getCharacterList=function(){return this.get("characterList")},g.prototype.getLength=function(){return this.getText().length},g.prototype.getDepth=function(){return this.get("depth")},g.prototype.getData=function(){return this.get("data")},g.prototype.getInlineStyleAt=function(r){var s=this.getCharacterList().get(r);return s?s.getStyle():o},g.prototype.getEntityAt=function(r){var s=this.getCharacterList().get(r);return s?s.getEntity():null},g.prototype.findStyleRanges=function(r,s){b("findRangesImmutable")(this.getCharacterList(),h,r,s)},g.prototype.findEntityRanges=function(r,s){b("findRangesImmutable")(this.getCharacterList(),i,r,s)},e.exports=g},null);
__d('sanitizeDraftText',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled();var g=new RegExp('\r','g');e.exports=function(h){return h.replace(g,'')}},null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","immutable","SelectionState","generateRandomKey","sanitizeDraftText"],function(a,b,c,d,e,f){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var i=b("immutable").List,j=b("immutable").Record,l=b("immutable").Repeat,m=j({blockMap:null,selectionBefore:null,selectionAfter:null});h=babelHelpers.inherits(g,m),h&&h.prototype,g.prototype.getBlockMap=function(){return this.get("blockMap")},g.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},g.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},g.prototype.getBlockForKey=function(n){var o=this.getBlockMap().get(n);return o},g.prototype.getKeyBefore=function(n){return this.getBlockMap().reverse().keySeq().skipUntil(function(o){return o===n}).skip(1).first()},g.prototype.getKeyAfter=function(n){return this.getBlockMap().keySeq().skipUntil(function(o){return o===n}).skip(1).first()},g.prototype.getBlockAfter=function(n){return this.getBlockMap().skipUntil(function(o,p){return p===n}).skip(1).first()},g.prototype.getBlockBefore=function(n){return this.getBlockMap().reverse().skipUntil(function(o,p){return p===n}).skip(1).first()},g.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},g.prototype.getFirstBlock=function(){return this.getBlockMap().first()},g.prototype.getLastBlock=function(){return this.getBlockMap().last()},g.prototype.getPlainText=function(n){return this.getBlockMap().map(function(o){return o?o.getText():""}).join(n||"\n")},g.prototype.hasText=function(){var n=this.getBlockMap();return 1<n.size||0<n.first().getLength()},g.createFromBlockArray=function(n){var o=b("BlockMapBuilder").createFromArray(n),p=b("SelectionState").createEmpty(o.first().getKey());return new g({blockMap:o,selectionBefore:p,selectionAfter:p})},g.createFromText=function(n){var o=1>=arguments.length||arguments[1]===void 0?/\r\n?|\n/g:arguments[1],p=n.split(o),q=p.map(function(r){return r=b("sanitizeDraftText")(r),new(b("ContentBlock"))({key:b("generateRandomKey")(),text:r,type:"unstyled",characterList:i(l(b("CharacterMetadata").EMPTY,r.length))})});return g.createFromBlockArray(q)},e.exports=g},null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],function(a,b,c,d,e,f,g){"use strict";function h(i){i?b("UnicodeBidiDirection").isStrong(i)?void 0:g(0):i=b("UnicodeBidiGlobalDirection").getDir(),this.$UnicodeBidiService1=i,this.reset()}b.__markCompiled&&b.__markCompiled(),h.prototype.reset=function(){this.$UnicodeBidiService2=this.$UnicodeBidiService1},h.prototype.getDirection=function(i){return this.$UnicodeBidiService2=b("UnicodeBidi").getDirection(i,this.$UnicodeBidiService2),this.$UnicodeBidiService2},e.exports=h},null);
__d("EditorBidiService",["immutable","UnicodeBidiService","nullthrows"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g,h=b("immutable").OrderedMap;e.exports={getDirectionMap:function i(j,k){g?g.reset():g=new(b("UnicodeBidiService"));var l=j.getBlockMap(),m=l.valueSeq().map(function(o){return b("nullthrows")(g).getDirection(o.getText())}),n=h(l.keySeq().zip(m));return null!=k&&b("immutable").is(k,n)?k:n}}},null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","immutable","SelectionState"],function(a,b,c,d,e,f){"use strict";function g(u){this.$EditorState1=u}function h(u,v,w){return g.set(u,{selection:v,forceSelection:w,nativelyRenderedContent:null,inlineStyleOverride:null})}function i(u,v){return u.getBlockMap().map(function(w){return b("BlockTree").generate(w,v)}).toOrderedMap()}function j(u,v,w){var x=u.getCurrentContent().getBlockMap(),y=u.getImmutable().get("treeMap");return y.merge(v.toSeq().filter(function(z,A){return z!==x.get(A)}).map(function(z){return b("BlockTree").generate(z,w)}))}function k(u,v,w,x){return v.merge(u.toSeq().filter(function(y){return w.getDecorations(y)!==x.getDecorations(y)}).map(function(y){return b("BlockTree").generate(y,w)}))}function l(u,v){var w=u.getLastChangeType();return v!==w||"insert-characters"!==v&&"backspace-character"!==v&&"delete-character"!==v}function m(u,v){var w=v.getStartKey(),x=v.getStartOffset(),y=u.getBlockForKey(w);return 0<x?y.getInlineStyleAt(x-1):y.getLength()?y.getInlineStyleAt(0):o(u,w)}function n(u,v){var w=v.getStartKey(),x=v.getStartOffset(),y=u.getBlockForKey(w);return x<y.getLength()?y.getInlineStyleAt(x):0<x?y.getInlineStyleAt(x-1):o(u,w)}function o(u,v){for(var w,x=u.getBlockBefore(v);x;){if(w=x.getLength(),w)return x.getInlineStyleAt(w-1);x=u.getBlockBefore(x.getKey())}return p()}b.__markCompiled&&b.__markCompiled();var p=b("immutable").OrderedSet,q=b("immutable").Record,r=b("immutable").Stack,s={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:r(),selection:null,treeMap:null,undoStack:r()},t=q(s);g.createEmpty=function(u){return g.createWithContent(b("ContentState").createFromText(""),u)},g.createWithContent=function(u,v){var w=u.getBlockMap().first().getKey();return g.create({currentContent:u,undoStack:r(),redoStack:r(),decorator:v||null,selection:b("SelectionState").createEmpty(w)})},g.create=function(u){var v=u.currentContent,w=u.decorator,x=babelHelpers["extends"]({},u,{treeMap:i(v,w),directionMap:b("EditorBidiService").getDirectionMap(v)});return new g(new t(x))},g.set=function(u,v){var w=u.getImmutable().withMutations(function(x){var y=x.get("decorator"),z=y;null===v.decorator?z=null:v.decorator&&(z=v.decorator);var A=v.currentContent||u.getCurrentContent();if(z!==y){var B,C=x.get("treeMap");return B=z&&y?k(A.getBlockMap(),C,z,y):i(A,z),void x.merge({decorator:z,treeMap:B,nativelyRenderedContent:null})}var D=u.getCurrentContent();A!==D&&x.set("treeMap",j(u,A.getBlockMap(),z)),x.merge(v)});return new g(w)},g.prototype.toJS=function(){return this.getImmutable().toJS()},g.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},g.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},g.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},g.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},g.prototype.getSelection=function(){return this.getImmutable().get("selection")},g.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},g.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},g.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},g.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},g.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},g.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},g.setInlineStyleOverride=function(u,v){return g.set(u,{inlineStyleOverride:v})},g.prototype.getCurrentInlineStyle=function(){var u=this.getInlineStyleOverride();if(null!=u)return u;var v=this.getCurrentContent(),w=this.getSelection();return w.isCollapsed()?m(v,w):n(v,w)},g.prototype.getBlockTree=function(u){return this.getImmutable().getIn(["treeMap",u])},g.prototype.isSelectionAtStartOfContent=function(){var u=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(u,0,0)},g.prototype.isSelectionAtEndOfContent=function(){var u=this.getCurrentContent(),v=u.getBlockMap(),w=v.last(),x=w.getLength();return this.getSelection().hasEdgeWithin(w.getKey(),x,x)},g.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},g.acceptSelection=function(u,v){return h(u,v,!1)},g.forceSelection=function(u,v){return v.getHasFocus()||(v=v.set("hasFocus",!0)),h(u,v,!0)},g.moveSelectionToEnd=function(u){var v=u.getCurrentContent(),w=v.getLastBlock(),x=w.getKey(),y=w.getLength();return g.acceptSelection(u,new(b("SelectionState"))({anchorKey:x,anchorOffset:y,focusKey:x,focusOffset:y,isBackward:!1}))},g.moveFocusToEnd=function(u){var v=g.moveSelectionToEnd(u);return g.forceSelection(v,v.getSelection())},g.push=function(u,v,w){if(u.getCurrentContent()===v)return u;var x="insert-characters"!==w,y=b("EditorBidiService").getDirectionMap(v,u.getDirectionMap());if(!u.getAllowUndo())return g.set(u,{currentContent:v,directionMap:y,lastChangeType:w,selection:v.getSelectionAfter(),forceSelection:x,inlineStyleOverride:null});var z=u.getSelection(),A=u.getCurrentContent(),B=u.getUndoStack(),C=v;z!==A.getSelectionAfter()||l(u,w)?(B=B.push(A),C=C.set("selectionBefore",z)):("insert-characters"===w||"backspace-character"===w||"delete-character"===w)&&(C=C.set("selectionBefore",A.getSelectionBefore()));var D=u.getInlineStyleOverride();"adjust-depth"!==w&&"change-block-type"!==w&&(D=null);var E={currentContent:C,directionMap:y,undoStack:B,redoStack:r(),lastChangeType:w,selection:v.getSelectionAfter(),forceSelection:x,inlineStyleOverride:D};return g.set(u,E)},g.undo=function(u){if(!u.getAllowUndo())return u;var v=u.getUndoStack(),w=v.peek();if(!w)return u;var x=u.getCurrentContent(),y=b("EditorBidiService").getDirectionMap(w,u.getDirectionMap());return g.set(u,{currentContent:w,directionMap:y,undoStack:v.shift(),redoStack:u.getRedoStack().push(x),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:x.getSelectionBefore()})},g.redo=function(u){if(!u.getAllowUndo())return u;var v=u.getRedoStack(),w=v.peek();if(!w)return u;var x=u.getCurrentContent(),y=b("EditorBidiService").getDirectionMap(w,u.getDirectionMap());return g.set(u,{currentContent:w,directionMap:y,undoStack:u.getUndoStack().push(x),redoStack:v.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:w.getSelectionAfter()})},g.prototype.getImmutable=function(){return this.$EditorState1},e.exports=g},null);
__d("addEmojiPicker",["Bootloader","React","DraftModifier","EmojiFormat","EditorState"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=void 0,h=void 0;e.exports=function(i){return function(){var k,l;function j(m){l.constructor.call(this,m),this.$EmojiPickerEditor4=!1,this.$EmojiPickerEditor5=function(){this.setState({pickerStatus:"hidden"})}.bind(this),this.$EmojiPickerEditor7=function(n){this.props.onChange(n),this.setState({pickerStatus:"hidden"})}.bind(this),this.$EmojiPickerEditor8=function(){this.setState({pickerStatus:"open"})}.bind(this),this.$EmojiPickerEditor9=function(n){var o=this.props.editorState,p=b("DraftModifier").insertText(o.getCurrentContent(),o.getSelection(),b("EmojiFormat").codeArrayToUnicode(n),o.getCurrentInlineStyle()),q=b("EditorState").push(o,p,"insert-characters");q!==o&&(this.props.onChange(q),this.$EmojiPickerEditor6())}.bind(this),this.state={selectionRect:{top:0,bottom:0,left:0,right:0},bootloaded:!!g&&!!h,pickerStatus:"hidden"}}return k=babelHelpers.inherits(j,b("React").Component),l=k&&k.prototype,j.prototype.componentWillMount=function(){this.state.bootloaded||(this.$EmojiPickerEditor2=setTimeout(function(){this.bootloadModules(function(){this.setState({bootloaded:!0}),this.focus()}.bind(this))}.bind(this),0))},j.prototype.componentWillUnmount=function(){clearTimeout(this.$EmojiPickerEditor3),clearTimeout(this.$EmojiPickerEditor1),clearTimeout(this.$EmojiPickerEditor2)},j.prototype.bootloadModules=function(m){b("Bootloader").loadModules(["EmojiCursor.react","EmojiPicker.react"],function(n,o){g=n,h=o,m()},"addEmojiPicker")},j.prototype.$EmojiPickerEditor6=function(m){this.$EmojiPickerEditor4||(this.$EmojiPickerEditor4=!0,this.$EmojiPickerEditor3=setTimeout(function(){var n={top:0,bottom:0,left:0,right:0},o=a.getSelection();if(0<o.rangeCount){var p=o.getRangeAt(0).getBoundingClientRect();n={top:p.top,bottom:p.bottom,left:p.left,right:p.right}}this.setState({selectionRect:n}),this.$EmojiPickerEditor4=!1,m&&m()}.bind(this),0))},j.prototype.focus=function(){"closed"!==this.state.pickerStatus&&(clearTimeout(this.$EmojiPickerEditor1),this.$EmojiPickerEditor1=setTimeout(function(){this.refs.textEditor.focus(),this.$EmojiPickerEditor6(function(){return this.setState({pickerStatus:"closed"})}.bind(this))}.bind(this),0))},j.prototype.$EmojiPickerEditor10=function(){if(!this.state.bootloaded)return null;var m=this.state.selectionRect;return b("React").createElement(g,{context:this,selectionRect:m,onClick:this.$EmojiPickerEditor8,status:this.state.pickerStatus})},j.prototype.$EmojiPickerEditor11=function(){if(!this.state.bootloaded)return null;var m=this.state.selectionRect;return b("React").createElement(h,{key:0,status:this.state.pickerStatus,context:this,onEmojiClick:this.$EmojiPickerEditor9,selectionRect:m})},j.prototype.render=function(){return b("React").createElement("div",{onBlur:this.$EmojiPickerEditor5,ref:"div"},b("React").createElement(i,babelHelpers["extends"]({},this.props,{className:this.props.className,ref:"textEditor",onChange:this.$EmojiPickerEditor7})),this.$EmojiPickerEditor11(),this.$EmojiPickerEditor10())},j}()}},null);
__d("DefaultDraftBlockRenderMap",["cx","immutable","React"],function(a,b,c,d,e,f,cx){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("immutable").Map,h=b("React").createElement("ul",{className:"_1bv0"}),i=b("React").createElement("ol",{className:"_1bv1"}),j=b("React").createElement("pre",{className:"_1bv2"});e.exports=g({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:h},"ordered-list-item":{element:"li",wrapper:i},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:j},unstyled:{element:"div"}})},null);
__d('DefaultDraftInlineStyle',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled(),e.exports={BOLD:{fontWeight:'bold'},CODE:{fontFamily:'monospace',wordWrap:'break-word'},ITALIC:{fontStyle:'italic'},STRIKETHROUGH:{textDecoration:'line-through'},UNDERLINE:{textDecoration:'underline'}}},null);
__d("getEntityKeyForSelection",["DraftEntity"],function(a,b,c,d,e,f){"use strict";function g(h){if(h){var i=b("DraftEntity").get(h);return"MUTABLE"===i.getMutability()?h:null}return null}b.__markCompiled&&b.__markCompiled(),e.exports=function(h,i){var j;if(i.isCollapsed()){var k=i.getAnchorKey(),l=i.getAnchorOffset();return 0<l?(j=h.getBlockForKey(k).getEntityAt(l-1),g(j)):null}var m=i.getStartKey(),n=i.getStartOffset(),o=h.getBlockForKey(m);return j=n===o.getLength()?null:o.getEntityAt(n),g(j)}},null);
__d('isSelectionAtLeafStart',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getSelection(),i=h.getAnchorKey(),j=g.getBlockTree(i),k=h.getStartOffset(),l=!1;return j.some(function(m){return k===m.get('start')?(l=!0,!0):k<m.get('end')?m.get('leaves').some(function(n){var o=n.get('start');return k===o?(l=!0,!0):!1}):!1}),l}},null);
__d("DraftEditorCompositionHandler",["DraftModifier","EditorState","Keys","getEntityKeyForSelection","isSelectionAtLeafStart"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=!1,i=!1,j="",k={onBeforeInput:function l(m){j=(j||"")+m.data},onCompositionStart:function l(){i=!0},onCompositionEnd:function l(){h=!1,i=!1,setTimeout(function(){h||k.resolveComposition.call(this)}.bind(this),20)},onKeyDown:function l(m){return i?void((m.which===b("Keys").RIGHT||m.which===b("Keys").LEFT)&&m.preventDefault()):(k.resolveComposition.call(this),void this._onKeyDown(m))},onKeyPress:function l(m){m.which===b("Keys").RETURN&&m.preventDefault()},resolveComposition:function l(){if(i)return;h=!0;var m=j;j="";var n=b("EditorState").set(this._latestEditorState,{inCompositionMode:!1}),o=n.getCurrentInlineStyle(),p=b("getEntityKeyForSelection")(n.getCurrentContent(),n.getSelection()),q=!m||b("isSelectionAtLeafStart")(n)||0<o.size||null!==p;if(q&&this.restoreEditorDOM(),this.exitCurrentMode(),m){var r=b("DraftModifier").replaceText(n.getCurrentContent(),n.getSelection(),m,o,p);return void this.update(b("EditorState").push(n,r,"insert-characters"))}q&&this.update(b("EditorState").set(n,{nativelyRenderedContent:null,forceSelection:!0}))}};f.exports=k},null);
__d("DraftEditorTextNode.react",["React","ReactDOM","UserAgent"],function(a,b,c,d,e,f){"use strict";var i,j;function g(n){return k?"\n"===n.textContent:"BR"===n.tagName}function h(n){j.constructor.call(this,n),this.$DraftEditorTextNode1=!1}b.__markCompiled&&b.__markCompiled();var k=b("UserAgent").isBrowser("IE <= 11"),l=k?b("React").createElement("span",{key:"A","data-text":"true"},"\n"):b("React").createElement("br",{key:"A","data-text":"true"}),m=k?b("React").createElement("span",{key:"B","data-text":"true"},"\n"):b("React").createElement("br",{key:"B","data-text":"true"});i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.shouldComponentUpdate=function(n){var o=b("ReactDOM").findDOMNode(this),p=""===n.children;return p?!g(o):o.textContent!==n.children},h.prototype.componentWillUpdate=function(){this.$DraftEditorTextNode1=!this.$DraftEditorTextNode1},h.prototype.render=function(){return""===this.props.children?this.$DraftEditorTextNode1?l:m:b("React").createElement("span",{key:this.$DraftEditorTextNode1?"A":"B","data-text":"true"},this.props.children)},e.exports=h},null);
__d("setDraftEditorSelection",["containsNode","getActiveElement"],function(a,b,c,d,e,f){"use strict";function g(i,j,k){if(i.extend&&b("containsNode")(b("getActiveElement")(),j))i.extend(j,k);else{var l=i.getRangeAt(0);l.setEnd(j,k),i.addRange(l.cloneRange())}}function h(i,j,k){var l=document.createRange();l.setStart(j,k),i.addRange(l)}b.__markCompiled&&b.__markCompiled(),e.exports=function(i,j,k,l,m){if(!b("containsNode")(document.documentElement,j))return;var n=a.getSelection(),o=i.getAnchorKey(),p=i.getAnchorOffset(),q=i.getFocusKey(),r=i.getFocusOffset(),s=i.getIsBackward();if(!n.extend&&s){var t=o,u=p;o=q,p=r,q=t,r=u,s=!1}var v=o===k&&l<=p&&m>=p,w=q===k&&l<=r&&m>=r;if(v&&w)return n.removeAllRanges(),h(n,j,p-l),void g(n,j,r-l);if(!s)v&&(n.removeAllRanges(),h(n,j,p-l)),w&&g(n,j,r-l);else if(w&&(n.removeAllRanges(),h(n,j,r-l)),v){var x=n.focusNode,y=n.focusOffset;n.removeAllRanges(),h(n,j,p-l),g(n,x,y)}}},null);
__d("DraftEditorLeaf.react",["DraftEditorTextNode.react","React","ReactDOM","SelectionState","setDraftEditorSelection"],function(a,b,c,d,e,f){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.$DraftEditorLeaf1=function(){var i=this.props.selection;if(null==i||!i.getHasFocus())return;var j=this.props,k=j.blockKey,l=j.start,m=j.text,n=l+m.length;if(!i.hasEdgeWithin(k,l,n))return;var o=b("ReactDOM").findDOMNode(this),p=o.firstChild,q=void 0;q=p.nodeType===Node.TEXT_NODE?p:"BR"===p.tagName?o:p.firstChild,b("setDraftEditorSelection")(i,q,k,l,n)},g.prototype.shouldComponentUpdate=function(i){return b("ReactDOM").findDOMNode(this.refs.leaf).textContent!==i.text||i.styleSet!==this.props.styleSet||i.forceSelection},g.prototype.componentDidUpdate=function(){this.$DraftEditorLeaf1()},g.prototype.componentDidMount=function(){this.$DraftEditorLeaf1()},g.prototype.render=function(){var i=this.props.text;i.endsWith("\n")&&this.props.isLast&&(i+="\n");var j=this.props,k=j.customStyleMap,l=j.customStyleFn,m=j.offsetKey,n=j.styleSet,o=n.reduce(function(q,r){var s={},t=k[r];return void 0!==t&&q.textDecoration!==t.textDecoration&&(s.textDecoration=[q.textDecoration,t.textDecoration].join(" ").trim()),Object.assign(q,t,s)},{});if(l){var p=l(n);o=Object.assign(o,p)}return b("React").createElement("span",{"data-offset-key":m,ref:"leaf",style:o},b("React").createElement(b("DraftEditorTextNode.react"),null,i))},e.exports=g},null);
__d('DraftOffsetKey',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled();var g='-';e.exports={encode:function h(i,j,k){return i+g+j+g+k},decode:function h(i){var j=i.split(g),k=j[0],l=j[1],m=j[2];return{blockKey:k,decoratorKey:parseInt(l,10),leafKey:parseInt(m,10)}}}},null);
__d("DraftEditorBlock.react",["cx","ContentBlock","DraftEditorLeaf.react","DraftOffsetKey","React","ReactDOM","Scroll","SelectionState","Style","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getScrollPosition","getViewportDimensions","nullthrows"],function(a,b,c,d,e,f,cx){"use strict";var i;function g(){i.apply(this,arguments)}function h(k,l){return k.getAnchorKey()===l||k.getFocusKey()===l}b.__markCompiled&&b.__markCompiled();var j=10;i=babelHelpers.inherits(g,b("React").Component),i&&i.prototype,g.prototype.shouldComponentUpdate=function(k){return this.props.block!==k.block||this.props.tree!==k.tree||this.props.direction!==k.direction||h(k.selection,k.block.getKey())&&k.forceSelection},g.prototype.componentDidMount=function(){var k=this.props.selection,l=k.getEndKey();if(!k.getHasFocus()||l!==this.props.block.getKey())return;var m,n=b("ReactDOM").findDOMNode(this),o=b("Style").getScrollParent(n),p=b("getScrollPosition")(o);if(o===window){var q=b("getElementPosition")(n),r=q.y+q.height,s=b("getViewportDimensions")().height;m=r-s,0<m&&window.scrollTo(p.x,p.y+m+j)}else{var t=n.offsetHeight+n.offsetTop,u=o.offsetHeight+p.y;m=t-u,0<m&&b("Scroll").setTop(o,b("Scroll").getTop(o)+m+j)}},g.prototype.$DraftEditorBlock1=function(){var k=this.props.block,l=k.getKey(),m=k.getText(),n=this.props.tree.size-1,o=h(this.props.selection,l);return this.props.tree.map(function(p,q){var r=p.get("leaves"),s=r.size-1,t=r.map(function(B,C){var D=b("DraftOffsetKey").encode(l,q,C),E=B.get("start"),F=B.get("end");return b("React").createElement(b("DraftEditorLeaf.react"),{key:D,offsetKey:D,blockKey:l,start:E,selection:o?this.props.selection:void 0,forceSelection:this.props.forceSelection,text:m.slice(E,F),styleSet:k.getInlineStyleAt(E),customStyleMap:this.props.customStyleMap,customStyleFn:this.props.customStyleFn,isLast:q===n&&C===s})}.bind(this)).toArray(),u=p.get("decoratorKey");if(null==u)return t;if(!this.props.decorator)return t;var v=b("nullthrows")(this.props.decorator),w=v.getComponentForKey(u);if(!w)return t;var x=v.getPropsForKey(u),y=b("DraftOffsetKey").encode(l,q,0),z=m.slice(r.first().get("start"),r.last().get("end")),A=b("UnicodeBidiDirection").getHTMLDirIfDifferent(b("UnicodeBidi").getDirection(z),this.props.direction);return b("React").createElement(w,babelHelpers["extends"]({},x,{decoratedText:z,dir:A,key:y,entityKey:k.getEntityAt(p.get("start")),offsetKey:y}),t)}.bind(this)).toArray()},g.prototype.render=function(){var k=this.props,l=k.direction,m=k.offsetKey,n="_1mf"+("LTR"===l?" "+"_1mj":"")+("RTL"===l?" "+"_1mk":"");return b("React").createElement("div",{"data-offset-key":m,className:n},this.$DraftEditorBlock1())},e.exports=g},null);
__d("DraftEditorContents.react",["cx","DraftEditorBlock.react","DraftOffsetKey","EditorState","React","joinClasses","nullthrows"],function(a,b,c,d,e,f,cx){"use strict";var i;function g(){i.apply(this,arguments)}function h(j,k,l,m){return("unordered-list-item"===j?"_3kpz":"")+("ordered-list-item"===j?" "+"_3kp_":"")+(l?" "+"_3kq0":"")+(0===k?" "+"_3kq1":"")+(1===k?" "+"_3kq2":"")+(2===k?" "+"_3kq3":"")+(3===k?" "+"_3kq4":"")+(4===k?" "+"_3kq5":"")+("LTR"===m?" "+"_3kq6":"")+("RTL"===m?" "+"_3kq7":"")}b.__markCompiled&&b.__markCompiled(),i=babelHelpers.inherits(g,b("React").Component),i&&i.prototype,g.prototype.shouldComponentUpdate=function(j){var k=this.props.editorState,l=j.editorState,m=k.getDirectionMap(),n=l.getDirectionMap();if(m!==n)return!0;var o=k.getSelection().getHasFocus(),p=l.getSelection().getHasFocus();if(o!==p)return!0;var q=l.getNativelyRenderedContent(),r=k.isInCompositionMode(),s=l.isInCompositionMode();if(k===l||null!==q&&l.getCurrentContent()===q||r&&s)return!1;var t=k.getCurrentContent(),u=l.getCurrentContent(),v=k.getDecorator(),w=l.getDecorator();return r!==s||t!==u||v!==w||l.mustForceSelection()},g.prototype.render=function(){for(var j=this.props,k=j.blockRenderMap,l=j.blockRendererFn,m=j.customStyleMap,n=j.customStyleFn,o=j.editorState,p=o.getCurrentContent(),q=o.getSelection(),r=o.mustForceSelection(),s=o.getDecorator(),t=b("nullthrows")(o.getDirectionMap()),u=p.getBlocksAsArray(),v=[],w=null,x=null,y=0;y<u.length;y++){var z=u[y],A=z.getKey(),B=z.getType(),C=l(z),D=void 0,E=void 0,F=void 0;C&&(D=C.component,E=C.props,F=C.editable);var G=t.get(A),H=b("DraftOffsetKey").encode(A,0,0),I={block:z,blockProps:E,customStyleMap:m,customStyleFn:n,decorator:s,direction:G,forceSelection:r,key:A,offsetKey:H,selection:q,tree:o.getBlockTree(A)},J=k.get(B),K=J.wrapper,L=J.element||k.get("unstyled").element,M=z.getDepth(),N=this.props.blockStyleFn(z);if("li"===L){var O=x!==K||null==w||M>w;N=b("joinClasses")(N,h(B,M,O,G))}var P=D||b("DraftEditorBlock.react"),Q={className:N,"data-block":!0,"data-editor":this.props.editorKey,"data-offset-key":H,key:A};F!=void 0&&(Q=babelHelpers["extends"]({},Q,{contentEditable:F,suppressContentEditableWarning:!0}));var R=b("React").createElement(L,Q,b("React").createElement(P,I));v.push({block:R,wrapperTemplate:K,key:A,offsetKey:H}),w=K?z.getDepth():null,x=K}for(var S=[],T=0;T<v.length;){var U=v[T];if(U.wrapperTemplate){var V=[];do V.push(v[T].block),T++;while(T<v.length&&v[T].wrapperTemplate===U.wrapperTemplate);var W=b("React").cloneElement(U.wrapperTemplate,{key:U.key+"-wrap","data-offset-key":U.offsetKey},V);S.push(W)}else S.push(U.block),T++}return b("React").createElement("div",{"data-contents":"true"},S)},e.exports=g},null);
__d('getSelectionOffsetKeyForNode',[],function(a,b,c,d,e,f){'use strict';function g(h){if(h instanceof Element){var i=h.getAttribute('data-offset-key');if(i)return i;for(var j=0;j<h.childNodes.length;j++){var k=g(h.childNodes[j]);if(k)return k}}return null}b.__markCompiled&&b.__markCompiled(),e.exports=g},null);
__d("findAncestorOffsetKey",["getSelectionOffsetKeyForNode"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){for(var h=g;h&&h!==document.documentElement;){var i=b("getSelectionOffsetKeyForNode")(h);if(null!=i)return i;h=h.parentNode}return null}},null);
__d('getTextContentFromFiles',[],function(a,b,c,d,e,f){'use strict';function g(j,k){if(!a.FileReader||j.type&&!(j.type in i))return void k('');if(''===j.type){var l='';return h.test(j.name)&&(l=j.name.replace(h,'')),void k(l)}var m=new FileReader;m.onload=function(){k(m.result)},m.onerror=function(){k('')},m.readAsText(j)}b.__markCompiled&&b.__markCompiled();var h=/\.textClipping$/,i={'text/plain':!0,'text/html':!0,'text/rtf':!0};e.exports=function(j,k){var l=0,m=[];j.forEach(function(n){g(n,function(o){l++,o&&m.push(o.slice(0,5000)),l==j.length&&k(m.join('\r'))})})}},null);
__d("getUpdatedSelectionState",["DraftOffsetKey","nullthrows"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h,i,j,k){var l=b("nullthrows")(g.getSelection()),m=b("DraftOffsetKey").decode(h),n=m.blockKey,o=g.getBlockTree(n).getIn([m.decoratorKey,"leaves",m.leafKey]),p=b("DraftOffsetKey").decode(j),q=p.blockKey,r=g.getBlockTree(q).getIn([p.decoratorKey,"leaves",p.leafKey]),s=o.get("start"),t=r.get("start"),u=o?s+i:null,w=r?t+k:null,x=l.getAnchorKey()===n&&l.getAnchorOffset()===u&&l.getFocusKey()===q&&l.getFocusOffset()===w;if(x)return l;var y=!1;if(n===q){var z=o.get("end"),A=r.get("end");y=t===s&&A===z?k<i:t<s}else{var B=g.getCurrentContent().getBlockMap().keySeq().skipUntil(function(C){return C===n||C===q}).first();y=B===q}return l.merge({anchorKey:n,anchorOffset:u,focusKey:q,focusOffset:w,isBackward:y})}},null);
__d('isEventHandled',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled(),e.exports=function(g){return'handled'===g||!0===g}},null);
__d("DraftEditorDragHandler",["DataTransfer","DraftModifier","EditorState","findAncestorOffsetKey","getTextContentFromFiles","getUpdatedSelectionState","nullthrows","isEventHandled"],function(a,b,c,d,f,g){"use strict";function h(k,l){var m=null,n=null;if("function"==typeof document.caretRangeFromPoint){var o=document.caretRangeFromPoint(k.x,k.y);m=o.startContainer,n=o.startOffset}else if(k.rangeParent)m=k.rangeParent,n=k.rangeOffset;else return null;m=b("nullthrows")(m),n=b("nullthrows")(n);var p=b("nullthrows")(b("findAncestorOffsetKey")(m));return b("getUpdatedSelectionState")(l,p,n,p,n)}function i(k,l){var m=b("DraftModifier").moveText(k.getCurrentContent(),k.getSelection(),l);return b("EditorState").push(k,m,"insert-fragment")}function j(k,l,m){var n=b("DraftModifier").insertText(k.getCurrentContent(),l,m,k.getCurrentInlineStyle());return b("EditorState").push(k,n,"insert-fragment")}b.__markCompiled&&b.__markCompiled(),f.exports={onDragEnd:function k(){this.exitCurrentMode()},onDrop:function k(l){var m=new(b("DataTransfer"))(l.nativeEvent.dataTransfer),n=this._latestEditorState,o=h(l.nativeEvent,n);if(l.preventDefault(),this.exitCurrentMode(),null==o)return;var p=m.getFiles();if(0<p.length)return this.props.handleDroppedFiles&&b("isEventHandled")(this.props.handleDroppedFiles(o,p))?void 0:void b("getTextContentFromFiles")(p,function(r){r&&this.update(j(n,b("nullthrows")(o),r))}.bind(this));var q=this._internalDrag?"internal":"external";return this.props.handleDrop&&b("isEventHandled")(this.props.handleDrop(o,m,q))?void 0:this._internalDrag?void this.update(i(n,o)):void this.update(j(n,o,m.getText()))}}},null);
__d("editOnBeforeInput",["BlockTree","DraftModifier","EditorState","UserAgent","getEntityKeyForSelection","isSelectionAtLeafStart","nullthrows","isEventHandled"],function(a,b,c,d,f,g){"use strict";function h(k){return j&&("'"==k||"/"==k)}function i(k,l,m,n){var o=b("DraftModifier").replaceText(k.getCurrentContent(),k.getSelection(),l,m,n);return b("EditorState").push(k,o,"insert-characters")}b.__markCompiled&&b.__markCompiled();var j=b("UserAgent").isBrowser("Firefox");f.exports=function(k){var l=k.data;if(!l)return;if(this.props.handleBeforeInput&&b("isEventHandled")(this.props.handleBeforeInput(l)))return void k.preventDefault();var m=this._latestEditorState,n=m.getSelection();if(!n.isCollapsed())return k.preventDefault(),void this.update(i(m,l,m.getCurrentInlineStyle(),b("getEntityKeyForSelection")(m.getCurrentContent(),m.getSelection())));var o=!b("isSelectionAtLeafStart")(m),p=i(m,l,m.getCurrentInlineStyle(),b("getEntityKeyForSelection")(m.getCurrentContent(),m.getSelection()));if(!o)return k.preventDefault(),void this.update(p);var q=n.getAnchorKey(),r=m.getBlockTree(q),s=b("BlockTree").getFingerprint(r),t=b("BlockTree").getFingerprint(p.getBlockTree(q));h(l)||s!==t||b("nullthrows")(p.getDirectionMap()).get(q)!==b("nullthrows")(m.getDirectionMap()).get(q)?k.preventDefault():p=b("EditorState").set(p,{nativelyRenderedContent:p.getCurrentContent()}),this.update(p)}},null);
__d("editOnBlur",["EditorState","UserAgent","getActiveElement"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("UserAgent").isEngine("WebKit");f.exports=function(i){h&&b("getActiveElement")()===document.body&&a.getSelection().removeAllRanges();var j=this._latestEditorState,k=j.getSelection();if(!k.getHasFocus())return;var l=k.set("hasFocus",!1);this.props.onBlur&&this.props.onBlur(i),this.update(b("EditorState").acceptSelection(j,l))}},null);
__d("editOnCompositionStart",["EditorState"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),f.exports=function(h){this.setMode("composite"),this.update(b("EditorState").set(this._latestEditorState,{inCompositionMode:!0})),this._onCompositionStart(h)}},null);
__d("getFragmentFromSelection",["getContentStateFragment"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getSelection();return h.isCollapsed()?null:b("getContentStateFragment")(g.getCurrentContent(),h)}},null);
__d("editOnCopy",["getFragmentFromSelection"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),f.exports=function(h){var i=this._latestEditorState,j=i.getSelection();return j.isCollapsed()?void h.preventDefault():void this.setClipboard(b("getFragmentFromSelection")(this._latestEditorState))}},null);
__d("editOnCut",["DraftModifier","EditorState","Style","getFragmentFromSelection","getScrollPosition"],function(a,b,c,d,f,g){"use strict";function h(i){var j=b("DraftModifier").removeRange(i.getCurrentContent(),i.getSelection(),"forward");return b("EditorState").push(i,j,"remove-range")}b.__markCompiled&&b.__markCompiled(),f.exports=function(i){var j=this._latestEditorState,k=j.getSelection();if(k.isCollapsed())return void i.preventDefault();var l=b("Style").getScrollParent(i.target),m=b("getScrollPosition")(l),n=m.x,o=m.y,p=b("getFragmentFromSelection")(j);this.setClipboard(p),this.setMode("cut"),setTimeout(function(){this.restoreEditorDOM({x:n,y:o}),this.exitCurrentMode(),this.update(h(j))}.bind(this),0)}},null);
__d('editOnDragOver',[],function(a,b,c,d,f,g){'use strict';b.__markCompiled&&b.__markCompiled(),f.exports=function(h){this._internalDrag=!1,this.setMode('drag'),h.preventDefault()}},null);
__d('editOnDragStart',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled(),e.exports=function(){this._internalDrag=!0,this.setMode('drag')}},null);
__d("editOnFocus",["EditorState"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),f.exports=function(h){var i=this._latestEditorState,j=i.getSelection();if(j.getHasFocus())return;var k=j.set("hasFocus",!0);this.props.onFocus&&this.props.onFocus(h),this.update(b("EditorState").forceSelection(i,k))}},null);
__d("editOnInput",["DraftModifier","DraftOffsetKey","EditorState","DraftEntity","UserAgent","findAncestorOffsetKey","nullthrows"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("UserAgent").isEngine("Gecko");e.exports=function(){var h=a.getSelection(),i=h.anchorNode,j=h.isCollapsed;if(i.nodeType!==Node.TEXT_NODE)return;var k=i.textContent,l=this._latestEditorState,m=b("nullthrows")(b("findAncestorOffsetKey")(i)),n=b("DraftOffsetKey").decode(m),o=n.blockKey,p=n.decoratorKey,q=n.leafKey,r=l.getBlockTree(o).getIn([p,"leaves",q]),s=r.start,t=r.end,u=l.getCurrentContent(),v=u.getBlockForKey(o),w=v.getText().slice(s,t);if(k.endsWith("\n\n")&&(k=k.slice(0,-1)),k===w)return;var x,y,z,A,B=l.getSelection(),C=B.merge({anchorOffset:s,focusOffset:t,isBackward:!1}),D=v.getEntityAt(s),E=D&&b("DraftEntity").get(D),F=E&&E.getMutability(),G="MUTABLE"===F,H=G?"spellcheck-change":"apply-entity",I=b("DraftModifier").replaceText(u,C,k,v.getInlineStyleAt(s),G?v.getEntityAt(s):null);if(g)x=h.anchorOffset,y=h.focusOffset,z=s+Math.min(x,y),A=z+Math.abs(x-y),x=z,y=A;else{var J=k.length-w.length;z=B.getStartOffset(),A=B.getEndOffset(),x=j?A+J:z,y=A+J}var K=I.merge({selectionBefore:u.getSelectionAfter(),selectionAfter:B.merge({anchorOffset:x,focusOffset:y})});this.update(b("EditorState").push(l,K,H))}},null);
__d("KeyBindingUtil",["UserAgent"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("UserAgent").isPlatform("Mac OS X"),i={isCtrlKeyCommand:function j(k){return!!k.ctrlKey&&!k.altKey},isOptionKeyCommand:function j(k){return h&&k.altKey},hasCommandModifier:function j(k){return h?!!k.metaKey&&!k.altKey:i.isCtrlKeyCommand(k)}};f.exports=i},null);
__d("SecondaryClipboard",["DraftModifier","EditorState","getContentStateFragment","nullthrows"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=null;e.exports={cut:function h(i){var j=i.getCurrentContent(),k=i.getSelection(),l=null;if(k.isCollapsed()){var m=k.getAnchorKey(),n=j.getBlockForKey(m).getLength();if(n===k.getAnchorOffset())return i;l=k.set("focusOffset",n)}else l=k;l=b("nullthrows")(l),g=b("getContentStateFragment")(j,l);var o=b("DraftModifier").removeRange(j,l,"forward");return o===j?i:b("EditorState").push(i,o,"remove-range")},paste:function h(i){if(!g)return i;var j=b("DraftModifier").replaceWithFragment(i.getCurrentContent(),i.getSelection(),g);return b("EditorState").push(i,j,"insert-fragment")}}},null);
__d("getRangeClientRects",["invariant","UserAgent"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("UserAgent").isBrowser("Chrome"),i=h?function(j){for(var k=j.cloneRange(),l=[],m=j.endContainer;null!=m;m=m.parentNode){var n=m===j.commonAncestorContainer;n?k.setStart(j.startContainer,j.startOffset):k.setStart(k.endContainer,0);var o=Array.from(k.getClientRects());if(l.push(o),n){var p;return l.reverse(),(p=[]).concat.apply(p,l)}k.setEndBefore(m)}g(0)}:function(j){return Array.from(j.getClientRects())};e.exports=i},null);
__d("expandRangeToStartOfLine",["invariant","UnicodeUtils","getRangeClientRects"],function(a,b,c,d,e,f,g){function h(k){var l=getComputedStyle(k),m=document.createElement("div");m.style.fontFamily=l.fontFamily,m.style.fontSize=l.fontSize,m.style.fontStyle=l.fontStyle,m.style.fontWeight=l.fontWeight,m.style.lineHeight=l.lineHeight,m.style.position="absolute",m.textContent="M",document.body.appendChild(m);var n=m.getBoundingClientRect();return document.body.removeChild(m),n.height}function i(k,l){for(var m=1/0,n=1/0,o=-(1/0),p=-(1/0),q=0;q<k.length;q++){var r=k[q];0!==r.width&&1!==r.width&&(m=Math.min(m,r.top),n=Math.min(n,r.bottom),o=Math.max(o,r.top),p=Math.max(p,r.bottom))}return o<=n&&o-m<l&&p-n<l}function j(k){switch(k.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return k.length;default:return k.childNodes.length;}}b.__markCompiled&&b.__markCompiled(),e.exports=function(k){k.collapsed?void 0:g(0),k=k.cloneRange();var l=k.startContainer;1!==l.nodeType&&(l=l.parentNode);var m=h(l),n=k.endContainer,o=k.endOffset;for(k.setStart(k.startContainer,0);i(b("getRangeClientRects")(k),m)&&(n=k.startContainer,o=k.startOffset,n.parentNode?void 0:g(0),k.setStartBefore(n),1!==n.nodeType||"inline"===getComputedStyle(n).display););var p=n,q=o-1;do{for(var r=p.nodeValue,s=q;0<=s;s--)if(!(null!=r&&0<s&&b("UnicodeUtils").isSurrogatePair(r,s-1)))if(k.setStart(p,s),i(b("getRangeClientRects")(k),m))n=p,o=s;else break;if(-1===s||0===p.childNodes.length)break;p=p.childNodes[s],q=j(p)}while(!0);return k.setStart(n,o),k}},null);
__d("getDraftEditorSelectionWithNodes",["invariant","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","nullthrows"],function(a,b,c,d,e,f,g){"use strict";function h(l){for(;l.firstChild&&b("getSelectionOffsetKeyForNode")(l.firstChild);)l=l.firstChild;return l}function i(l){for(;l.lastChild&&b("getSelectionOffsetKeyForNode")(l.lastChild);)l=l.lastChild;return l}function j(l,m,n){var o=m,p=b("findAncestorOffsetKey")(o);if(null!=p||l&&(l===o||l.firstChild===o)?void 0:g(0),l===o&&(o=o.firstChild,o instanceof Element&&"true"===o.getAttribute("data-contents")?void 0:g(0),0<n&&(n=o.childNodes.length)),0===n){var q=null;if(null!=p)q=p;else{var r=h(o);q=b("nullthrows")(b("getSelectionOffsetKeyForNode")(r))}return{key:q,offset:0}}var s=o.childNodes[n-1],t=null,u=null;if(!b("getSelectionOffsetKeyForNode")(s))t=b("nullthrows")(p),u=k(s);else{var v=i(s);t=b("nullthrows")(b("getSelectionOffsetKeyForNode")(v)),u=k(v)}return{key:t,offset:u}}function k(l){var m=l.textContent;return"\n"===m?0:m.length}b.__markCompiled&&b.__markCompiled(),e.exports=function(l,m,n,o,p,q){var r=n.nodeType===Node.TEXT_NODE,s=p.nodeType===Node.TEXT_NODE;if(r&&s)return{selectionState:b("getUpdatedSelectionState")(l,b("nullthrows")(b("findAncestorOffsetKey")(n)),o,b("nullthrows")(b("findAncestorOffsetKey")(p)),q),needsRecovery:!1};var t=null,u=null,v=!0;return r?(t={key:b("nullthrows")(b("findAncestorOffsetKey")(n)),offset:o},u=j(m,p,q)):s?(u={key:b("nullthrows")(b("findAncestorOffsetKey")(p)),offset:q},t=j(m,n,o)):(t=j(m,n,o),u=j(m,p,q),n===p&&o===q&&(v=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:b("getUpdatedSelectionState")(l,t.key,t.offset,u.key,u.offset),needsRecovery:v}}},null);
__d("moveSelectionBackward",[],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h){var i=g.getSelection(),j=g.getCurrentContent(),k=i.getStartKey(),l=i.getStartOffset(),m=k,n=0;if(h>l){var o=j.getKeyBefore(k);if(null==o)m=k;else{m=o;var p=j.getBlockForKey(o);n=p.getText().length}}else n=l-h;return i.merge({focusKey:m,focusOffset:n,isBackward:!0})}},null);
__d("removeTextWithStrategy",["DraftModifier"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h,i){var j=g.getSelection(),k=g.getCurrentContent(),l=j;if(j.isCollapsed()){if("forward"===i){if(g.isSelectionAtEndOfContent())return k}else if(g.isSelectionAtStartOfContent())return k;if(l=h(g),l===j)return k}return b("DraftModifier").removeRange(k,l,i)}},null);
__d("keyCommandBackspaceToStartOfLine",["EditorState","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","moveSelectionBackward","removeTextWithStrategy"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=b("removeTextWithStrategy")(g,function(i){var j=i.getSelection();if(j.isCollapsed()&&0===j.getAnchorOffset())return b("moveSelectionBackward")(i,1);var k=a.getSelection(),l=k.getRangeAt(0);return l=b("expandRangeToStartOfLine")(l),b("getDraftEditorSelectionWithNodes")(i,null,l.endContainer,l.endOffset,l.startContainer,l.startOffset).selectionState},"backward");return h===g.getCurrentContent()?g:b("EditorState").push(g,h,"remove-range")}},null);
__d("DraftRemovableWord",["TokenizeUtil"],function(a,b,c,d,e,f){"use strict";function g(m,n){var o=n?l.exec(m):k.exec(m);return o?o[0]:m}b.__markCompiled&&b.__markCompiled();var h=b("TokenizeUtil").getPunctuation(),i="['\u2018\u2019]",j="\\s|(?![_])"+h,k=new RegExp("^(?:"+j+")*(?:"+i+"|(?!"+j+").)*(?:(?!"+j+").)"),l=new RegExp("(?:(?!"+j+").)(?:"+i+"|(?!"+j+").)*(?:"+j+")*$");e.exports={getBackward:function m(n){return g(n,!0)},getForward:function m(n){return g(n,!1)}}},null);
__d("keyCommandBackspaceWord",["DraftRemovableWord","EditorState","moveSelectionBackward","removeTextWithStrategy"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=b("removeTextWithStrategy")(g,function(i){var j=i.getSelection(),k=j.getStartOffset();if(0===k)return b("moveSelectionBackward")(i,1);var l=j.getStartKey(),m=i.getCurrentContent(),n=m.getBlockForKey(l).getText().slice(0,k),o=b("DraftRemovableWord").getBackward(n);return b("moveSelectionBackward")(i,o.length||1)},"backward");return h===g.getCurrentContent()?g:b("EditorState").push(g,h,"remove-range")}},null);
__d("moveSelectionForward",[],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h){var i,j=g.getSelection(),k=j.getStartKey(),l=j.getStartOffset(),m=g.getCurrentContent(),n=k,o=m.getBlockForKey(k);return h>o.getText().length-l?(n=m.getKeyAfter(k),i=0):i=l+h,j.merge({focusKey:n,focusOffset:i})}},null);
__d("keyCommandDeleteWord",["DraftRemovableWord","EditorState","moveSelectionForward","removeTextWithStrategy"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=b("removeTextWithStrategy")(g,function(i){var j=i.getSelection(),k=j.getStartOffset(),l=j.getStartKey(),m=i.getCurrentContent(),n=m.getBlockForKey(l).getText().slice(k),o=b("DraftRemovableWord").getForward(n);return b("moveSelectionForward")(i,o.length||1)},"forward");return h===g.getCurrentContent()?g:b("EditorState").push(g,h,"remove-range")}},null);
__d("keyCommandInsertNewline",["DraftModifier","EditorState"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=b("DraftModifier").splitBlock(g.getCurrentContent(),g.getSelection());return b("EditorState").push(g,h,"split-block")}},null);
__d("keyCommandMoveSelectionToEndOfBlock",["EditorState"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getSelection(),i=h.getEndKey(),j=g.getCurrentContent(),k=j.getBlockForKey(i).getLength();return b("EditorState").set(g,{selection:h.merge({anchorKey:i,anchorOffset:k,focusKey:i,focusOffset:k,isBackward:!1}),forceSelection:!0})}},null);
__d("keyCommandMoveSelectionToStartOfBlock",["EditorState"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getSelection(),i=h.getStartKey();return b("EditorState").set(g,{selection:h.merge({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:!1}),forceSelection:!0})}},null);
__d("keyCommandPlainBackspace",["EditorState","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=b("removeTextWithStrategy")(g,function(j){var k=j.getSelection(),l=j.getCurrentContent(),m=k.getAnchorKey(),n=k.getAnchorOffset(),o=l.getBlockForKey(m).getText()[n-1];return b("moveSelectionBackward")(j,o?b("UnicodeUtils").getUTF16Length(o,0):1)},"backward");if(h===g.getCurrentContent())return g;var i=g.getSelection();return b("EditorState").push(g,h.set("selectionBefore",i),i.isCollapsed()?"backspace-character":"remove-range")}},null);
__d("keyCommandPlainDelete",["EditorState","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=b("removeTextWithStrategy")(g,function(j){var k=j.getSelection(),l=j.getCurrentContent(),m=k.getAnchorKey(),n=k.getAnchorOffset(),o=l.getBlockForKey(m).getText()[n];return b("moveSelectionForward")(j,o?b("UnicodeUtils").getUTF16Length(o,0):1)},"forward");if(h===g.getCurrentContent())return g;var i=g.getSelection();return b("EditorState").push(g,h.set("selectionBefore",i),i.isCollapsed()?"delete-character":"remove-range")}},null);
__d("keyCommandTransposeCharacters",["DraftModifier","EditorState","getContentStateFragment"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getSelection();if(!h.isCollapsed())return g;var i=h.getAnchorOffset();if(0===i)return g;var j=h.getAnchorKey(),k=g.getCurrentContent(),l=k.getBlockForKey(j),m=l.getLength();if(1>=m)return g;var n,o;i===m?(n=h.set("anchorOffset",i-1),o=h):(n=h.set("focusOffset",i+1),o=n.set("anchorOffset",i+1));var p=b("getContentStateFragment")(k,n),q=b("DraftModifier").removeRange(k,n,"backward"),r=q.getSelectionAfter(),s=r.getAnchorOffset()-1,t=r.merge({anchorOffset:s,focusOffset:s}),u=b("DraftModifier").replaceWithFragment(q,t,p),v=b("EditorState").push(g,u,"insert-fragment");return b("EditorState").acceptSelection(v,o)}},null);
__d("keyCommandUndo",["EditorState"],function(a,b,c,d,f,g){"use strict";b.__markCompiled&&b.__markCompiled(),f.exports=function(h,i,j){var k=b("EditorState").undo(i);if("spellcheck-change"===i.getLastChangeType()){var l=k.getCurrentContent();return void j(b("EditorState").set(k,{nativelyRenderedContent:l}))}return h.preventDefault(),i.getNativelyRenderedContent()?void(j(b("EditorState").set(i,{nativelyRenderedContent:null})),setTimeout(function(){j(k)},0)):void j(k)}},null);
__d("editOnKeyDown",["DraftModifier","EditorState","KeyBindingUtil","Keys","SecondaryClipboard","UserAgent","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandTransposeCharacters","keyCommandUndo","isEventHandled"],function(a,b,c,d,f,g){"use strict";function h(k,l){return"redo"===k?b("EditorState").redo(l):"delete"===k?b("keyCommandPlainDelete")(l):"delete-word"===k?b("keyCommandDeleteWord")(l):"backspace"===k?b("keyCommandPlainBackspace")(l):"backspace-word"===k?b("keyCommandBackspaceWord")(l):"backspace-to-start-of-line"===k?b("keyCommandBackspaceToStartOfLine")(l):"split-block"===k?b("keyCommandInsertNewline")(l):"transpose-characters"===k?b("keyCommandTransposeCharacters")(l):"move-selection-to-start-of-block"===k?b("keyCommandMoveSelectionToStartOfBlock")(l):"move-selection-to-end-of-block"===k?b("keyCommandMoveSelectionToEndOfBlock")(l):"secondary-cut"===k?b("SecondaryClipboard").cut(l):"secondary-paste"===k?b("SecondaryClipboard").paste(l):l}b.__markCompiled&&b.__markCompiled();var i=b("KeyBindingUtil").isOptionKeyCommand,j=b("UserAgent").isBrowser("Chrome");f.exports=function(k){var l=k.which,m=this._latestEditorState;switch(l){case b("Keys").RETURN:if(k.preventDefault(),this.props.handleReturn&&b("isEventHandled")(this.props.handleReturn(k)))return;break;case b("Keys").ESC:return k.preventDefault(),void(this.props.onEscape&&this.props.onEscape(k));case b("Keys").TAB:return void(this.props.onTab&&this.props.onTab(k));case b("Keys").UP:return void(this.props.onUpArrow&&this.props.onUpArrow(k));case b("Keys").DOWN:return void(this.props.onDownArrow&&this.props.onDownArrow(k));case b("Keys").SPACE:if(j&&i(k)){k.preventDefault();var n=b("DraftModifier").replaceText(m.getCurrentContent(),m.getSelection(),"\u00A0");return void this.update(b("EditorState").push(m,n,"insert-characters"))}}var o=this.props.keyBindingFn(k);if(!o)return;if("undo"===o)return void b("keyCommandUndo")(k,m,this.update);if(k.preventDefault(),this.props.handleKeyCommand&&b("isEventHandled")(this.props.handleKeyCommand(o)))return;var p=h(o,m);p!==m&&this.update(p)}},null);
__d("getSafeBodyFromHTML",["UserAgent"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("UserAgent").isBrowser("IE <= 9");e.exports=function(h){var i,j=null;return!g&&document.implementation&&document.implementation.createHTMLDocument&&(i=document.implementation.createHTMLDocument("foo"),i.documentElement.innerHTML=h,j=i.getElementsByTagName("body")[0]),j}},null);
__d("convertFromHTMLToContentBlocks",["invariant","CharacterMetadata","ContentBlock","DefaultDraftBlockRenderMap","DraftEntity","immutable","URI","generateRandomKey","getSafeBodyFromHTML","nullthrows","sanitizeDraftText"],function(a,b,c,d,e,f,g){"use strict";function h(){return{text:"",inlines:[],entities:[],blocks:[]}}function i(L){var M=new Array(1);return L&&(M[0]=L),{text:y,inlines:[x()],entities:M,blocks:[]}}function j(){return{text:"\n",inlines:[x()],entities:new Array(1),blocks:[]}}function k(L,M){return{text:"\r",inlines:[x()],entities:new Array(1),blocks:[{type:L,depth:Math.max(0,Math.min(4,M))}]}}function l(L,M){return"li"===L?"ol"===M?"ordered-list-item":"unordered-list-item":null}function m(L){var M=L.get("unstyled").element;return L.map(function(N){return N.element}).valueSeq().toSet().filter(function(N){return N&&N!==M}).toArray().sort()}function n(L,M,N){for(var O=0;O<N.length;O++){var P=N[O](L,M);if(P)return P}return null}function o(L,M,N){var O=N.filter(function(P){return P.element===L||P.wrapper===L}).keySeq().toSet().toArray().sort();switch(O.length){case 0:return"unstyled";case 1:return O[0];default:return n(L,M,[l])||"unstyled";}}function p(L,M,N){var O=I[L];return O?N=N.add(O).toOrderedSet():M instanceof HTMLElement&&function(){var P=M;N=N.withMutations(function(Q){var R=P.style.fontWeight,S=P.style.fontStyle,T=P.style.textDecoration;0<=G.indexOf(R)?Q.add("BOLD"):0<=H.indexOf(R)&&Q.remove("BOLD"),"italic"===S?Q.add("ITALIC"):"normal"===S&&Q.remove("ITALIC"),"underline"===T&&Q.add("UNDERLINE"),"line-through"===T&&Q.add("STRIKETHROUGH"),"none"===T&&(Q.remove("UNDERLINE"),Q.remove("STRIKETHROUGH"))}).toOrderedSet()}(),N}function q(L,M){var N=L.text.slice(-1),O=M.text.slice(0,1);if("\r"===N&&"\r"===O&&(L.text=L.text.slice(0,-1),L.inlines.pop(),L.entities.pop(),L.blocks.pop()),"\r"===N){if(M.text===y||"\n"===M.text)return L;(O===y||"\n"===O)&&(M.text=M.text.slice(1),M.inlines.shift(),M.entities.shift())}return{text:L.text+M.text,inlines:L.inlines.concat(M.inlines),entities:L.entities.concat(M.entities),blocks:L.blocks.concat(M.blocks)}}function r(L,M){return M.some(function(N){return-1!==L.indexOf("<"+N)})}function s(L){L instanceof HTMLAnchorElement?void 0:g(0);var M=L.protocol;return"http:"===M||"https:"===M||"mailto:"===M}function t(L,M,N,O,P,Q,R,S){var T=L.nodeName.toLowerCase(),U=!1,V="unstyled",W=v;if("#text"===T){var X=L.textContent;return""===X.trim()&&"pre"!==O?i(S):("pre"!==O&&(X=X.replace(C,y)),v=T,{text:X,inlines:Array(X.length).fill(M),entities:Array(X.length).fill(S),blocks:[]})}if(v=T,"br"===T)return"br"!==W||O&&"unstyled"!==o(O,N,R)?j():k("unstyled",Q);"img"===T&&L instanceof HTMLImageElement&&L.attributes.getNamedItem("src")&&L.attributes.getNamedItem("src").value&&function(){var ba={};K.forEach(function(da){var ea=L.getAttribute(da);ea&&(ba[da]=ea)});var ca=new(b("URI"))(ba.src).toString();L.textContent=ca,S=b("DraftEntity").create("IMAGE","MUTABLE",ba)}();var Y=h(),Z=null;M=p(T,L,M),("ul"===T||"ol"===T)&&(N&&(Q+=1),N=T),O||-1===P.indexOf(T)?N&&"li"===O&&"li"===T&&(Y=k(o(T,N,R),Q),O=T,U=!0,V="ul"===N?"unordered-list-item":"ordered-list-item"):(Y=k(o(T,N,R),Q),O=T,U=!0);var $=L.firstChild;null!=$&&(T=$.nodeName.toLowerCase());for(var _=null;$;){$ instanceof HTMLAnchorElement&&$.href&&s($)?function(){var ba=$,ca={};J.forEach(function(da){var ea=ba.getAttribute(da);ea&&(ca[da]=ea)}),ca.url=new(b("URI"))(ba.href).toString(),_=b("DraftEntity").create("LINK","MUTABLE",ca)}():_=void 0,Z=t($,M,N,O,P,Q,R,_||S),Y=q(Y,Z);var aa=$.nextSibling;aa&&0<=P.indexOf(T)&&O&&(Y=q(Y,j())),aa&&(T=aa.nodeName.toLowerCase()),$=aa}return U&&(Y=q(Y,k(V,Q))),Y}function u(L,M,N){L=L.trim().replace(z,"").replace(D,y).replace(E,"").replace(F,"");var O=m(N),P=M(L);if(!P)return null;v=null;var Q=r(L,O)?O:["div"],R=t(P,x(),"ul",null,Q,-1,N);return 0===R.text.indexOf("\r")&&(R={text:R.text.slice(1),inlines:R.inlines.slice(1),entities:R.entities.slice(1),blocks:R.blocks}),"\r"===R.text.slice(-1)&&(R.text=R.text.slice(0,-1),R.inlines=R.inlines.slice(0,-1),R.entities=R.entities.slice(0,-1),R.blocks.pop()),0===R.blocks.length&&R.blocks.push({type:"unstyled",depth:0}),R.text.split("\r").length===R.blocks.length+1&&R.blocks.unshift({type:"unstyled",depth:0}),R}b.__markCompiled&&b.__markCompiled();var v,w=b("immutable").List,x=b("immutable").OrderedSet,y=" ",z=new RegExp("\r","g"),C=new RegExp("\n","g"),D=new RegExp("&nbsp;","g"),E=new RegExp("&#13;?","g"),F=new RegExp("&#8203;?","g"),G=["bold","bolder","500","600","700","800","900"],H=["light","lighter","100","200","300","400"],I={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},J=["className","href","rel","target","title"],K=["alt","className","height","src","width"];e.exports=function(L){var M=1>=arguments.length||arguments[1]===void 0?b("getSafeBodyFromHTML"):arguments[1],N=2>=arguments.length||arguments[2]===void 0?b("DefaultDraftBlockRenderMap"):arguments[2],O=u(L,M,N);if(null==O)return null;var P=0;return O.text.split("\r").map(function(Q,R){Q=b("sanitizeDraftText")(Q);var S=P+Q.length,T=b("nullthrows")(O).inlines.slice(P,S),U=b("nullthrows")(O).entities.slice(P,S),V=w(T.map(function(W,X){var Y={style:W,entity:null};return U[X]&&(Y.entity=U[X]),b("CharacterMetadata").create(Y)}));return P=S+1,new(b("ContentBlock"))({key:b("generateRandomKey")(),type:b("nullthrows")(O).blocks[R].type,depth:b("nullthrows")(O).blocks[R].depth,text:Q,characterList:V})})}},null);
__d("DraftPasteProcessor",["CharacterMetadata","ContentBlock","immutable","convertFromHTMLToContentBlocks","generateRandomKey","getSafeBodyFromHTML","sanitizeDraftText"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("immutable").List,h=b("immutable").Repeat;e.exports={processHTML:function i(j,k){return b("convertFromHTMLToContentBlocks")(j,b("getSafeBodyFromHTML"),k)},processText:function i(j,k){return j.map(function(l){return l=b("sanitizeDraftText")(l),new(b("ContentBlock"))({key:b("generateRandomKey")(),type:"unstyled",text:l,characterList:g(h(k,l.length))})})}}},null);
__d("splitTextIntoTextBlocks",[],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=/\r\n?|\n/g;e.exports=function(h){return h.split(g)}},null);
__d("editOnPaste",["BlockMapBuilder","CharacterMetadata","DataTransfer","DraftModifier","DraftPasteProcessor","EditorState","getEntityKeyForSelection","getTextContentFromFiles","splitTextIntoTextBlocks","isEventHandled"],function(a,b,c,d,f,g){"use strict";function h(j,k){var l=b("DraftModifier").replaceWithFragment(j.getCurrentContent(),j.getSelection(),k);return b("EditorState").push(j,l,"insert-fragment")}function i(j,k){return j.length===k.size&&k.valueSeq().every(function(l,m){return l.getText()===j[m]})}b.__markCompiled&&b.__markCompiled(),f.exports=function(j){j.preventDefault();var k=new(b("DataTransfer"))(j.clipboardData);if(!k.isRichText()){var l=k.getFiles(),m=k.getText();if(0<l.length)return this.props.handlePastedFiles&&b("isEventHandled")(this.props.handlePastedFiles(l))?void 0:void b("getTextContentFromFiles")(l,function(x){if(x=x||m,!!x){var y=this._latestEditorState,z=b("splitTextIntoTextBlocks")(x),A=b("CharacterMetadata").create({style:y.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(y.getCurrentContent(),y.getSelection())}),B=b("DraftPasteProcessor").processText(z,A),C=b("BlockMapBuilder").createFromArray(B),D=b("DraftModifier").replaceWithFragment(y.getCurrentContent(),y.getSelection(),C);this.update(b("EditorState").push(y,D,"insert-fragment"))}}.bind(this))}var n=[],o=k.getText(),p=k.getHTML();if(this.props.handlePastedText&&b("isEventHandled")(this.props.handlePastedText(o,p)))return;if(o&&(n=b("splitTextIntoTextBlocks")(o)),!this.props.stripPastedStyles){var q=this.getClipboard();if(k.isRichText()&&q){if(-1!==p.indexOf(this.getEditorKey())||1===n.length&&1===q.size&&q.first().getText()===o)return void this.update(h(this._latestEditorState,q))}else if(q&&k.types.includes("com.apple.webarchive")&&!k.types.includes("text/html")&&i(n,q))return void this.update(h(this._latestEditorState,q));if(p){var r=b("DraftPasteProcessor").processHTML(p,this.props.blockRenderMap);if(r){var s=b("BlockMapBuilder").createFromArray(r);return void this.update(h(this._latestEditorState,s))}}this.setClipboard(null)}if(n){var t=this._latestEditorState,u=b("CharacterMetadata").create({style:t.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(t.getCurrentContent(),t.getSelection())}),v=b("DraftPasteProcessor").processText(n,u),w=b("BlockMapBuilder").createFromArray(v);this.update(h(this._latestEditorState,w))}}},null);
__d("getDraftEditorSelection",["getDraftEditorSelectionWithNodes"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h){var i=a.getSelection();return 0===i.rangeCount?{selectionState:g.getSelection().set("hasFocus",!1),needsRecovery:!1}:b("getDraftEditorSelectionWithNodes")(g,h,i.anchorNode,i.anchorOffset,i.focusNode,i.focusOffset)}},null);
__d("editOnSelect",["DraftGK","EditorState","ReactDOM","getDraftEditorSelection"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(){if(this._blockSelectEvents)return;if(this._latestEditorState!==this.props.editorState&&!b("DraftGK").draft_killswitch_spurious_select_events)return;var g=this.props.editorState,h=b("getDraftEditorSelection")(g,b("ReactDOM").findDOMNode(this.refs.editorContainer).firstChild),i=h.selectionState;i!==g.getSelection()&&(g=h.needsRecovery?b("EditorState").forceSelection(g,i):b("EditorState").acceptSelection(g,i),this.update(g))}},null);
__d("DraftEditorEditHandler",["editOnBeforeInput","editOnBlur","editOnCompositionStart","editOnCopy","editOnCut","editOnDragOver","editOnDragStart","editOnFocus","editOnInput","editOnKeyDown","editOnPaste","editOnSelect"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g={onBeforeInput:b("editOnBeforeInput"),onBlur:b("editOnBlur"),onCompositionStart:b("editOnCompositionStart"),onCopy:b("editOnCopy"),onCut:b("editOnCut"),onDragOver:b("editOnDragOver"),onDragStart:b("editOnDragStart"),onFocus:b("editOnFocus"),onInput:b("editOnInput"),onKeyDown:b("editOnKeyDown"),onPaste:b("editOnPaste"),onSelect:b("editOnSelect")};e.exports=g},null);
__d("DraftEditorPlaceholder.react",["cx","React"],function(a,b,c,d,e,f,cx){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.shouldComponentUpdate=function(i){return this.props.text!==i.text||this.props.editorState.getSelection().getHasFocus()!==i.editorState.getSelection().getHasFocus()},g.prototype.render=function(){var i=this.props.editorState.getSelection().getHasFocus(),j="_1p1t"+(i?" "+"_1p1u":"");return b("React").createElement("div",{className:j},b("React").createElement("div",{className:"_1p1v",id:this.props.accessibilityID},this.props.text))},e.exports=g},null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],function(a,b,c,d,f,g){"use strict";function h(q){return l&&q.altKey||p(q)}function i(q){return o(q)?q.shiftKey?"redo":"undo":null}function j(q){return m&&q.shiftKey?null:h(q)?"delete-word":"delete"}function k(q){return o(q)&&l?"backspace-to-start-of-line":h(q)?"backspace-word":"backspace"}b.__markCompiled&&b.__markCompiled();var l=b("UserAgent").isPlatform("Mac OS X"),m=b("UserAgent").isPlatform("Windows"),n=l&&b("UserAgent").isBrowser("Firefox < 29"),o=b("KeyBindingUtil").hasCommandModifier,p=b("KeyBindingUtil").isCtrlKeyCommand;f.exports=function(q){switch(q.keyCode){case 66:return o(q)?"bold":null;case 68:return p(q)?"delete":null;case 72:return p(q)?"backspace":null;case 73:return o(q)?"italic":null;case 74:return o(q)?"code":null;case 75:return!m&&p(q)?"secondary-cut":null;case 77:return p(q)?"split-block":null;case 79:return p(q)?"split-block":null;case 84:return l&&p(q)?"transpose-characters":null;case 85:return o(q)?"underline":null;case 87:return l&&p(q)?"backspace-word":null;case 89:return p(q)?m?"redo":"secondary-paste":null;case 90:return i(q)||null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return j(q);case b("Keys").BACKSPACE:return k(q);case b("Keys").LEFT:return n&&o(q)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return n&&o(q)?"move-selection-to-end-of-block":null;default:return null;}}},null);
__d("DraftEditor.react",["cx","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents.react","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorPlaceholder.react","EditorState","React","ReactDOM","Scroll","Style","UserAgent","emptyFunction","generateRandomKey","getDefaultKeyBinding","nullthrows","getScrollPosition"],function(a,b,c,d,f,g,cx){"use strict";var i,j;function h(m){j.constructor.call(this,m),this._blockSelectEvents=!1,this._clipboard=null,this._handler=null,this._dragCount=0,this._editorKey=b("generateRandomKey")(),this._placeholderAccessibilityID="placeholder-"+this._editorKey,this._latestEditorState=m.editorState,this._onBeforeInput=this._buildHandler("onBeforeInput"),this._onBlur=this._buildHandler("onBlur"),this._onCharacterData=this._buildHandler("onCharacterData"),this._onCompositionEnd=this._buildHandler("onCompositionEnd"),this._onCompositionStart=this._buildHandler("onCompositionStart"),this._onCopy=this._buildHandler("onCopy"),this._onCut=this._buildHandler("onCut"),this._onDragEnd=this._buildHandler("onDragEnd"),this._onDragOver=this._buildHandler("onDragOver"),this._onDragStart=this._buildHandler("onDragStart"),this._onDrop=this._buildHandler("onDrop"),this._onInput=this._buildHandler("onInput"),this._onFocus=this._buildHandler("onFocus"),this._onKeyDown=this._buildHandler("onKeyDown"),this._onKeyPress=this._buildHandler("onKeyPress"),this._onKeyUp=this._buildHandler("onKeyUp"),this._onMouseDown=this._buildHandler("onMouseDown"),this._onMouseUp=this._buildHandler("onMouseUp"),this._onPaste=this._buildHandler("onPaste"),this._onSelect=this._buildHandler("onSelect"),this.focus=this._focus.bind(this),this.blur=this._blur.bind(this),this.setMode=this._setMode.bind(this),this.exitCurrentMode=this._exitCurrentMode.bind(this),this.restoreEditorDOM=this._restoreEditorDOM.bind(this),this.setClipboard=this._setClipboard.bind(this),this.getClipboard=this._getClipboard.bind(this),this.getEditorKey=function(){return this._editorKey}.bind(this),this.update=this._update.bind(this),this.onDragEnter=this._onDragEnter.bind(this),this.onDragLeave=this._onDragLeave.bind(this),this.state={containerKey:0}}b.__markCompiled&&b.__markCompiled();var k=b("UserAgent").isBrowser("IE"),l={edit:b("DraftEditorEditHandler"),composite:b("DraftEditorCompositionHandler"),drag:b("DraftEditorDragHandler"),cut:null,render:null};i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype._buildHandler=function(m){return function(n){if(!this.props.readOnly){var o=this._handler&&this._handler[m];o&&o.call(this,n)}}.bind(this)},h.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},h.prototype._renderPlaceholder=function(){return this._showPlaceholder()?b("React").createElement(b("DraftEditorPlaceholder.react"),{text:b("nullthrows")(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID}):null},h.prototype.render=function(){var m=this.props,n=m.readOnly,o=m.textAlignment,p="_5rp7"+("left"===o?" "+"_5rp8":"")+("right"===o?" "+"_5rp9":"")+("center"===o?" "+"_5rpa":"");return b("React").createElement("div",{className:p},this._renderPlaceholder(),b("React").createElement("div",{className:"_5rpb",key:"editor"+this.state.containerKey,ref:"editorContainer"},b("React").createElement("div",{"aria-activedescendant":n?null:this.props.ariaActiveDescendantID,"aria-autocomplete":n?null:this.props.ariaAutoComplete,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":n?null:this.props.ariaExpanded,"aria-haspopup":n?null:this.props.ariaHasPopup,"aria-label":this.props.ariaLabel,"aria-owns":n?null:this.props.ariaOwneeID,className:"_5rpu",contentEditable:!n,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:"editor",role:n?null:this.props.role||"textbox",spellCheck:!k&&this.props.spellCheck,style:{outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b("React").createElement(b("DraftEditorContents.react"),{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:babelHelpers["extends"]({},b("DefaultDraftInlineStyle"),this.props.customStyleMap),customStyleFn:this.props.customStyleFn,editorKey:this._editorKey,editorState:this.props.editorState}))))},h.prototype.componentDidMount=function(){this.setMode("edit"),k&&document.execCommand("AutoUrlDetect",!1,!1)},h.prototype.componentWillUpdate=function(m){this._blockSelectEvents=!0,this._latestEditorState=m.editorState},h.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1},h.prototype._focus=function(m){var n=this.props.editorState,o=n.getSelection().getHasFocus(),p=b("ReactDOM").findDOMNode(this.refs.editor),q=b("Style").getScrollParent(p),r=m||b("getScrollPosition")(q),s=r.x,t=r.y;p.focus(),q===window?window.scrollTo(s,t):b("Scroll").setTop(q,t),o||this.update(b("EditorState").forceSelection(n,n.getSelection()))},h.prototype._blur=function(){b("ReactDOM").findDOMNode(this.refs.editor).blur()},h.prototype._setMode=function(m){this._handler=l[m]},h.prototype._exitCurrentMode=function(){this.setMode("edit")},h.prototype._restoreEditorDOM=function(m){this.setState({containerKey:this.state.containerKey+1},function(){this._focus(m)}.bind(this))},h.prototype._setClipboard=function(m){this._clipboard=m},h.prototype._getClipboard=function(){return this._clipboard},h.prototype._update=function(m){this._latestEditorState=m,this.props.onChange(m)},h.prototype._onDragEnter=function(){this._dragCount++},h.prototype._onDragLeave=function(){this._dragCount--,0===this._dragCount&&this.exitCurrentMode()},h.defaultProps={blockRenderMap:b("DefaultDraftBlockRenderMap"),blockRendererFn:b("emptyFunction").thatReturnsNull,blockStyleFn:b("emptyFunction").thatReturns(""),keyBindingFn:b("getDefaultKeyBinding"),readOnly:!1,spellCheck:!1,stripPastedStyles:!1},f.exports=h},null);
__d("AbstractMentionsTextEditor.react",["DraftEditor.react","DraftModifier","EditorState","React","TypeaheadNavigation","clearImmediate","getOrCreateDOMID","setImmediate","uniqueID"],function(a,b,c,d,f,g){function h(k,l,m){for(var n=m;n<=l.length;n++)k.substr(-n)==l.substr(0,n)&&(m=n);return m}b.__markCompiled&&b.__markCompiled();var i=b("React").PropTypes,j=b("React").createClass({displayName:"AbstractMentionsTextEditor",propTypes:{mentionsSource:i.object,mentionCreationFn:i.func.isRequired,mentionResultsComponent:i.func.isRequired,mentionResultsProps:i.object,excludedEntries:i.object,handleContentReturn:i.func,onAddMention:i.func,onShowMentions:i.func,autoHighlight:i.bool,maxResults:i.number},getDefaultProps:function k(){return babelHelpers["extends"]({},b("DraftEditor.react").defaultProps,{autoHighlight:!0,maxResults:5})},componentWillMount:function k(){this._viewID=b("uniqueID")(),this._searchTimeouts=[]},componentWillUnmount:function k(){this._searchTimeouts.forEach(function(l){return b("clearImmediate")(l)}),this._searchTimeouts=null},getInitialState:function k(){return{highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0}},_onShowMentions:function k(l,m){if(!this.isMounted())return;var n=l&&l.length;if(!n)return void this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});var o=l.slice(0,this.props.maxResults),p=this.props.typeaheadViewProps;p&&p.mentionSortFn&&o.sort(p.mentionSortFn);var q=null;(this.props.autoHighlight||null!==this.state.highlightedMentionable)&&(q=l[0]),this.setState({highlightedMentionable:q,mentionableEntries:o,characterOffset:m}),this.props.onShowMentions&&this.props.onShowMentions(o,m)},_onBlur:function k(l){this.setState(this.getInitialState()),this.props.onBlur&&this.props.onBlur(l)},_onFocus:function k(l){this.props.mentionsSource&&this.props.mentionsSource.bootstrap(),this.props.onFocus&&this.props.onFocus(l)},_handleReturn:function k(l){return this.state.highlightedMentionable?(this._onMentionSelect(this.state.highlightedMentionable,l),!0):this.props.handleContentReturn&&this.props.handleContentReturn(l)?!0:!1},_onTab:function k(l){this.state.highlightedMentionable?(l.preventDefault(),this._onMentionSelect(this.state.highlightedMentionable,l)):this.props.onTab&&this.props.onTab(l)},_onEscape:function k(l){this.props.onEscape&&this.props.onEscape(l),this.state.mentionableEntries&&(l.stopPropagation(),l.preventDefault(),this.setState(this.getInitialState()))},_onUpArrow:function k(l){this.state.mentionableEntries?(l.preventDefault(),b("TypeaheadNavigation").moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight)):this.props.onUpArrow&&this.props.onUpArrow(l)},_onDownArrow:function k(l){this.state.mentionableEntries?(l.preventDefault(),b("TypeaheadNavigation").moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight)):this.props.onDownArrow&&this.props.onDownArrow(l)},_onMentionHighlight:function k(l){this.setState({highlightedMentionable:l})},_onMentionRenderHighlight:function k(l){var m=b("getOrCreateDOMID")(l);this.setState({ariaActiveDescendantID:m})},_onMentionSelect:function k(l,m){var n=this.props.editorState,o=n.getSelection(),p=n.getCurrentContent(),q=o.getAnchorKey(),r=o.getAnchorOffset(),s=p.getBlockMap().get(q),t=r-h(s.getText().substr(0,r),l.getTitle(),this.state.characterOffset),u=b("DraftModifier").replaceText(p,o.set("anchorOffset",t),l.getTitle(),n.getCurrentInlineStyle(),this.props.mentionCreationFn(l)),v=b("EditorState").push(n,u,"insert-fragment");if(this.props.onChange(v),this.setState(this.getInitialState()),this.props.onAddMention){var w=this.state.mentionableEntries.indexOf(l);this.props.onAddMention(l,w,m)}},shouldComponentUpdate:function k(l,m){return this.props.editorState!==l.editorState||this.props.placeholder!==l.placeholder||this.props.readOnly!==l.readOnly||this.state.mentionableEntries!==m.mentionableEntries||this.state.highlightedMentionable!==m.highlightedMentionable||this.state.ariaActiveDescendantID!==m.ariaActiveDescendantID},componentDidUpdate:function k(l){var m=this.props.editorState;if(m===l.editorState)return;var n=m.getSelection();if(n.getHasFocus()&&n.isCollapsed()){var o=m.getCurrentContent();this.props.mentionsSource&&this._searchTimeouts.push(b("setImmediate")(function(){this.props.mentionsSource.search(o,n,this._onShowMentions)}.bind(this)))}},blur:function k(){this.refs.abstractTextEditor.blur()},focus:function k(){this.refs.abstractTextEditor.focus()},_renderMentionables:function k(){var l=this.state.mentionableEntries;if(!l||!l.length)return null;var m=this.props.mentionResultsComponent;return b("React").createElement(m,babelHelpers["extends"]({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:l||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight}))},render:function k(){var l=this.state.mentionableEntries,m=!!(l&&l.length),n=this.props.readOnly?null:"-2";return b("React").createElement("div",{ref:"container",className:this.props.className,tabIndex:n},b("React").createElement(b("DraftEditor.react"),babelHelpers["extends"]({},this.props,{ref:"abstractTextEditor",role:"combobox",ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:"list",ariaOwneeID:this._viewID,ariaExpanded:m,ariaHasPopup:m,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables())}});f.exports=j},null);
__d("createMentionEntity",["DraftEntity"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getType().toLowerCase();if("hashtag"===h)return b("DraftEntity").create("HASHTAG","IMMUTABLE");var i="user"===h||"fb4c"===h?"SEGMENTED":"IMMUTABLE",j=g.getAuxiliaryData();return b("DraftEntity").create("MENTION",i,{id:g.getUniqueID(),isWeak:j&&"non_member"===j.renderType,type:h})}},null);
__d("MentionsInput.react",["cx","addEmojiPicker","EmojiPickerConfig","AbstractMentionsTextEditor.react","EditorState","MentionsLayer.react","React","ReactDOM","createMentionEntity","joinClasses"],function(a,b,c,d,e,f,cx){var h,i;function g(l){i.constructor.call(this,l),this.AbstractMentionsComponent=b("AbstractMentionsTextEditor.react"),this.blur=function(){this.refs.textEditor.blur()}.bind(this),this.focus=function(){this.refs.textEditor.focus()}.bind(this),this.click=function(){b("ReactDOM").findDOMNode(this).dispatchEvent(new Event("focus"))}.bind(this),j&&this.props.showEmojiPicker&&(this.AbstractMentionsComponent=b("addEmojiPicker")(b("AbstractMentionsTextEditor.react")))}b.__markCompiled&&b.__markCompiled();var j=b("EmojiPickerConfig").hasEmojiPicker,k=b("React").PropTypes;h=babelHelpers.inherits(g,b("React").Component),i=h&&h.prototype,g.prototype.render=function(){var l=b("joinClasses")(this.props.className,"_5yk1"),m=this.AbstractMentionsComponent;return b("React").createElement("div",{className:l,onClick:this.click,onFocus:this.focus},b("React").createElement(m,babelHelpers["extends"]({},this.props,{mentionResultsComponent:b("MentionsLayer.react"),mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:b("createMentionEntity"),ref:"textEditor",className:"_5yk2",stripPastedStyles:!0})))},g.propTypes={editorState:k.instanceOf(b("EditorState")).isRequired,mentionsSource:k.object,typeaheadView:k.func.isRequired,typeaheadViewPropTypes:k.object,spellCheck:k.bool,placeholder:k.string,className:k.string,autoflip:k.bool,position:k.oneOf(["above","below"]),showEmojiPicker:k.bool,handleContentReturn:k.func,handleDroppedFiles:k.func,handlePastedFiles:k.func,onAddMention:k.func,onShowMentions:k.func,onChange:k.func,onInputFocus:k.func,onInputBlur:k.func},e.exports=g},null);
__d("DevxFluxDispatcher",["Dispatcher_DEPRECATED"],function(a,b,c,d,e,f){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("Dispatcher_DEPRECATED")),h&&h.prototype,g.prototype.handleServerAction=function(i){this.$DevxFluxDispatcher1("serverAction",i)},g.prototype.handleViewAction=function(i){this.$DevxFluxDispatcher1("viewAction",i)},g.prototype.$DevxFluxDispatcher1=function(i,j){this.dispatch(babelHelpers["extends"]({source:i},j))},e.exports=new g},null);
__d("DevxProxyActions",["DevxFluxDispatcher"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g){Object.keys(g.ActionHandler).forEach(function(h){this[h]=function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];b("DevxFluxDispatcher").handleViewAction({action:h,args:j})}}.bind(this))}},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/moderate/ban/{comment_id}/",{comment_id:{type:"String",required:!0}})}),null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/createComment/{target_id}/",{target_id:{type:"Int",required:!0}})}),null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/createReply/{parent_comment_id}/",{parent_comment_id:{type:"String",required:!0}})}),null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/delete/",{})}),null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/edit/",{})}),null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/flag/",{})}),null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/moderate/hide/{url_id}/",{url_id:{type:"Int",required:!0},action:{type:"Enum",required:!0,enumType:1},type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/like/",{action_like:{type:"Bool",defaultValue:!1}})}),null);
__d("XPluginCommentsPagerAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/{target_id}/pager/{ordering}/",{target_id:{type:"Int",required:!0},ordering:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/async/comment/{comment_id}/pager/",{comment_id:{type:"String",required:!0}})}),null);
__d("getVisibleValueForContentState",["DraftEntity","emptyFunction"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.getBlockMap().map(function(i){var j=i.getText(),k="";return i.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(l,m){var n=i.getEntityAt(l);if(null===n)k+=j.slice(l,m);else{var o=b("DraftEntity").get(n);k+="EMOTICON"===o.getType()?o.getData().originalEmoticon:j.slice(l,m)}}),k});return h.join("\n")}},null);
__d("CommentsPluginStore",["invariant","AsyncDialog","AsyncRequest","XPluginCommentsBanAuthorAsyncController","XPluginCommentsCreateCommentAsyncController","XPluginCommentsCreateReplyAsyncController","XPluginCommentsDeleteCommentAsyncController","DeveloperCommentsModerationAction","DeveloperCommentsModerationSource","DeveloperCommentsModerationType","DevxFluxDispatcher","XPluginCommentsEditCommentAsyncController","XCommentEmbedPluginEmbedAsyncDialogController","XPluginCommentsFlagCommentAsyncController","XPluginCommentsLikeCommentAsyncController","XPluginCommentsHideCommentAsyncController","PluginOptin","XPluginCommentsPagerAsyncController","XPluginCommentsRepliesPagerAsyncController","UnverifiedXD","URI","WebStorage","getMentionsTextForContentState","getVisibleValueForContentState","mixInEventEmitter","nullthrows","uniqueID"],function(a,b,c,d,e,f,g){"use strict";function h(I){H.hasOwnProperty(I)?void 0:g(0)}function j(){Array.isArray(r)?void 0:g(0),s instanceof Object?void 0:g(0)}function k(I){var J,K=G.getUser().id,L=I.action,M=(J=H[I.action]).bind.apply(J,[H].concat(I.args));if(G.isLoggedIn()&&(G.isPlatformEnabled(K)||E[L])||D[L])M.call();else{var N=b("WebStorage").getSessionStorage();N&&N.setItem("previousState",JSON.stringify(l(I))),new(b("PluginOptin"))("comments").addReturnParams({numposts:Math.min(Math.max(1,t.totalCount),100),order_by:A.ordering}).start()}}function l(I){var J="",K="",L=[],M={},N={},O=u,P=v,Q=G.getCreateComposerContent();return Q&&(J=Q.encodedValue),F[I.action]||(K=I.action,L=I.args),Object.keys(B).forEach(function(R){var S=G.getCreateComposerContent(R);S.encodedValue&&(M[R]=S.encodedValue)}),Object.keys(C).forEach(function(R){var S=G.getEditComposerContent(R);S.encodedValue&&(N[R]=S.encodedValue)}),{commentBody:J,action:K,commentIDs:L,replies:M,edits:N,postToFeed:O,privacyOption:P}}function m(I,J,K){return K.indexOf(I)===J}function n(I,J){t.channelURL&&(J.href=t.href,b("UnverifiedXD").send({data:JSON.stringify(J),event:I,type:"sdk_event"},t.channelURL))}b.__markCompiled&&b.__markCompiled();var o="__DEVX__",p={visibleValue:"",encodedValue:""},q={maxLines:10,maxLength:1000},r=[],s={},t={userID:null,actors:{},actorsOptIn:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:"",iframeReferer:null,isMobile:!1,isModerator:!1,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{},minFeedLength:0,maxCommentLength:0,enablePhoto:!1,enableSticker:!1,ret:null,threadClosed:!1,shouldSwitchAccount:!1,fromModTool:!1,privacyOptionsList:[]},u=!1,v="current_composer",w={},x={},y={},z={},A={ordering:null,ranking_allowed:null},B={},C={},D={setPostToFeed:!0,sort:!0,showMoreComments:!0,showMoreReplies:!0,toggleVisibility:!0,setPrivacyOption:!0},E={restorePreviousState:!0,setUser:!0,edit:!0,showReplyComposer:!0,cancelEdit:!0,cancelReply:!0},F={addComment:!0,addReply:!0,saveEdit:!0},G={LOGGED_OUT_USER:"0",getCommentIDs:function I(){return r},getByID:function I(J){return j(),b("nullthrows")(s)[J]},isOptimisticComment:function I(J){return J.id.startsWith(o)},getCurrentSorting:function I(){return b("nullthrows")(A.ordering)},isRankingAllowed:function I(){return b("nullthrows")(A.ranking_allowed)},getTargetFBID:function I(){return b("nullthrows")(t.targetFBID)},getCommentsCount:function I(){return j(),t.totalCount},updateCommentsCount:function I(J){t.totalCount+=J,this.emit("commentsCountChange")},getUser:function I(){return t.user},getIframeReferer:function I(){return t.iframeReferer},getAuthor:function I(J){return this.getByID(this.getByID(J).authorID)},getPageSize:function I(){return 10},getCommentBodyTruncationLimits:function I(){return q},getComposerSearchSource:function I(){return t.composerSearchSource},getMirroredPage:function I(){return t.mirroredPage},getMinFeedLength:function I(){return t.minFeedLength+1},getMaxCommentLength:function I(){return t.maxCommentLength?t.maxCommentLength:Number.MAX_VALUE},isMirrored:function I(){return null!=this.getMirroredPage()},isReply:function I(J){var K=this.getByID(J);return K.targetID!==this.getTargetFBID()},getPermalink:function I(J){var K=this.getByID(J);return new(b("URI"))(K.ogURL).setQueryData({fb_comment_id:J}).toString()},isOptinReturn:function I(){return!!t.ret},setActor:function I(J){t.user=t.actors[J]},getPrivacyOptionsList:function I(){return t.privacyOptionsList},getPostToFeed:function I(){return u},getPrivacyOption:function I(){return v},setPostToFeed:function I(J){u=J},setPrivacyOption:function I(J){v=J},getEnablePhoto:function I(){return t.enablePhoto},getEnableSticker:function I(){return t.enableSticker},isDeeplinkComment:function I(){return!!t.deeplinkedCommentID&&t.fromModTool},getOriginalLink:function I(){return t.href},getCreateComposerAttachment:function I(J){return w[J||o]||null},setCreateComposerAttachment:function I(J,K){w[K||o]=J,this.emit("composerChange")},getEditComposerAttachment:function I(J){return x[J]||null},setEditComposerAttachment:function I(J,K){x[K]=J,this.emit("composerChange")},getLoadingCreateComposerAttachment:function I(J){return y[J||o]||!1},setLoadingCreateComposerAttachment:function I(J,K){y[K||o]=J,this.emit("composerChange")},getLoadingEditComposerAttachment:function I(J){return z[J]||!1},setLoadingEditComposerAttachment:function I(J,K){z[K]=J,this.emit("composerChange")},setCreateComposerState:function I(J,K){B[K||o]=J,this.emit("composerChange")},getCreateComposerState:function I(J){return B[J||o]||null},getCreateComposerContent:function I(J){return this._editorStateToComposerPayload(this.getCreateComposerState(J))},isEmptyCreateComposer:function I(J){return this.getLoadingCreateComposerAttachment(J)||""===this.getCreateComposerContent(J).visibleValue.trim()&&!this.getCreateComposerAttachment(J)},setEditComposerState:function I(J,K){C[K]=J,this.emit("composerChange")},getEditComposerState:function I(J){return C[J]},getEditComposerContent:function I(J){return this._editorStateToComposerPayload(this.getEditComposerState(J))},isEmptyEditComposer:function I(J){return this.getLoadingEditComposerAttachment(J)||""===this.getEditComposerContent(J).visibleValue.trim()&&!this.getEditComposerAttachment(J)},hasTextChanged:function I(J,K){return J.trim()!==K.trim()},hasAttachmentChanged:function I(J,K){return J?K?J.fbid!==K.fbid:!0:!!K},hasCommentChanged:function I(J,K){var L=this.getByID(J);return this.hasTextChanged(K.encodedValue,L.body.text)||this.hasAttachmentChanged(x[J],L.photo_comment||L.attachment)},_editorStateToComposerPayload:function I(J){if(!J)return p;var K=J.getCurrentContent(),L=b("getVisibleValueForContentState")(K),M=b("getMentionsTextForContentState")(K);return{visibleValue:L,encodedValue:M}},hasAttachment:function I(){for(var J=Object.keys(y),K=0;K<J.length;K++)if(y[J[K]]||w[J[K]])return!0;return!1},getActorIDs:function I(){return Object.keys(t.actors)},getModerateURL:function I(){return t.moderateURL},isLoggedIn:function I(){return t.user.id!==G.LOGGED_OUT_USER},isPlatformEnabled:function I(J){return t.actorsOptIn[J]},isMobile:function I(){return t.isMobile},useLegacyMentionsInput:function I(){return this.isMobile()||!this.isLoggedIn()},useCustomActorSelector:function I(){return this.isMobile()||450>document.body.offsetWidth},isViewerModerator:function I(){return t.isModerator},isThreadClosed:function I(){return t.threadClosed},shouldSwitchAccount:function I(){return t.shouldSwitchAccount},hasUnloadedComments:function I(){return!!t.afterCursor},hasUnloadedReplies:function I(J){var K=this.getByID(J).public_replies;return K?K.afterCursor?!0:(!K.commentIDs||0===K.commentIDs.length)&&0<K.totalCount?!0:!1:!1},getUnloadedCommentsCount:function I(){return t.totalCount-r.length},getDialogWidth:function I(){return Math.min(document.body.offsetWidth-10,this.isMobile()?320:445)},dispatcherIndex:b("DevxFluxDispatcher").register(function(I){h(I.action),k(I)}),init:function I(J,K,L,M){t=K,this.updateCommentData(J,L),Object.keys(t.actors).forEach(function(N){return s[N]=t.actors[N]}),this.setActor(t.userID),A.ranking_allowed=M},updateCommentData:function I(J,K){r=J.commentIDs,Object.assign(s,this.initComments(r,J.idMap)),A.ordering=K},initComment:function I(J){return J.collapsed=!1,J.editor=!1,J.composer=!1,J.deleted=!1,J.flagged=!1,J},initComments:function I(J,K){return J.forEach(function(L){return K[L]=this.initComment(K[L])}.bind(this)),K},emit:void 0,addListener:void 0,removeCurrentListener:void 0,ActionHandler:void 0};b("mixInEventEmitter")(G,{change:!0,composerChange:!0,composerCommentAdded:!0,login:!0,moreCommentsCompleted:!0,moreRepliesCompleted:!0,postError:!0,sortingCompleted:!0,sentryAction:!0,previousComposerCommentPrefill:!0,actorChange:!0,previousPostToFeedPrefill:!0,commentsCountChange:!0});var H={ban:function I(J){var K=G.getByID(J);K.deleted=!0,G.emit("change");var L=b("XPluginCommentsBanAuthorAsyncController").getURIBuilder().setString("comment_id",J).getURI();new(b("AsyncRequest"))(L).setMethod("POST").setData({ban:!0,source:b("DeveloperCommentsModerationSource").URL}).send()},hide:function I(J){var K=G.getByID(J);K.deleted=!0,G.emit("change");var L=b("XPluginCommentsHideCommentAsyncController").getURIBuilder().setInt("url_id",t.targetFBID).setEnum("action",b("DeveloperCommentsModerationAction").DELETE).setEnum("type",b("DeveloperCommentsModerationType").APPROVED).getURI();new(b("AsyncRequest"))(L).setData({comment_ids:[J]}).setMethod("POST").send()},addComment:function I(){var J=G.getCreateComposerContent(),K=this._getAttachmentFBID(G.getCreateComposerAttachment()),L=b("XPluginCommentsCreateCommentAsyncController").getURIBuilder().setInt("target_id",t.targetFBID).getURI();new(b("AsyncRequest"))(L).setData({app_id:t.appID,av:G.getUser().id,text:J.encodedValue,attached_photo_fbid:K.photoFBID,attached_sticker_fbid:K.stickerFBID,post_to_feed:G.getPostToFeed(),privacy_option:G.getPrivacyOption(),iframe_referer:t.iframeReferer}).setMethod("POST").setHandler(function(M){var N=M.payload,O=N.commentID;this._prependComment(N.idMap[O]),delete B[o],G.emit("composerCommentAdded",{}),n("comment.create",{commentID:O,message:J.visibleValue}),N.sentryAction&&G.emit("sentryAction",N.sentryAction,O)}.bind(this)).setErrorHandler(function(M){delete s[o],r.shift(),G.updateCommentsCount(-1),G.emit("change"),G.emit("postError",M)}).send(),this._prependComment({authorID:t.user.id,targetID:t.targetFBID,body:{text:J.visibleValue}}),G.updateCommentsCount(1)},addReply:function I(J){var K=G.getCreateComposerContent(J),L=this._getAttachmentFBID(G.getCreateComposerAttachment(J)),M=b("XPluginCommentsCreateReplyAsyncController").getURIBuilder().setString("parent_comment_id",J).getURI(),N=o+b("uniqueID")();new(b("AsyncRequest"))(M).setData({app_id:t.appID,av:G.getUser().id,text:K.encodedValue,attached_photo_fbid:L.photoFBID,attached_sticker_fbid:L.stickerFBID,iframe_referer:t.iframeReferer,replied_to:G.getByID(J).replyToCommentID}).setMethod("POST").setHandler(function(Q){var R=G.getByID(J),S=Object.assign({},R.public_replies);Object.assign(s,Q.payload.idMap),R=G.getByID(J),R.public_replies=S,delete s[N],delete B[J],r.splice(r.indexOf(N),1),R.composer=!1,delete R.replyToCommentID,R.public_replies.commentIDs.pop(),R.public_replies.commentIDs.push(Q.payload.commentID),n("comment.create",{commentID:Q.payload.commentID,parentCommentID:J,message:K.visibleValue}),G.emit("change")}).setErrorHandler(function(Q){delete s[N],r.splice(r.indexOf(N),1),O=G.getByID(J),O.public_replies.commentIDs.pop(),O.public_replies.totalCount--,O.composer=!1,delete O.replyToCommentID,G.updateCommentsCount(-1),G.emit("change"),G.emit("postError",Q)}).send();var O=G.getByID(J),P=Object.assign({},O.public_replies);P.commentIDs||(P.commentIDs=[]),P.totalCount||(P.totalCount=0),P.totalCount++,P.commentIDs.push(N),O.public_replies=P,s[N]={authorID:t.user.id,body:{text:K.visibleValue},targetID:J,id:N},r.push(N),G.updateCommentsCount(1),G.emit("change")},_prependComment:function I(J){J.id?(r.shift(),delete s[o]):J.id=o,r.unshift(J.id),s[J.id]=G.initComment(J),G.emit("change")},_getAttachmentFBID:function I(J){var K=0,L=0;return J&&("photo"===J.attachmentType?K=b("nullthrows")(J.fbid):"sticker"===J.attachmentType&&(L=b("nullthrows")(J.fbid))),{photoFBID:K,stickerFBID:L}},edit:function I(J,K){var L=G.getByID(J);L.editor=!0,L.prefillText=K,G.emit("change")},saveEdit:function I(J){var K=JSON.parse(JSON.stringify(G.getByID(J))),L=b("XPluginCommentsEditCommentAsyncController").getURIBuilder().getURI(),M=G.getEditComposerContent(J),N=this._getAttachmentFBID(G.getEditComposerAttachment(J)),O=G.hasCommentChanged(J,M);if(O){new(b("AsyncRequest"))(L).setMethod("POST").setData({app_id:t.appID,text:M.encodedValue,comment_id:J,av:G.getAuthor(J).id,attached_photo_fbid:N.photoFBID,attached_sticker_fbid:N.stickerFBID,iframe_referer:t.iframeReferer}).setHandler(function(Q){var R=Q.payload;s[R.commentID]=G.initComment(R.idMap[R.commentID]),delete C[J],G.emit("change")}).setErrorHandler(function(Q){K.editor=!1,Object.assign(G.getByID(J),K),G.emit("change"),G.emit("postError",Q)}).send();var P=G.getByID(J);P.editor=!1,P.body.text=M.visibleValue,0===N.photoFBID&&delete P.photo_comment,0===N.stickerFBID&&delete P.attachment,delete P.ranges,G.emit("change")}else this.cancelEdit(J)},cancelEdit:function I(J){var K=G.getByID(J);K.editor=!1,G.emit("change")},"delete":function I(J){var K=G.getByID(J);K.deleted=!0;var L=b("XPluginCommentsDeleteCommentAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(L).setData({app_id:t.appID,comment_id:J,av:G.getAuthor(J).id,iframe_referer:t.iframeReferer}).setMethod("POST").setHandler(function(){return n("comment.remove",{commentID:J})}).setErrorHandler(function(M){var N=G.getByID(J);N.deleted=!1,G.updateCommentsCount(1),G.emit("change")}).send(),G.updateCommentsCount(-1),G.emit("change")},like:function I(J){var K=G.getByID(J),L=b("XPluginCommentsLikeCommentAsyncController").getURIBuilder().setBool("action_like",!K.hasLiked).getURI();new(b("AsyncRequest"))(L).setData({app_id:t.appID,comment_id:K.id,iframe_referer:t.iframeReferer}).setMethod("POST").setHandler(function(M){var N=M.payload;Object.assign(s[N.commentID],G.initComment(N.idMap[N.commentID])),G.emit("change")}).setErrorHandler(function(M){K.likeCount--,K.hasLiked=!1,G.emit("postError",M)}).send(),K.hasLiked=!K.hasLiked,K.hasLiked?K.likeCount++:0<K.likeCount&&K.likeCount--,s[K.id]=K,G.emit("change")},sort:function I(J){var K=b("XPluginCommentsPagerAsyncController").getURIBuilder().setInt("target_id",t.targetFBID).setEnum("ordering",J).getURI();new(b("AsyncRequest"))(K).setMethod("POST").setData({app_id:t.appID,limit:G.getPageSize(),iframe_referer:t.iframeReferer}).setHandler(function(L){var M=L.payload;t.afterCursor=M.afterCursor,G.updateCommentData(M,J),G.emit("sortingCompleted"),G.emit("change")}).send()},showMoreComments:function I(){var J=b("XPluginCommentsPagerAsyncController").getURIBuilder().setInt("target_id",t.targetFBID).setEnum("ordering",G.getCurrentSorting()).getURI();new(b("AsyncRequest"))(J).setMethod("POST").setData({app_id:t.appID,after_cursor:t.afterCursor,limit:G.getPageSize(),deeplinked_comment_id:t.deeplinkedCommentID,iframe_referer:t.iframeReferer}).setHandler(function(K){var L=K.payload;t.afterCursor=L.afterCursor,r=r.concat(L.commentIDs).filter(m),Object.assign(s,G.initComments(L.commentIDs,L.idMap)),G.emit("moreCommentsCompleted"),G.emit("change")}).setErrorHandler(function(K){G.emit("postError",K),G.emit("moreCommentsCompleted")}).send()},setUser:function I(J){G.setActor(J),G.emit("actorChange")},setPostToFeed:function I(J){G.setPostToFeed(J)},setPrivacyOption:function I(J){G.setPrivacyOption(J)},showMoreReplies:function I(J){var K=b("XPluginCommentsRepliesPagerAsyncController").getURIBuilder().setString("comment_id",J).getURI(),L=G.getByID(J).public_replies;new(b("AsyncRequest"))(K).setMethod("POST").setData({app_id:t.appID,after_cursor:L.afterCursor,limit:G.getPageSize(),iframe_referer:t.iframeReferer}).setHandler(function(M){var N=M.payload;s=Object.assign(G.initComments(N.commentIDs,N.idMap),s),L.afterCursor=N.afterCursor,L.commentIDs=L.commentIDs.concat(N.commentIDs).filter(m),G.emit("moreRepliesCompleted",{commentID:J}),G.emit("change")}).setErrorHandler(function(M){G.emit("postError",M),G.emit("moreRepliesCompleted",{commentID:J})}).send()},toggleVisibility:function I(J){var K=G.getByID(J);K.collapsed=!K.collapsed,G.emit("change")},flag:function I(J){s[J].flagged=!0,this._sendFlagOrUnflagRequest(J,"flag"),G.emit("change")},unflag:function I(J){s[J].flagged=!1,this._sendFlagOrUnflagRequest(J,"unflag"),G.emit("change")},_sendFlagOrUnflagRequest:function I(J,K){var L=b("XPluginCommentsFlagCommentAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(L).setData({app_id:t.appID,comment_id:J,iframe_referer:t.iframeReferer,unflag:"unflag"===K}).setMethod("POST").setErrorHandler(function(M){s[J].flagged=!s[J].flagged,G.emit("postError",M)}).send()},report:function I(J){window.open(G.getByID(J).reportURI,"_blank")},showReplyComposer:function I(J,K){var L=G.getByID(J);G.isReply(J)&&(L=G.getByID(L.targetID),L.replyToCommentID=J),L.prefillText=K,L.composer=!0,G.emit("change")},cancelReply:function I(J){var K=G.getByID(J);K.composer=!1,delete K.replyToCommentID,G.emit("change")},restorePreviousState:function I(){var J=this,K=b("WebStorage").getSessionStorage();K&&function(){var L=JSON.parse(K.getItem("previousState"));K.clear();var M=G.getCommentIDs();if(L.action){var N={};N.action=L.action,N.args=L.commentIDs,k(N)}var O=L.replies,P=L.edits;M.map(function(Q){O[Q]&&this.showReplyComposer(Q,O[Q]),P[Q]&&this.edit(Q,P[Q])}.bind(J)),L.commentBody&&G.emit("previousComposerCommentPrefill",{prefillText:L.commentBody}),L.postToFeed&&(J.setPostToFeed(L.postToFeed),G.emit("previousPostToFeedPrefill"))}()},embed:function I(J){var K=b("XCommentEmbedPluginEmbedAsyncDialogController").getURIBuilder().setString("comment_id",J).setInt("width",G.getDialogWidth()).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(K))}};G.ActionHandler=H,e.exports=G},null);
__d("CommentsPluginActions",["CommentsPluginStore","DevxProxyActions"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=new(b("DevxProxyActions"))(b("CommentsPluginStore"))},null);
__d("CommentsPluginAction",["fbt"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h={EDIT:"edit",DELETE:"delete",FLAG:"flag",SETUSER:"setUser",BAN:"ban",HIDE:"hide",REPORT:"report",COLLAPSE:"collapse",EMBED:"embed",getLabel:function i(j){return j===h.COLLAPSE?g._("Thu g\u1ecdn b\u00ecnh lu\u1eadn"):j===h.EDIT?g._("Ch\u1ec9nh s\u1eeda b\u00ecnh lu\u1eadn"):j===h.DELETE?g._("X\u00f3a b\u00ecnh lu\u1eadn"):j===h.FLAG?g._("\u0110\u00e1nh d\u1ea5u l\u00e0 spam"):j===h.BAN?g._("C\u1ea5m ng\u01b0\u1eddi d\u00f9ng"):j===h.HIDE?g._("\u1ea8n b\u00ecnh lu\u1eadn"):j===h.REPORT?g._("B\u00e1o c\u00e1o cho Facebook"):j===h.SETUSER?g._("Chuy\u1ec3n \u0111\u1ed5i t\u00e0i kho\u1ea3n"):j===h.EMBED?g._("Nh\u00fang"):void 0},getMenuActions:function i(){return[h.COLLAPSE,h.EDIT,h.DELETE,h.FLAG,h.BAN,h.HIDE,h.REPORT,h.EMBED]}};e.exports=h},null);
__d("MixinCommentsPluginConfirmAction",["fbt","invariant","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","React","Set","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h){"use strict";b.__markCompiled&&b.__markCompiled();var i=120;e.exports={componentWillMount:function j(){this.setState({actionConfirmationShown:!1,action:null,id:null,pageY:null})},requiresConfirmation:function j(k){var l=new(b("Set"))([b("CommentsPluginAction").DELETE,b("CommentsPluginAction").BAN,b("CommentsPluginAction").HIDE]);return l.has(k)},confirmAction:function j(k,l,m){this.setState({actionConfirmationShown:!0,action:k,id:l,pageY:m})},_onActionConfirmed:function j(){b("CommentsPluginActions")[this.state.action](this.state.id),this.setState({actionConfirmationShown:!1})},_onActionCancelled:function j(){this.setState({actionConfirmationShown:!1})},_getActionMetadata:function j(k){switch(k){case b("CommentsPluginAction").DELETE:return{body:g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?"),button_label:g._("X\u00e1c nh\u1eadn x\u00f3a")};case b("CommentsPluginAction").BAN:return{body:g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n c\u1ea5m ng\u01b0\u1eddi d\u00f9ng n\u00e0y kh\u00f4ng?"),button_label:g._("X\u00e1c nh\u1eadn c\u1ea5m")};case b("CommentsPluginAction").HIDE:return{body:g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n \u1ea9n b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?"),button_label:g._("X\u00e1c nh\u1eadn \u1ea9n")};case b("CommentsPluginAction").SETUSER:return{body:g._("B\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch m\u1ed9t t\u00e0i kho\u1ea3n kh\u00e1c s\u1ebd x\u00f3a n\u1ed9i dung \u0111\u00ednh k\u00e8m m\u00e0 b\u1ea1n \u0111\u00e3 t\u1ea3i l\u00ean."),button_label:g._("Chuy\u1ec3n \u0111\u1ed5i t\u00e0i kho\u1ea3n")};default:h(0);}},renderActionConfirmationDialog:function j(){var k=this.state.action;if(!k)return null;var l=this._getActionMetadata(k);return b("React").createElement(b("XUIDialog.react"),{shown:this.state.actionConfirmationShown,fixedTopPosition:this.state.pageY+i<document.body.offsetHeight?this.state.pageY-i/2:null,width:b("CommentsPluginStore").getDialogWidth()},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},b("CommentsPluginAction").getLabel(k)),b("React").createElement(b("XUIDialogBody.react"),null,l.body),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this._onActionCancelled.bind(this)}),b("React").createElement(b("XUIDialogButton.react"),{use:"confirm",label:l.button_label,onClick:this._onActionConfirmed.bind(this)})))}}},null);
__d("CommentsPluginAuthorSelector.react",["cx","fbt","ActorSelector.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","MixinCommentsPluginConfirmAction","React","ShortProfiles","XUIText.react","classWithMixins","joinClasses","mixin"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(k){j.constructor.call(this,k),this.$CommentsPluginAuthorSelector1=function(l){b("CommentsPluginStore").hasAttachment()?this.confirmAction(b("CommentsPluginAction").SETUSER,l):b("CommentsPluginActions").setUser(l)}.bind(this),this.actorIDs=b("CommentsPluginStore").getActorIDs(),this.state={actorsData:null}}b.__markCompiled&&b.__markCompiled(),i=babelHelpers.inherits(h,b("classWithMixins")(b("React").Component,b("mixin")(b("MixinCommentsPluginConfirmAction")))),j=i&&i.prototype,h.prototype.componentWillMount=function(){1<this.actorIDs.length&&b("CommentsPluginStore").useCustomActorSelector()&&b("ShortProfiles").getMulti(this.actorIDs,function(k){this.setState({actorsData:k})}.bind(this))},h.prototype.$CommentsPluginAuthorSelector2=function(k){return g._("\u0110ang b\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch {actorName}",[g.param("actorName",k)])},h.prototype.render=function(){var k,l=this;if(1>=this.actorIDs.length)return null;var m=b("CommentsPluginStore").getUser().id;if(b("CommentsPluginStore").useCustomActorSelector()){var k=function(){var n=l.state.actorsData;return n?{v:b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("XUIText.react"),{size:"small",className:"_1y5f _2pih"},g._("B\u00ecnh lu\u1eadn v\u1edbi t\u01b0 c\u00e1ch")),b("React").createElement("select",{value:m,onChange:function(o){return this.$CommentsPluginAuthorSelector1(o.target.value)}.bind(l),className:"_1y5g"},l.actorIDs.map(function(o){return b("React").createElement("option",{value:o,key:o},n&&n[o].name)})),l.renderActionConfirmationDialog())}:{v:null}}();if("object"==typeof k)return k.v}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"inlineBlock")},b("React").createElement(b("ActorSelector.react"),{actorIDs:this.actorIDs,coverEnabled:!1,selectedActorID:m,onChange:function(n){return this.$CommentsPluginAuthorSelector1(n.value)}.bind(this),tooltipConstructor:this.$CommentsPluginAuthorSelector2}),this.renderActionConfirmationDialog())},e.exports=h},null);
__d("CommentsPluginComposerMirroringNotice.react",["cx","fbt","CommentsPluginStore","React"],function(a,b,c,d,e,f,cx,g){"use strict";var i;function h(){i.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var j=b("React").PropTypes;i=babelHelpers.inherits(h,b("React").Component),i&&i.prototype,h.prototype.render=function(){var k=b("CommentsPluginStore").getMirroredPage();return k?b("React").createElement("div",{className:"_5sge _2ph-"},k.name?this.props.isReply?g._("C\u00e2u tr\u1ea3 l\u1eddi c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Trang Facebook c\u1ee7a {page name}.",[g.param("page name",b("React").createElement("a",{href:k.uri,target:"blank"},k.name))]):g._("B\u00ecnh lu\u1eadn c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Trang Facebook c\u1ee7a {page name}.",[g.param("page name",b("React").createElement("a",{href:k.uri,target:"blank"},k.name))]):this.props.isReply?g._("C\u00e2u tr\u1ea3 l\u1eddi c\u1ee7a b\u1ea1n c\u0169ng c\u00f3 th\u1ec3 xu\u1ea5t hi\u1ec7n tr\u00ean Facebook."):g._("B\u00ecnh lu\u1eadn c\u1ee7a b\u1ea1n c\u00f3 th\u1ec3 c\u0169ng xu\u1ea5t hi\u1ec7n tr\u00ean Facebook.")):null},h.propTypes={isReply:j.bool},e.exports=h},null);
__d("CommentsPluginProfilePicture.react",["cx","Image.react","React"],function(a,b,c,d,e,f,cx){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var i=b("React").PropTypes;h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){return b("React").createElement("a",babelHelpers["extends"]({},this.props,{href:this.props.href}),b("React").createElement(b("Image.react"),{className:(this.props.isReply?"":"_1ci")+(this.props.isReply?" "+"_1cj":""),src:this.props.src}))},g.propTypes={href:i.string.isRequired,src:i.string.isRequired,isReply:i.bool},e.exports=g},null);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","immutable","generateRandomKey","sanitizeDraftText"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("immutable").List,h=b("immutable").Repeat,i=b("CharacterMetadata").EMPTY;e.exports=function(j){return j.map(function(k){k=b("sanitizeDraftText")(k);var l=k.length;return new(b("ContentBlock"))({key:b("generateRandomKey")(),text:k,type:"unstyled",characterList:g(h(i,l))})})}},null);
__d("createEditorStateWithEntities",["ContentState","EditorState","UnicodeUtils","applyEntityToContentBlock","createPlainBlocksFromText"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled(),e.exports=function(g){var h=g.text,j=g.ranges,k=g.decorator,l=g.entityCreationFn,m=g.splitIntoBlocks,n=g.allowUndo;m===void 0&&(m=!0),h||(h="");var o=[],p=[],q=m?h.split(/(\r\n?|\n)/g):[h],r=0;q.forEach(function(u,v){0==v%2&&(o.push(u),p.push(r)),r+=b("UnicodeUtils").strlen(u)});var s=b("createPlainBlocksFromText")(o);j&&j.length&&l&&j.forEach(function(u){var v=l(u.entity);if(null===v)return;for(var w,x,y=u.offset,z=0;z<p.length;z++){var A=p[z],B=p[z+1];if(B===void 0||y>=A&&y<B){w=s[z],x=y-A;break}}var C=b("UnicodeUtils").substr(s[z].getText(),0,x);x=C.length,s[z]=b("applyEntityToContentBlock")(w,x,x+u.length,v)});var t=b("EditorState").createWithContent(b("ContentState").createFromBlockArray(s),k);return!1===n&&(t=b("EditorState").set(t,{allowUndo:!1})),t}},null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","DraftEntity","EmoticonsList","immutable"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=b("immutable").List;e.exports=function(h,i,j){if(!b("EmoticonsList").emotes[i])return h;var k=b("DraftEntity").create("EMOTICON","IMMUTABLE",{type:b("EmoticonsList").emotes[i],originalEmoticon:i}),l=h.getText(),m=h.getCharacterList(),n=i.length,o=m.get(j);return h.merge({text:l.slice(0,j)+"\u3000"+l.slice(j+n),characterList:m.slice(0,j).concat(g.of(b("CharacterMetadata").applyEntity(o,k)),m.slice(j+n))})}},null);
__d("insertEmoticonIntoContentState",["DraftModifier","applyEmoticonToContentBlock"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled(),e.exports=function(g,h,i){var j=b("DraftModifier").replaceText(h,i,g),k=i.getAnchorKey(),l=i.getAnchorOffset(),m=j.getBlockForKey(k),n=j.getBlockMap().set(k,b("applyEmoticonToContentBlock")(m,g,l));return l++,h.merge({blockMap:n,selectionBefore:i,selectionAfter:i.merge({anchorOffset:l,focusOffset:l})})}},null);
__d("insertEmoticonIntoEditorState",["DraftModifier","EditorState","insertEmoticonIntoContentState"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=" ";e.exports=function(h,i){var j=i.getSelection(),k=i.getCurrentContent(),l=j.getStartOffset(),m=j.getEndOffset(),n=k.getBlockForKey(j.getStartKey()).getText(),o=k.getBlockForKey(j.getEndKey()).getText(),p="";m<=o.length&&o[m]!==g&&(p=g),0<l&&n[l-1]!==g&&(k=b("DraftModifier").insertText(k,j,g),j=k.getSelectionAfter());var q=b("insertEmoticonIntoContentState")(h,k,j);return k=b("DraftModifier").insertText(q,q.getSelectionAfter(),p),b("EditorState").push(i,k,"insert-characters")}},null);
__d("CommentsPluginComposer.react",["cx","fbt","ActorURI","AsyncRequest","CommentsPluginStore","CommentsPluginComposerMirroringNotice.react","CommentsPluginConfig","CommentsPluginProfilePicture.react","DraftEntity","EditorState","EmoticonsList","MentionsInput.react","React","UFIAttachMediaSection.react","UFIAttachedMediaPreview.react","UFICommentUtils","UFIImageBlock.react","UFIStickerButton.react","XUINotice.react","XUITypeaheadView.react","createEditorStateWithEntities","getMentionsInputDecorator","getVisibleValueForContentState","insertEmoticonIntoEditorState","joinClasses"],function(a,b,c,d,e,f,cx,g){"use strict";var j,k;function h(m){return b("DraftEntity").create("MENTION","IMMUTABLE",{id:m.id})}function i(m,n){k.constructor.call(this,m,n),this.$CommentsPluginComposer10=function(o){this.setState({editorState:o}),this.props.editCommentID?b("CommentsPluginStore").setEditComposerState(o,this.props.editCommentID):b("CommentsPluginStore").setCreateComposerState(o,this.props.parentCommentIDOfNewReply)}.bind(this),this.$CommentsPluginComposer12=function(){this.setState({expanded:!0})}.bind(this),this.state=this.$CommentsPluginComposer1()}b.__markCompiled&&b.__markCompiled();var l=b("React").PropTypes;j=babelHelpers.inherits(i,b("React").Component),k=j&&j.prototype,i.prototype.$CommentsPluginComposer1=function(m){var n=null,o=null,p=m||this.props.prefillText;if(p)n=this.$CommentsPluginComposer2(p),this.props.editCommentID?b("CommentsPluginStore").setEditComposerState(n,this.props.editCommentID):b("CommentsPluginStore").setCreateComposerState(n,this.props.parentCommentIDOfNewReply);else{var q=null,r=null;if(this.props.editCommentID)o=b("CommentsPluginStore").getByID(this.props.editCommentID),n=b("createEditorStateWithEntities")({text:o.body.text,ranges:b("UFICommentUtils").shallowCopyRanges(o.ranges).filter(function(u){return!u.entity.external}),decorator:b("getMentionsInputDecorator")(),entityCreationFn:h}),o.photo_comment?(q=o.photo_comment,q.attachmentType="photo",this.$CommentsPluginComposer3(q)):o.attachment&&(r=o.attachment,r.attachmentType="sticker",this.$CommentsPluginComposer3(r));else if(this.props.parentCommentIDOfNewReply&&(o=b("CommentsPluginStore").getByID(this.props.parentCommentIDOfNewReply),o.replyToCommentID&&b("CommentsPluginStore").getAuthor(o.replyToCommentID).id!==b("CommentsPluginStore").getUser().id)){var s=b("CommentsPluginStore").getAuthor(o.replyToCommentID),t={id:s.id,text:s.name,offset:0,length:s.name.length,entity:{id:s.id}};n=b("EditorState").moveFocusToEnd(b("createEditorStateWithEntities")({text:s.name+" ",ranges:[t],decorator:b("getMentionsInputDecorator")(),entityCreationFn:h}))}n||(n=b("EditorState").createEmpty(b("getMentionsInputDecorator")()))}return{editorState:n,expanded:p||!!this.props.alwaysExpanded,attachedPhoto:q,attachedSticker:r}},i.prototype.$CommentsPluginComposer2=function(m){return b("createEditorStateWithEntities")({text:m,decorator:b("getMentionsInputDecorator")()})},i.prototype.$CommentsPluginComposer4=function(){return!this.props.editCommentID&&!this.props.parentCommentIDOfNewReply},i.prototype.$CommentsPluginComposer3=function(m){this.props.editCommentID?b("CommentsPluginStore").setEditComposerAttachment(m,this.props.editCommentID):b("CommentsPluginStore").setCreateComposerAttachment(m,this.props.parentCommentIDOfNewReply)},i.prototype.$CommentsPluginComposer5=function(m){this.props.editCommentID?b("CommentsPluginStore").setLoadingEditComposerAttachment(m,this.props.editCommentID):b("CommentsPluginStore").setLoadingCreateComposerAttachment(m,this.props.parentCommentIDOfNewReply)},i.prototype.$CommentsPluginComposer6=function(){return this.props.editCommentID?b("CommentsPluginStore").getLoadingEditComposerAttachment(this.props.editCommentID):b("CommentsPluginStore").getLoadingCreateComposerAttachment(this.props.parentCommentIDOfNewReply)},i.prototype.$CommentsPluginComposer7=function(){return this.state.isLoadingAttachment||!!this.state.attachedSticker||!!this.state.attachedPhoto},i.prototype.getPhotoUploadData=function(){var m=b("CommentsPluginStore").getUser().id,n={profile_id:m,target_id:this.props.targetID,source:19};return n[b("ActorURI").PARAMETER_ACTOR]=m,n},i.prototype.onPhotoUploadComplete=function(m){if(!this.$CommentsPluginComposer6())return;var n=m.getPayload();n&&n.fbid?(n.attachmentType="photo",this.$CommentsPluginComposer3(n),this.$CommentsPluginComposer5(!1),this.setState({attachedPhoto:n,isLoadingAttachment:!1,expanded:!0})):this.resetAttachment(null)},i.prototype.onStickerSelected=function(m){this.$CommentsPluginComposer8(),new(b("AsyncRequest"))("/ajax/ufi/sticker_preview/").setData({sticker_id:m}).setErrorHandler(this.resetAttachment.bind(this)).setHandler(this.$CommentsPluginComposer9.bind(this)).send()},i.prototype.$CommentsPluginComposer9=function(m){if(!this.$CommentsPluginComposer6())return;var n=m.getPayload();n&&n.fbid?(n.attachmentType="sticker",this.$CommentsPluginComposer3(n),this.$CommentsPluginComposer5(!1),this.setState({attachedSticker:n,isLoadingAttachment:!1,expanded:!0})):this.resetAttachment(null)},i.prototype.insertEmoticonToCommentText=function(m){var n=b("EmoticonsList").symbols[m];if(!n)return;var o=b("insertEmoticonIntoEditorState")(n,this.state.editorState);o!==this.state.editorState&&this.$CommentsPluginComposer10(o)},i.prototype.resetAttachment=function(m){this.$CommentsPluginComposer3(void 0),this.$CommentsPluginComposer5(!1),this.setState({attachedPhoto:null,attachedSticker:null,isLoadingAttachment:!1})},i.prototype.$CommentsPluginComposer8=function(){this.$CommentsPluginComposer3(void 0),this.$CommentsPluginComposer5(!0),this.setState({attachedSticker:null,attachedPhoto:null,isLoadingAttachment:!0})},i.prototype.componentDidMount=function(){b("CommentsPluginStore").addListener("composerCommentAdded",function(m){if(this.$CommentsPluginComposer4()){var n=this.$CommentsPluginComposer1();n.expanded=!0,this.setState(n),this.refs.composer.style&&(this.refs.composer.style.cssText="")}}.bind(this)),b("CommentsPluginStore").addListener("previousComposerCommentPrefill",function(m){var n=this.$CommentsPluginComposer1(m.prefillText);n.expanded=!0,this.setState(n)}.bind(this)),this.$CommentsPluginComposer4()||this.refs.composer.focus()},i.prototype.$CommentsPluginComposer11=function(){return this.props.editCommentID?b("CommentsPluginStore").isReply(this.props.editCommentID):!!this.props.parentCommentIDOfNewReply},i.prototype.setFileInput=function(m,n){this.setState({fileInput:m,fileUploader:n})},i.prototype.$CommentsPluginComposer13=function(){return b("getVisibleValueForContentState")(this.state.editorState.getCurrentContent())},i.prototype.$CommentsPluginComposer14=function(m){var n=m.target,o=n.value;n.value="",n.value=o,this.$CommentsPluginComposer12()},i.prototype.$CommentsPluginComposer15=function(m){var n=m.target,o=n.scrollHeight;n.offsetHeight<o&&(n.style.cssText="height:"+o+"px"),this.$CommentsPluginComposer10(b("createEditorStateWithEntities")({text:n.value}))},i.prototype.$CommentsPluginComposer16=function(){var m=this.props.placeholder||g._("Th\u00eam b\u00ecnh lu\u1eadn...");return b("CommentsPluginStore").useLegacyMentionsInput()?b("React").createElement("textarea",{className:"_1cb"+(" "+"_1u9t")+(this.props.readOnly?" "+"_5pu_":""),placeholder:m,ref:"composer",onFocus:this.$CommentsPluginComposer14.bind(this),onChange:this.$CommentsPluginComposer15.bind(this),readOnly:this.props.readOnly,value:this.$CommentsPluginComposer13()}):b("React").createElement(b("MentionsInput.react"),{className:"_1cb"+(this.props.readOnly?" "+"_5pu_":""),editorState:this.state.editorState,mentionsSource:b("CommentsPluginStore").getComposerSearchSource(),onChange:this.$CommentsPluginComposer10,onFocus:this.$CommentsPluginComposer12,placeholder:m,readOnly:this.props.readOnly,typeaheadView:b("XUITypeaheadView.react"),ref:"composer"})},i.prototype.render=function(){var m=this.props.editCommentID?b("CommentsPluginStore").getAuthor(this.props.editCommentID):b("CommentsPluginStore").getUser(),n=this.$CommentsPluginComposer11();return b("React").createElement(b("UFIImageBlock.react"),{spacing:"medium",className:b("joinClasses")("_4uyl"+(n?" "+"_1zz6":"")+(this.state.expanded?"":" "+"_1zz7")+(!this.state.expanded?"":" "+"_1zz8"),this.props.className)},b("CommentsPluginStore").useCustomActorSelector()?b("React").createElement("div",null):b("React").createElement(b("CommentsPluginProfilePicture.react"),{href:m.uri,src:m.thumbSrc,isReply:n,target:"_blank"}),b("React").createElement("div",null,b("React").createElement("div",{className:"UFIInputContainer"},this.$CommentsPluginComposer16(),b("React").createElement("div",{className:"UFICommentAttachmentButtons"+(" "+"clearfix")+(b("CommentsPluginStore").isPlatformEnabled(m.id)&&b("CommentsPluginStore").isLoggedIn()&&!this.$CommentsPluginComposer7()?"":" "+"hidden_elem")},this.props.allowPhotoAttachments?b("React").createElement(b("UFIAttachMediaSection.react"),{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.$CommentsPluginComposer8.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto,viewerActorID:b("CommentsPluginStore").getUser().id}):null,this.props.allowStickerAttachments?b("React").createElement(b("UFIStickerButton.react"),{onStickerSelected:this.onStickerSelected.bind(this),onEmoticonSelected:this.insertEmoticonToCommentText.bind(this)}):null)),b("React").createElement(b("UFIAttachedMediaPreview.react"),{attachedPhoto:this.state.attachedPhoto,attachedSticker:this.state.attachedSticker,onRemoveAttachedMediaPreviewClicked:this.resetAttachment.bind(this),onRemoveAttachedStickerPreview:this.resetAttachment.bind(this),isLoadingPhoto:this.state.isLoadingAttachment}),this.props.unableToPost?b("React").createElement(b("XUINotice.react"),{use:"warn"},g._({"*":"B\u00ecnh lu\u1eadn ph\u1ea3i d\u01b0\u1edbi {lengthLimit} k\u00fd t\u1ef1"},[g.param("lengthLimit",b("CommentsPluginStore").getMaxCommentLength(),[0])])):null,this.state.expanded?b("React").createElement("div",{className:"_4uym"},b("React").createElement(b("CommentsPluginComposerMirroringNotice.react"),{isReply:n}),this.props.children):null))},i.propTypes={editCommentID:l.string,parentCommentIDOfNewReply:l.string,readOnly:l.bool,placeholder:l.node,alwaysExpanded:l.bool,unableToPost:l.bool,allowStickerAttachments:l.bool,allowPhotoAttachments:l.bool},e.exports=i},null);
__d("CommentsPluginPrivacySelector.react",["ix","cx","Image.react","React","XUISelector.react","XUISingleSelector.react","fbglyph"],function(a,b,c,d,e,f,ix,cx){var h,i;function g(k){i.constructor.call(this,k),this.$CommentsPluginPrivacySelector1=function(l){this.props.onChange(l.value)}.bind(this),this.addlPrivacyOptions=k.addlPrivacyOptions}b.__markCompiled&&b.__markCompiled();var j=b("XUISelector.react").Option;h=babelHelpers.inherits(g,b("React").Component),i=h&&h.prototype,g.prototype.getSelectedOption=function(){return this.state.value},g.prototype.render=function(){var k=b("React").createElement(j,{value:"everyone",icon:b("React").createElement(b("Image.react"),{src:ix("/images/assets_DO_NOT_HARDCODE/fb_glyphs/globe-americas_12_fig-black.png")}),selected:!0},"Everyone"),l=b("React").createElement(j,{value:"friends",icon:b("React").createElement(b("Image.react"),{src:ix("/images/assets_DO_NOT_HARDCODE/fb_glyphs/friend-friends_12_fig-black.png")})},"Friends Only"),m=b("React").createElement(j,{value:"onlyMe",icon:b("React").createElement(b("Image.react"),{src:ix("/images/assets_DO_NOT_HARDCODE/fb_glyphs/lock_12_fig-black.png")})},"Only Me"),n=this.addlPrivacyOptions.map(function(o){return b("React").createElement(j,{value:o},o)});return b("React").createElement("div",{className:"inlineBlock"},b("React").createElement(b("XUISingleSelector.react"),{defaultValue:this.props.privacyOption,onChange:this.$CommentsPluginPrivacySelector1},k,l,m,n))},e.exports=g},null);
__d("CommentsPluginComposerComment.react",["cx","fbt","CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginConfig","CommentsPluginStore","Grid.react","InputLabel.react","LeftRight.react","React","XUIButton.react","XUICheckboxInput.react","CommentsPluginPrivacySelector.react"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(l){j.constructor.call(this,l),this.$CommentsPluginComposerComment1=function(m){this.setState({privacyOption:m})}.bind(this),this.$CommentsPluginComposerComment2=function(m){var n=!this.state.postToFeed;this.setState({postToFeed:n}),b("CommentsPluginActions").setPostToFeed(n)}.bind(this),this.$CommentsPluginComposerComment3=function(){b("CommentsPluginStore").isLoggedIn()&&this.setState({waitingAsyncResponse:!0}),b("CommentsPluginActions").setPostToFeed(this.state.postToFeed),b("CommentsPluginActions").setPrivacyOption(this.state.privacyOption),b("CommentsPluginActions").addComment()}.bind(this),this.state={selectedActorID:b("CommentsPluginStore").getUser().id,postToFeed:!1,ablePostToFeed:!1,commentLength:0,waitingAsyncResponse:!1,unableToPost:!1,privacyOption:"everyone"}}b.__markCompiled&&b.__markCompiled();var k=b("Grid.react").GridItem;i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.componentDidMount=function(){b("CommentsPluginStore").addListener("composerChange",function(){var l=b("CommentsPluginStore").getCreateComposerContent().visibleValue,m=l.trim().length;this.setState({commentLength:m,ablePostToFeed:m>=b("CommentsPluginStore").getMinFeedLength(),unableToPost:m>b("CommentsPluginStore").getMaxCommentLength()})}.bind(this)),b("CommentsPluginStore").addListener("composerCommentAdded",function(){this.setState({waitingAsyncResponse:!1}),this.refs.composer.resetAttachment()}.bind(this)),b("CommentsPluginStore").addListener("login",function(){this.setState({waitingAsyncResponse:!1})}.bind(this)),b("CommentsPluginStore").addListener("actorChange",function(){this.refs.composer.resetAttachment(),this.forceUpdate()}.bind(this)),b("CommentsPluginStore").addListener("previousPostToFeedPrefill",function(){this.setState({postToFeed:b("CommentsPluginStore").getPostToFeed()})}.bind(this))},h.prototype.$CommentsPluginComposerComment4=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||b("CommentsPluginStore").isEmptyCreateComposer()},h.prototype.render=function(){var l=b("CommentsPluginStore").isLoggedIn()?g._("\u0110\u0103ng"):g._("\u0110\u0103ng nh\u1eadp v\u00e0o b\u00e0i vi\u1ebft"),m=b("CommentsPluginStore").getMinFeedLength()-this.state.commentLength;return b("React").createElement(b("CommentsPluginComposer.react"),{allowPhotoAttachments:b("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:b("CommentsPluginStore").getEnableSticker(),ref:"composer",className:"_2392",readOnly:this.state.waitingAsyncResponse,unableToPost:this.state.unableToPost},b("React").createElement(b("LeftRight.react"),{className:"_5tr6 clearfix _2ph-"},b("CommentsPluginStore").isMirrored()?b("React").createElement("span",null):b("React").createElement(b("Grid.react"),{cols:1},b("React").createElement(k,null,b("React").createElement(b("InputLabel.react"),{className:"_1u0n"},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment2}),b("React").createElement("label",{className:"_3-99 _2ern _50f8 _5kx5"},g._("C\u0169ng \u0111\u0103ng l\u00ean Facebook")))),b("React").createElement(k,null,this.state.postToFeed&&!this.state.ablePostToFeed?g._({"*":{"character":"Vi\u1ebft th\u00eam {lengthRemain} k\u00fd t\u1ef1 \u0111\u1ec3 \u0111\u0103ng l\u00ean Facebook","characters":"Vi\u1ebft th\u00eam {lengthRemain} k\u00fd t\u1ef1 \u0111\u1ec3 \u0111\u0103ng l\u00ean Facebook"}},[g.param("lengthRemain",m,[0]),g["enum"](1==m?"character":"characters",{character:"character",characters:"characters"})]):b("React").createElement("span",null))),b("React").createElement("span",null,b("React").createElement(b("CommentsPluginAuthorSelector.react"),null),b("CommentsPluginConfig").commentPrivacy&&this.state.postToFeed?b("React").createElement(b("CommentsPluginPrivacySelector.react"),{privacyOption:this.state.privacyOption,onChange:this.$CommentsPluginComposerComment1,addlPrivacyOptions:b("CommentsPluginStore").getPrivacyOptionsList()}):null,b("React").createElement(b("XUIButton.react"),{disabled:this.$CommentsPluginComposerComment4(),label:l,use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment3}))))},e.exports=h},null);
__d("CommentsPluginFooter.react",["cx","ImageBlock.react","React","XDeveloperDocumentationController"],function(a,b,c,d,e,f,cx){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){return b("React").createElement("div",{className:"_5lm5 _2pi3 _3-8y"},b("React").createElement(b("ImageBlock.react"),null,b("React").createElement("img",{src:"/images/like/icons/fav.png"}),b("React").createElement("a",{target:"_blank",href:b("XDeveloperDocumentationController").getURIBuilder().setString("path1","plugins").setString("path2","comments").getURI().setSubdomain("developers")},"Facebook Comments Plugin")))},e.exports=g},null);
__d("CommentsPluginHeader.react",["cx","fbt","CommentsPluginActions","CommentsPluginStore","DeveloperCommentsPluginOrdering","LeftRight.react","Link.react","React","XUISelector.react","XUISpinner.react","XUIText.react"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(l){j.constructor.call(this,l),this.$CommentsPluginHeader1=function(m){this.setState({sorting:!0}),b("CommentsPluginStore").addListener("sortingCompleted",function(){this.setState({sorting:!1}),b("CommentsPluginStore").removeCurrentListener()}.bind(this)),b("CommentsPluginActions").sort(m.value)}.bind(this),this.state={sorting:!1}}b.__markCompiled&&b.__markCompiled();var k=b("XUISelector.react").Option;i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.componentDidMount=function(){b("CommentsPluginStore").addListener("commentsCountChange",function(){this.forceUpdate()}.bind(this))},h.prototype.render=function(){var l=null,m=null;b("CommentsPluginStore").getModerateURL()&&(l=b("React").createElement("span",null,b("React").createElement("span",{className:"_52bm"},"|"),b("React").createElement(b("Link.react"),{href:b("CommentsPluginStore").getModerateURL(),target:"_blank"},g._("C\u00f4ng c\u1ee5 ki\u1ec3m duy\u1ec7t")))),b("CommentsPluginStore").isDeeplinkComment()&&(m=b("React").createElement("span",null,b("React").createElement("span",{className:"_52bm"},"|"),b("React").createElement(b("Link.react"),{href:b("CommentsPluginStore").getOriginalLink(),target:"_blank"},g._("Li\u00ean k\u1ebft ban \u0111\u1ea7u"))));var n=b("DeveloperCommentsPluginOrdering").__types.filter(function(o){return"social"!==o||b("CommentsPluginStore").isRankingAllowed()});return b("React").createElement(b("LeftRight.react"),{className:"_491z"},b("React").createElement("span",null,b("React").createElement(b("XUIText.react"),{weight:"bold"},1===b("CommentsPluginStore").getCommentsCount()?g._("1 b\u00ecnh lu\u1eadn"):g._("{count} b\u00ecnh lu\u1eadn",[g.param("count",b("CommentsPluginStore").getCommentsCount())])),l,m),b("React").createElement("div",null,this.state.sorting?b("React").createElement(b("XUISpinner.react"),{size:"small",className:"_3-90"}):null,b("React").createElement("span",{className:"_pup"},g._("S\u1eafp x\u1ebfp theo"))," ",b("React").createElement(b("XUISelector.react"),{alignh:"right",className:"_3-8_",initialValue:b("CommentsPluginStore").getCurrentSorting(),onChange:this.$CommentsPluginHeader1},n.map(function(o){return b("React").createElement(k,{value:o,key:o},b("DeveloperCommentsPluginOrdering").__labels[o])}))))},e.exports=h},null);
__d("CommentsPluginCommentActions.react",["cx","fbt","ActionList.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","Link.react","MixinCommentsPluginConfirmAction","React","UFICommentMetadata.react","classWithMixins","mixin"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(){for(var l,m,n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$CommentsPluginCommentActions1=function(){b("CommentsPluginActions").like(this.props.commentID)}.bind(this),this.$CommentsPluginCommentActions2=function(){b("CommentsPluginActions").showReplyComposer(this.props.commentID)}.bind(this),this.$CommentsPluginCommentActions3=function(){b("CommentsPluginActions").flag(this.props.commentID)}.bind(this),m}b.__markCompiled&&b.__markCompiled();var k=b("React").PropTypes;i=babelHelpers.inherits(h,b("classWithMixins")(b("React").Component,b("mixin")(b("MixinCommentsPluginConfirmAction")))),j=i&&i.prototype,h.prototype.$CommentsPluginCommentActions4=function(l){return!l.canLike&&b("CommentsPluginStore").isLoggedIn()?null:b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentActions1},l.hasLiked?g._("B\u1ecf th\u00edch"):g._("Th\u00edch"))},h.prototype.$CommentsPluginCommentActions5=function(){return b("CommentsPluginStore").isThreadClosed()||b("CommentsPluginStore").shouldSwitchAccount()?null:b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentActions2},g._("Ph\u1ea3n h\u1ed3i"))},h.prototype.render=function(){var l=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement(b("ActionList.react"),{className:"_2vq9"},this.$CommentsPluginCommentActions4(l),this.$CommentsPluginCommentActions5(),b("CommentsPluginStore").isMobile()?l.canEdit?b("React").createElement(b("Link.react"),{onClick:this.confirmAction.bind(this,b("CommentsPluginAction").DELETE,this.props.commentID)},g._("X\u00f3a")):b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentActions3},g._("\u0110\u00e1nh d\u1ea5u l\u00e0 spam")):null,l.likeCount?b("React").createElement("span",null,b("React").createElement(b("Image.react"),{src:"/images/ufi/fbfeed/like.png",className:"_3-8_ _4iy4"}),l.likeCount):null,b("React").createElement(b("UFICommentMetadata.react"),{comment:l,permalink:b("CommentsPluginStore").getPermalink(this.props.commentID),shortenTimestamp:!0,showPermalink:!b("CommentsPluginStore").isReply(this.props.commentID),permalinkTarget:"_blank",contextArgs:{}}),b("CommentsPluginStore").isMobile()?this.renderActionConfirmationDialog():null)},h.propTypes={commentID:k.string.isRequired},e.exports=h},null);
__d("CommentsPluginComposerEdit.react",["cx","fbt","CommentsPluginActions","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(l,m){j.constructor.call(this,l,m),this.$CommentsPluginComposerEdit3=function(){this.setState({waitingAsyncResponse:!0}),b("CommentsPluginActions").saveEdit(this.props.commentID)}.bind(this),this.$CommentsPluginComposerEdit4=function(){this.refs.composer.resetAttachment(),b("CommentsPluginActions").cancelEdit(this.props.commentID)}.bind(this),this.state={waitingAsyncResponse:!1,unableToPost:!1},this.$CommentsPluginComposerEdit1=null}b.__markCompiled&&b.__markCompiled();var k=b("React").PropTypes;i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit1=b("CommentsPluginStore").addListener("composerChange",function(){var l=b("CommentsPluginStore").getEditComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:l.trim().length>b("CommentsPluginStore").getMaxCommentLength()}),this.forceUpdate()}.bind(this)),this.$CommentsPluginComposerEdit2=b("CommentsPluginStore").addListener("actorChange",function(){this.refs.composer.resetAttachment(),this.forceUpdate()}.bind(this))},h.prototype.componentWillUnmount=function(){this.$CommentsPluginComposerEdit1&&this.$CommentsPluginComposerEdit1.remove(),this.$CommentsPluginComposerEdit2&&this.$CommentsPluginComposerEdit2.remove()},h.prototype.$CommentsPluginComposerEdit5=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||b("CommentsPluginStore").isEmptyEditComposer(this.props.commentID)},h.prototype.render=function(){var l=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement(b("CommentsPluginComposer.react"),{alwaysExpanded:!0,ref:"composer",prefillText:l.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:b("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:b("CommentsPluginStore").getEnableSticker(),editCommentID:this.props.commentID,unableToPost:this.state.unableToPost},b("React").createElement("div",{className:"_5tr6 clearfix _2ph_"},b("React").createElement(b("XUIButton.react"),{disabled:this.$CommentsPluginComposerEdit5(),label:g._("L\u01b0u"),use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit3}),b("React").createElement(b("XUIButton.react"),{disabled:this.state.waitingAsyncResponse,label:g._("H\u1ee7y"),use:"default",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit4})),this.props.children)},h.propTypes={commentID:k.string.isRequired},e.exports=h},null);
__d("CommentsPluginComposerReply.react",["cx","fbt","CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","React","ReactDOM","XUIButton.react"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(l,m){j.constructor.call(this,l,m),this.$CommentsPluginComposerReply3=function(){this.setState({waitingAsyncResponse:!0}),b("CommentsPluginActions").addReply(this.props.commentID),this.refs.composer.resetAttachment()}.bind(this),this.$CommentsPluginComposerReply4=function(){this.refs.composer.resetAttachment(),b("CommentsPluginActions").cancelReply(this.props.commentID)}.bind(this),this.state={waitingAsyncResponse:!1,unableToPost:!1},this.$CommentsPluginComposerReply1=null}b.__markCompiled&&b.__markCompiled();var k=b("React").PropTypes;i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply1=b("CommentsPluginStore").addListener("composerChange",function(){var m=b("CommentsPluginStore").getCreateComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:m.trim().length>b("CommentsPluginStore").getMaxCommentLength()}),this.forceUpdate()}.bind(this)),this.$CommentsPluginComposerReply2=b("CommentsPluginStore").addListener("actorChange",function(){this.refs.composer.resetAttachment(),this.forceUpdate()}.bind(this));var l=b("ReactDOM").findDOMNode(this);l.scrollIntoView&&l.scrollIntoView()},h.prototype.componentWillUnmount=function(){this.$CommentsPluginComposerReply1&&this.$CommentsPluginComposerReply1.remove(),this.$CommentsPluginComposerReply2&&this.$CommentsPluginComposerReply2.remove()},h.prototype.$CommentsPluginComposerReply5=function(){return this.state.waitingAsyncResponse||this.state.unableToPost||b("CommentsPluginStore").isEmptyCreateComposer(this.props.commentID)},h.prototype.render=function(){var l=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement(b("CommentsPluginComposer.react"),{allowPhotoAttachments:b("CommentsPluginStore").getEnablePhoto(),allowStickerAttachments:b("CommentsPluginStore").getEnableSticker(),ref:"composer",alwaysExpanded:!0,prefillText:l.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,unableToPost:this.state.unableToPost,placeholder:g._("Th\u00eam ph\u1ea3n h\u1ed3i...")},b("React").createElement("div",{className:"_5tr6 clearfix _2ph_"},b("React").createElement(b("CommentsPluginAuthorSelector.react"),null),b("React").createElement(b("XUIButton.react"),{disabled:this.state.waitingAsyncResponse,label:g._("H\u1ee7y"),use:"default",className:"_3-99",onClick:this.$CommentsPluginComposerReply4}),b("React").createElement(b("XUIButton.react"),{disabled:this.$CommentsPluginComposerReply5(),label:g._("Tr\u1ea3 l\u1eddi"),use:"confirm",className:"_3-99",onClick:this.$CommentsPluginComposerReply3})))},h.propTypes={commentID:k.string.isRequired},e.exports=h},null);
__d("CommentsPluginMenu.react",["fbt","ix","CommentsPluginAction","CommentsPluginActions","CommentsPluginConfig","CommentsPluginStore","Image.react","MixinCommentsPluginConfirmAction","ReactXUIMenu","PopoverMenu.react","React","Tooltip","classWithMixins","mixin"],function(a,b,c,d,e,f,g,ix){"use strict";var i,j;function h(m,n){j.constructor.call(this,m,n),this.$CommentsPluginMenu1=function(){this.setState({opened:!0})}.bind(this),this.$CommentsPluginMenu2=function(){this.setState({opened:!1})}.bind(this),this.$CommentsPluginMenu4=function(o,p){var q=p.item.getValue();this.requiresConfirmation(q)?this.confirmAction(q,this.props.commentID,p.event.pageY):q===b("CommentsPluginAction").SHOW||q===b("CommentsPluginAction").COLLAPSE?this.$CommentsPluginMenu3():b("CommentsPluginActions")[q](this.props.commentID)}.bind(this),this.state={opened:!1}}b.__markCompiled&&b.__markCompiled();var k=b("React").PropTypes,l=b("ReactXUIMenu").Item;i=babelHelpers.inherits(h,b("classWithMixins")(b("React").Component,b("mixin")(b("MixinCommentsPluginConfirmAction")))),j=i&&i.prototype,h.prototype.isOpen=function(){return this.state.opened},h.prototype.$CommentsPluginMenu3=function(){b("CommentsPluginActions").toggleVisibility(this.props.commentID)},h.prototype.$CommentsPluginMenu5=function(m,n){var o=b("CommentsPluginStore").isReply(n.id),p=b("CommentsPluginStore").getUser().id===b("CommentsPluginStore").getAuthor(n.id).id;switch(m){case b("CommentsPluginAction").DELETE:if(!n.canEdit||!p)return null;break;case b("CommentsPluginAction").EDIT:if(!n.canEdit||b("CommentsPluginStore").isThreadClosed()||!p)return null;break;case b("CommentsPluginAction").FLAG:if(n.canEdit||n.collapsed||n.flagged)return null;break;case b("CommentsPluginAction").COLLAPSE:if(o||n.collapsed||n.flagged)return null;break;case b("CommentsPluginAction").BAN:case b("CommentsPluginAction").HIDE:if(!b("CommentsPluginStore").isViewerModerator())return null;break;case b("CommentsPluginAction").REPORT:if(!n.reportURI||n.canEdit)return null;break;case b("CommentsPluginAction").EMBED:var q=n.canEmbed;if(o){var r=b("CommentsPluginStore").getByID(n.targetID);q=q&&r.canEmbed}if(n.flagged||!b("CommentsPluginConfig").commentEmbed||!q)return null;break;default:}return b("React").createElement(l,{value:m,key:m},b("CommentsPluginAction").getLabel(m))},h.prototype.render=function(){var m=b("CommentsPluginStore").getByID(this.props.commentID);return b("React").createElement("div",null,b("React").createElement(b("PopoverMenu.react"),{alignh:"right",onShow:this.$CommentsPluginMenu1,onHide:this.$CommentsPluginMenu2,menu:b("React").createElement(b("ReactXUIMenu"),{onItemClick:this.$CommentsPluginMenu4},b("CommentsPluginAction").getMenuActions().map(function(n){return this.$CommentsPluginMenu5(n,m)}.bind(this)))},b("React").createElement("a",null,b("React").createElement(b("Image.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(g._("Menu")),{src:ix("/images/plugins/comments/chevron-down.png")})))),this.renderActionConfirmationDialog())},h.propTypes={commentID:k.string.isRequired},e.exports=h},null);
__d("CommentsPluginComment.react",["cx","fbt","xuiglyph","ActorBio.react","Badge.react","CenteredContainer.react","CommentsPluginActions","CommentsPluginCommentActions.react","CommentsPluginComposerEdit.react","CommentsPluginProfilePicture.react","CommentsPluginMenu.react","CommentsPluginComposerReply.react","CommentsPluginStore","HovercardLinkInterpolator","Link.react","Image.react","React","TruncatedTextWithEntities.react","UFIActor.react","UFICommentAttachment.react","UFICommentUtils","UFIImageBlock.react","XUIGrayText.react","XUISpinner.react","XUIText.react","joinClasses","nullthrows"],function(a,b,c,d,e,f,cx,g,h){"use strict";var k,l,m,n;function i(p,q){l.constructor.call(this,p,q),this.$CommentsPluginComment1=function(){this.setState({showMenu:!0})}.bind(this),this.$CommentsPluginComment2=function(){this.refs.menu&&this.refs.menu.isOpen()||this.setState({showMenu:!1})}.bind(this),this.$CommentsPluginComment3=function(){var r=b("nullthrows")(b("CommentsPluginStore").getByID(this.props.commentID));r.collapsed?b("CommentsPluginActions").toggleVisibility(this.props.commentID):r.flagged&&b("CommentsPluginActions").unflag(this.props.commentID)}.bind(this),this.state={showMenu:!1}}function j(p,q){n.constructor.call(this,p,q),this.$CommentsPluginCommentReplies1=function(){this.setState({loading:!0}),b("CommentsPluginStore").addListener("moreRepliesCompleted",function(r){this.props.commentID===r.commentID&&(this.setState({loading:!1}),b("CommentsPluginStore").removeCurrentListener())}.bind(this)),b("CommentsPluginActions").showMoreReplies(this.props.commentID)}.bind(this),this.state={loading:!1}}b.__markCompiled&&b.__markCompiled();var o=b("React").PropTypes;k=babelHelpers.inherits(i,b("React").Component),l=k&&k.prototype,i.prototype.render=function(){var p=b("nullthrows")(b("CommentsPluginStore").getByID(this.props.commentID));if(p.deleted)return null;if(p.editor)return b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("CommentsPluginComposerEdit.react"),{commentID:this.props.commentID}),b("React").createElement(j,{commentID:this.props.commentID,className:"_3j_p"}));var q=b("UFICommentUtils").shallowCopyRanges(p.ranges),r=b("UFICommentUtils").getCommentTextWithTruncatedURIs(q,p.body.text),s=null;p.collapsed||p.flagged?s=b("React").createElement("div",{className:"_5mlf"},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},g._("B\u00ecnh lu\u1eadn n\u00e0y \u0111\u01b0\u1ee3c {action}",[g.param("action",p.collapsed?"collapsed. ":"marked as spam. ")]),b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginComment3},g._("Ho\u00e0n t\u00e1c")))):(p.photoComment&&(p.photo_comment=p.photoComment,delete p.photoComment),s=b("React").createElement("div",{className:"_30o4"},r?b("React").createElement(b("TruncatedTextWithEntities.react"),babelHelpers["extends"]({className:"_5mdd",text:r,ranges:q,interpolator:function x(y,z){return b("HovercardLinkInterpolator")(y,z,"_blank")}},b("CommentsPluginStore").getCommentBodyTruncationLimits(),{renderEmoticons:!0,renderEmoji:!0})):null,b("React").createElement(b("UFICommentAttachment.react"),{comment:p,disableTheater:!0})));var t=b("nullthrows")(b("CommentsPluginStore").getByID(p.authorID)),u=b("CommentsPluginStore").isOptimisticComment(p),v=b("CommentsPluginStore").isReply(this.props.commentID),w=b("CommentsPluginStore").isMobile();return b("React").createElement(b("UFIImageBlock.react"),{className:"_3-8y"+(v?"":" "+"_5nz1"),spacing:"medium",onMouseEnter:this.$CommentsPluginComment1,onMouseLeave:this.$CommentsPluginComment2},b("React").createElement(b("CommentsPluginProfilePicture.react"),{href:t.uri,src:t.thumbSrc,isReply:v,target:"_blank"}),b("React").createElement("div",null,b("React").createElement(b("UFIActor.react"),{author:t,delimiter:w?" ":void 0,key:"author",showHovercard:!w,target:"_blank"},t.isVerified?b("React").createElement(b("Badge.react"),{key:"badge",size:"xsmall",type:"verified"}):null,t.bio?b("React").createElement("div",{className:"_4q1v"},b("React").createElement(b("ActorBio.react"),{target:"_blank",preferredTypes:t.bio.preferredTypes,stats:t.bio.stats})):null),b("React").createElement("div",{className:"_3-8m"},s),u||p.collapsed||p.flagged?null:b("React").createElement(b("CommentsPluginCommentActions.react"),{commentID:this.props.commentID}),b("React").createElement(j,{commentID:this.props.commentID})),b("React").createElement("div",null,!this.state.showMenu||u||w?null:b("React").createElement(b("CommentsPluginMenu.react"),{ref:"menu",commentID:this.props.commentID})))},i.propTypes={commentID:o.string.isRequired},m=babelHelpers.inherits(j,b("React").Component),n=m&&m.prototype,j.prototype.render=function(){var p=b("CommentsPluginStore").getByID(this.props.commentID),q=p.public_replies;if(q===void 0||!0===p.collapsed||p.flagged)return p.composer?b("React").createElement("div",{className:b("joinClasses")("_44ri _2pis _3-8y",this.props.className)},b("React").createElement(b("CommentsPluginComposerReply.react"),{commentID:this.props.commentID})):null;q.commentIDs||(q.commentIDs=[]);var r=q.totalCount-q.commentIDs.length,s=b("CommentsPluginStore").getPageSize(),t=r<s?r:s;return b("React").createElement("div",{className:b("joinClasses")("_44ri _2pis",this.props.className)},q.commentIDs.map(function(u){return u===this.props.commentID?null:b("React").createElement(i,{commentID:u,key:u})}.bind(this)),b("CommentsPluginStore").hasUnloadedReplies(this.props.commentID)&&0<r?b("React").createElement("div",{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("XUISpinner.react"),{size:"small"})):b("React").createElement(b("Link.react"),{onClick:this.$CommentsPluginCommentReplies1},b("React").createElement(b("XUIText.react"),{size:"small",weight:"bold"},1===t?g._("Hi\u1ec3n th\u1ecb th\u00eam 1 ph\u1ea3n h\u1ed3i trong chu\u1ed7i n\u00e0y"):g._("Hi\u1ec3n th\u1ecb th\u00eam {number of replies} ph\u1ea3n h\u1ed3i trong chu\u1ed7i n\u00e0y",[g.param("number of replies",t)])),b("React").createElement(b("Image.react"),{src:h({name:"triangle-down"})}))):null,p.composer?b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("CommentsPluginComposerReply.react"),{commentID:this.props.commentID})):null)},j.propTypes={commentID:o.string.isRequired},e.exports=i},null);
__d("CommentsPluginLoadMore.react",["cx","fbt","CenteredContainer.react","CommentsPluginActions","CommentsPluginStore","React","XUIButton.react","XUISpinner.react"],function(a,b,c,d,e,f,cx,g){"use strict";var i,j;function h(k,l){j.constructor.call(this,k,l),this.$CommentsPluginLoadMore1=function(){b("CommentsPluginActions").showMoreComments(),this.setState({loading:!0}),b("CommentsPluginStore").addListener("moreCommentsCompleted",function(){this.setState({loading:!1}),b("CommentsPluginStore").removeCurrentListener()}.bind(this))}.bind(this),this.state={loading:!1}}b.__markCompiled&&b.__markCompiled(),i=babelHelpers.inherits(h,b("React").Component),j=i&&i.prototype,h.prototype.render=function(){var k=b("CommentsPluginStore").getUnloadedCommentsCount();if(!b("CommentsPluginStore").hasUnloadedComments()||1>k)return null;if(this.state.loading)return b("React").createElement(b("CenteredContainer.react"),{className:"_ndl"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));var l=b("CommentsPluginStore").getPageSize(),m=k<l?k:l;return b("React").createElement("div",{className:"_5o4h"},b("React").createElement(b("XUIButton.react"),{className:"_1gl3",role:"button",onClick:this.$CommentsPluginLoadMore1,label:1===m?g._("T\u1ea3i th\u00eam 1 b\u00ecnh lu\u1eadn"):g._("T\u1ea3i th\u00eam {pagesize} b\u00ecnh lu\u1eadn",[g.param("pagesize",m)])}))},e.exports=h},null);
__d("CommentsPluginListing.react",["cx","CommentsPluginComment.react","CommentsPluginLoadMore.react","CommentsPluginStore","React"],function(a,b,c,d,e,f,cx){"use strict";var h;function g(){h.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("React").Component),h&&h.prototype,g.prototype.render=function(){var i=b("CommentsPluginStore").getCommentIDs(),j=i.map(function(k){return b("React").createElement(b("CommentsPluginComment.react"),{commentID:k,key:k})});return b("React").createElement("div",{className:"_4k-6"},j,b("React").createElement(b("CommentsPluginLoadMore.react"),null))},e.exports=g},null);
__d("CommentsPluginNotice.react",["fbt","CommentsPluginStore","React","XUINotice.react"],function(a,b,c,d,e,f,g){"use strict";var i;function h(){i.apply(this,arguments)}b.__markCompiled&&b.__markCompiled(),i=babelHelpers.inherits(h,b("React").Component),i&&i.prototype,h.prototype.render=function(){return b("CommentsPluginStore").isThreadClosed()?b("React").createElement(b("XUINotice.react"),{use:"notify"},g._("Chu\u1ed7i n\u00e0y \u0111\u00e3 \u0111\u00f3ng")):b("CommentsPluginStore").shouldSwitchAccount()?b("React").createElement(b("XUINotice.react"),{use:"notify"},g._("Vui l\u00f2ng chuy\u1ec3n sang t\u00e0i kho\u1ea3n c\u00e1 nh\u00e2n \u0111\u1ec3 \u0111\u0103ng b\u00ecnh lu\u1eadn.")):null},e.exports=h},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],(function(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled(),f.exports=c("XController").create("/plugins/comments/{comment_id}/async/confirm/publish/dialog/",{comment_id:{type:"String",required:!0},plugin_width:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("CommentsPlugin.react",["cx","fbt","AsyncDialog","AsyncRequest","CommentsPluginActions","CommentsPluginComposerComment.react","CommentsPluginFooter.react","CommentsPluginHeader.react","CommentsPluginListing.react","CommentsPluginNotice.react","CommentsPluginStore","XPluginCommentsConfirmPostToFacebookAsyncDialogController","DOMQuery","PluginResize","React","ReactDOM","CommentsPluginSentryAction","SimpleXUIDialog","getElementPosition","joinClasses"],function(a,b,c,d,e,f,cx,g){"use strict";var i;function h(){i.apply(this,arguments)}b.__markCompiled&&b.__markCompiled();var j=b("React").PropTypes;i=babelHelpers.inherits(h,b("React").Component),i&&i.prototype,h.prototype.componentWillMount=function(){b("CommentsPluginStore").init(this.props.comments,this.props.meta,this.props.initialOrdering,this.props.rankingAllowed),b("CommentsPluginStore").addListener("postError",function(k){b("SimpleXUIDialog").show(k.errorSummary||g._("R\u1ea5t ti\u1ebfc, \u0111\u00e3 x\u1ea3y ra l\u1ed7i. Vui l\u00f2ng th\u1eed l\u1ea1i sau."),null,null,{width:b("CommentsPluginStore").getDialogWidth()})}),b("CommentsPluginStore").addListener("sentryAction",function(k,l){switch(k){case b("CommentsPluginSentryAction").CONFIRM_POST_TO_PROFILE:var m=b("XPluginCommentsConfirmPostToFacebookAsyncDialogController").getURIBuilder().setString("comment_id",l).setInt("plugin_width",document.body.offsetWidth).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(m).setData({iframe_referer:b("CommentsPluginStore").getIframeReferer(),av:b("CommentsPluginStore").getUser().id,privacy_option:b("CommentsPluginStore").getPrivacyOption()}));break;default:}})},h.prototype.componentDidMount=function(){var k=b("ReactDOM").findDOMNode(this);b("PluginResize").autoHeight(null,k),new(b("PluginResize"))(function(){},function(){var l=k.offsetHeight,m=b("DOMQuery").scry(document.body,".uiLayer:not(.hidden_elem) .uiContextualLayer"),n=b("DOMQuery").scry(document.body,".captcha_dialog");if(0===m.length&&0===n.length)return l;var o=0<m.length?b("getElementPosition")(m[0]):null,p=0<n.length?b("getElementPosition")(n[0]):null;return Math.max(l,o?o.y+o.height+1:0,p?p.height:0)},"resize.iframe",!1).resize().auto(),b("CommentsPluginStore").addListener("change",function(){this.forceUpdate()}.bind(this)),b("CommentsPluginStore").isOptinReturn()&&b("CommentsPluginActions").restorePreviousState()},h.prototype.$CommentsPlugin1=function(){return b("CommentsPluginStore").isThreadClosed()||b("CommentsPluginStore").shouldSwitchAccount()},h.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_56q9",this.props.className)},b("React").createElement("div",{className:"_2pi8"},b("React").createElement(b("CommentsPluginHeader.react"),null),this.$CommentsPlugin1()?b("React").createElement(b("CommentsPluginNotice.react"),null):b("CommentsPluginStore").isDeeplinkComment()?null:b("React").createElement(b("CommentsPluginComposerComment.react"),null),b("React").createElement(b("CommentsPluginListing.react"),null),b("React").createElement(b("CommentsPluginFooter.react"),null)))},h.propTypes={comments:j.object.isRequired,meta:j.object.isRequired,initialOrdering:j.string.isRequired,rankingAllowed:j.bool},e.exports=h},null);
__d('DocumentMentionsRegex',[],function(a,b,c,d,e,f){'use strict';b.__markCompiled&&b.__markCompiled();var g='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%\'"~=<>_:;';e.exports={PUNCTUATION:g,NAME:'\\b[A-Z][^\\s'+g+']'}},null);
__d("AtSignMentionsStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=b("DocumentMentionsRegex").PUNCTUATION,h=["@","\\uff20"].join(""),i=new RegExp("(?:^|\\s|\\()(["+h+"]((?:"+("[^"+h+g+"\\s]")+("(?:\\.[ |$]| |["+g+"]|)){0,20}))$"));e.exports={name:"AtSignMentionsStrategy",findMentionableString:function j(k){var l=i.exec(k);if(null!==l){var m=l[2];if(m.length)return{matchingString:m,leadOffset:l[1].length}}return null}}},null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f){"use strict";b.__markCompiled&&b.__markCompiled();var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+1+",})$)");e.exports={name:"CapitalizedNameMentionsStrategy",findMentionableString:function h(i){var j=g.exec(i);return null===j?null:{matchingString:j[2],leadOffset:j[2].length}}}},null);
__d("DocumentCompositeMentionsSource",["invariant","emptyFunction","nullthrows"],function(a,b,d,e,f,g,h){"use strict";function i(k,l){var m=k.getCharacterList().toSeq().slice(0,l).reverse().takeWhile(function(n){return null===n.getEntity()}).count();return k.getText().slice(l-m,l)}function j(k){0<k.length?void 0:h(0),this.$DocumentCompositeMentionsSource1=k,this.$DocumentCompositeMentionsSource2=!1,this.$DocumentCompositeMentionsSource3=null}b.__markCompiled&&b.__markCompiled(),j.prototype.bootstrap=function(k){function l(){m--,!m&&k&&k()}if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=!0,k=k||b("emptyFunction");var m=this.$DocumentCompositeMentionsSource1.length;this.$DocumentCompositeMentionsSource1.forEach(function(n){n.bootstrap(l)})},j.prototype.search=function(k,l,m){var n=l.getAnchorKey(),o=k.getBlockForKey(n);this.$DocumentCompositeMentionsSource4(i(o,l.getAnchorOffset()),m)},j.prototype.$DocumentCompositeMentionsSource4=function(k,l){for(var m,n,o=this.$DocumentCompositeMentionsSource1.length,p=0;p<o;p++)if(m=this.$DocumentCompositeMentionsSource1[p],n=m.findMatch(k),null===n)continue;else{var q=b("nullthrows")(n).matchingString;return this.$DocumentCompositeMentionsSource3=q,void m.search(q,function(r,s){this.$DocumentCompositeMentionsSource3===s&&l(r,n.leadOffset)}.bind(this))}this.$DocumentCompositeMentionsSource3=null,l(null,null)},f.exports=j},null);
__d("DocumentMentionsSource",["invariant"],function(a,b,c,d,e,f,g){"use strict";function h(i,j){"function"==typeof i.findMentionableString?void 0:g(0),this.$DocumentMentionsSource1=i,this.$DocumentMentionsSource2=j,this.$DocumentMentionsSource3=!1}b.__markCompiled&&b.__markCompiled(),h.prototype.findMatch=function(i){return this.$DocumentMentionsSource1.findMentionableString(i)},h.prototype.bootstrap=function(i){this.$DocumentMentionsSource3||(this.$DocumentMentionsSource3=!0,this.$DocumentMentionsSource2.bootstrap(i))},h.prototype.search=function(i,j){this.$DocumentMentionsSource2.search(i,j,{strategyName:this.$DocumentMentionsSource1.name})},e.exports=h},null);
__d("FilteredSearchSource",["AbstractSearchSource"],function(a,b,c,d,e,f){var h,i;function g(j,k){i.constructor.call(this),this.$FilteredSearchSource1=j,this.$FilteredSearchSource2=k}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("AbstractSearchSource")),i=h&&h.prototype,g.prototype.bootstrapImpl=function(j){this.$FilteredSearchSource2.bootstrap(j)},g.prototype.searchImpl=function(j,k,l){var m=function(n,o){n=this.$FilteredSearchSource3(n,o),k(n,o)}.bind(this);this.$FilteredSearchSource2.search(j,m,l)},g.prototype.$FilteredSearchSource3=function(j,k){var l=this.$FilteredSearchSource1;return j.filter(function(m){return l(m,k)})},e.exports=g},null);
__d("filterCapitalizedNames",["TokenizeUtil"],function(a,b,c,d,e,f){function g(j){var k=j.getAuxiliaryData()||i;return!k.disableAutosuggest&&!!("user"===j.getType()||k.connectedPage)}function h(j,k){return b("TokenizeUtil").isExactMatch(k,j.getTitle())}b.__markCompiled&&b.__markCompiled();var i={};e.exports=function(j,k){return g(j)&&(5<=k.length||h(j,k))}},null);